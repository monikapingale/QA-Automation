<%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
<%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
<div class="slds-grid" style="margin-left: 20%">
  <div class="slds-grid--overflow">
<p id="notice"><%= notice %></p>
    <div role="dialog" tabindex="-1" aria-labelledby="header43" id="test-collection" class="slds-modal slds-scrollable&#45;&#45;y ng-class: action['modal']">
      <div class="slds-modal__container">
        <div class="slds-modal__header">
          <button class="slds-button slds-modal__close slds-button--icon-inverse" title="Close" ng-click="action['modal'] = 'slds-slide-up-close slds-backdrop--close';  username = '' ; password='';">
            <svg aria-hidden="true" class="slds-button__icon slds-button__icon--large">
              <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
            </svg>
            <span class="slds-assistive-text">Close</span>
          </button>
          <h2 id="header43" class="slds-text-heading--medium">Add New Setting</h2>
        </div>
        <div class="slds-modal__content slds-p-around--medium">
          <div class="slds-panel__section">
            <form name="login">
              <div class="slds-form-element slds-m-bottom&#45;&#45;medium">
                <label class="slds-form-element__label" for="name">Name</label>
                <div class="slds-form-element__control">
                  <input id="name" type="text" ng-model="name" class="slds-input" placeholder="" required/>
                </div>
              </div>
              <div class="slds-form-element slds-m-bottom&#45;&#45;medium">
                <label class="slds-form-element__label" for="value">Value</label>
                <div class="slds-form-element__control">
                  <input id="value" type="text" ng-model="value" class="slds-input" placeholder="" required/>
                </div>
              </div>
              {{$error}}
            </form>
          </div>
        </div>
        <div class="slds-modal__footer">
          <button class="slds-button slds-button--destructive" ng-click="action['modal'] = 'slds-slide-up-close slds-backdrop--close' ;  name = '' ; value = '';">Cancel</button>
          <button class="slds-button slds-button--brand" ng-click="addSetting(name,value)" ng-disabled="!(name && value) ">Save</button>
        </div>
      </div>

    </div>
    <div class="slds-backdrop ng-class: action['modal']"></div>
    <div class="slds-grid slds-grid--pull-padded slds-m-bottom--xx-large">
      <div class="slds-float_left">
        <div class="slds-is-relative" style="height: 50%;width: 90%">
          <article class="slds-card">
            <div class="slds-card__header">
              <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__figure">
                </div>
                <div class="slds-media__body">
                  <h2>
                    <button class="slds-button slds-button_icon">
                      <div class="slds-text-heading_small">Add New Setting</div>
                    </button>
                  </h2>

                </div>
              </header>
              <div class="slds-no-flex">

              </div>
            </div>
            <div class="slds-card__body slds-card__body_inner">
              <div class="slds-align_absolute-center" style="padding: 0.5rem; background-color: rgb(244, 246, 249);fill-opacity: initial">
                <div class="slds-no-flex">
                  <button class="slds-button slds-button_neutral" ng-click="action['modal'] = 'slds-slide-up-open slds-backdrop--open'">New</button>
                </div>
              </div>
            </div>
          </article>
        </div>
      </div>
    </div>

<h1>Settings</h1>

<table class="slds-table  slds-table--cell-buffer table-wrapper slds-truncate slds-max-medium-table--stacked" role="grid">
  <thead>
    <tr>
      <th>Name</th>
      <th>Value</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @settings.each do |setting| %>
      <tr>
        <td><%= setting.name %></td>
        <td><%= setting.value %></td>
        <td><%= link_to 'Show', setting %></td>
        <td><%= link_to 'Edit', edit_setting_path(setting) %></td>
        <td><%= link_to 'Destroy', setting, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<!--
<%#= link_to 'New Setting', new_setting_path %>-->
  </div>
</div>
