var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var k,h,f,j,g,e,d;var b=0;while(b<c.length){k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(d)}return a},decode:function(c){var a="";var k,h,f;var j,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){j=this._keyStr.indexOf(c.charAt(b++));g=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));k=(j<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(k);if(e!=64){a=a+String.fromCharCode(h)}if(d!=64){a=a+String.fromCharCode(f)}}return a}};(function(g){if(/1\.(0|1|2)\.(0|1|2)/.test(g.fn.jquery)||/^1.1/.test(g.fn.jquery)){alert("blockUI requires jQuery v1.2.3 or later!  You are using v"+g.fn.jquery);return}g.fn._fadeIn=g.fn.fadeIn;var i=document.documentMode||0;var d=g.browser.msie&&((g.browser.version<8&&!i)||i<8);var e=g.browser.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!i;g.blockUI=function(o){c(window,o)};g.unblockUI=function(o){h(window,o)};g.growlUI=function(s,q,r,o){var p=g('<div class="growlUI"></div>');if(s){p.append("<h1>"+s+"</h1>")}if(q){p.append("<h2>"+q+"</h2>")}if(r==undefined){r=3000}g.blockUI({message:p,fadeIn:700,fadeOut:1000,centerY:false,timeout:r,showOverlay:false,onUnblock:o,css:g.blockUI.defaults.growlCSS})};g.fn.block=function(o){return this.unblock({fadeOut:0}).each(function(){if(g.css(this,"position")=="static"){this.style.position="relative"}if(g.browser.msie){this.style.zoom=1}c(this,o)})};g.fn.unblock=function(o){return this.each(function(){h(this,o)})};g.blockUI.version=2.23;g.blockUI.defaults={message:"<h1>Please wait...</h1>",css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:null,color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,applyPlatformOpacityRules:true,onUnblock:null,quirksmodeOffsetHack:4};var b=null;var f=[];function c(q,o){var B=(q==window);var r=o&&o.message!==undefined?o.message:undefined;o=g.extend({},g.blockUI.defaults,o||{});o.overlayCSS=g.extend({},g.blockUI.defaults.overlayCSS,o.overlayCSS||{});var A=g.extend({},g.blockUI.defaults.css,o.css||{});r=r===undefined?o.message:r;if(B&&b){h(window,{fadeOut:0})}if(r&&typeof r!="string"&&(r.parentNode||r.jquery)){var u=r.jquery?r[0]:r;var y={};g(q).data("blockUI.history",y);y.el=u;y.parent=u.parentNode;y.display=u.style.display;y.position=u.style.position;if(y.parent){y.parent.removeChild(u)}}var C=o.baseZ;var x=(g.browser.msie||o.forceIframe)?g('<iframe class="blockUI" style="z-index:'+(C++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+o.iframeSrc+'"></iframe>'):g('<div class="blockUI" style="display:none"></div>');var w=g('<div class="blockUI blockOverlay" style="z-index:'+(C++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');var s=B?g('<div class="blockUI blockMsg blockPage" style="z-index:'+C+';display:none;position:fixed"></div>'):g('<div class="blockUI blockMsg blockElement" style="z-index:'+C+';display:none;position:absolute"></div>');if(r){s.css(A)}if(!o.applyPlatformOpacityRules||!(g.browser.mozilla&&/Linux/.test(navigator.platform))){w.css(o.overlayCSS)}w.css("position",B?"fixed":"absolute");if(g.browser.msie||o.forceIframe){x.css("opacity",0)}g([x[0],w[0],s[0]]).appendTo(B?"body":q);var F=d&&(!g.boxModel||g("object,embed",B?null:q).length>0);if(e||F){if(B&&o.allowBodyStretch&&g.boxModel){g("html,body").css("height","100%")}if((e||!g.boxModel)&&!B){var G=l(q,"borderTopWidth"),v=l(q,"borderLeftWidth");var E=G?"(0 - "+G+")":0;var p=v?"(0 - "+v+")":0}g.each([x,w,s],function(t,J){var z=J[0].style;z.position="absolute";if(t<2){B?z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+o.quirksmodeOffsetHack+') + "px"'):z.setExpression("height",'this.parentNode.offsetHeight + "px"');B?z.setExpression("width",'jQuery.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):z.setExpression("width",'this.parentNode.offsetWidth + "px"');if(p){z.setExpression("left",p)}if(E){z.setExpression("top",E)}}else{if(o.centerY){if(B){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!o.centerY&&B){var H=(o.css&&o.css.top)?parseInt(o.css.top):0;var I="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+H+') + "px"';z.setExpression("top",I)}}}})}if(r){s.append(r);if(r.jquery||r.nodeType){g(r).show()}}if((g.browser.msie||o.forceIframe)&&o.showOverlay){x.show()}if(o.fadeIn){if(o.showOverlay){w._fadeIn(o.fadeIn)}if(r){s.fadeIn(o.fadeIn)}}else{if(o.showOverlay){w.show()}if(r){s.show()}}k(1,q,o);if(B){b=s[0];f=g(":input:enabled:visible",b);if(o.focusInput){setTimeout(n,20)}}else{a(s[0],o.centerX,o.centerY)}if(o.timeout){var D=setTimeout(function(){B?g.unblockUI(o):g(q).unblock(o)},o.timeout);g(q).data("blockUI.timeout",D)}}function h(r,s){var q=r==window;var p=g(r);var t=p.data("blockUI.history");var u=p.data("blockUI.timeout");if(u){clearTimeout(u);p.removeData("blockUI.timeout")}s=g.extend({},g.blockUI.defaults,s||{});k(0,r,s);var o=q?g("body").children().filter(".blockUI"):g(".blockUI",r);if(q){b=f=null}if(s.fadeOut){o.fadeOut(s.fadeOut);setTimeout(function(){j(o,t,s,r)},s.fadeOut)}else{j(o,t,s,r)}}function j(o,r,q,p){o.each(function(s,t){if(this.parentNode){this.parentNode.removeChild(this)}});if(r&&r.el){r.el.style.display=r.display;r.el.style.position=r.position;if(r.parent){r.parent.appendChild(r.el)}g(r.el).removeData("blockUI.history")}if(typeof q.onUnblock=="function"){q.onUnblock(p,q)}}function k(o,s,t){var r=s==window,q=g(s);if(!o&&(r&&!b||!r&&!q.data("blockUI.isBlocked"))){return}if(!r){q.data("blockUI.isBlocked",o)}if(!t.bindEvents||(o&&!t.showOverlay)){return}var p="mousedown mouseup keydown keypress";o?g(document).bind(p,t,m):g(document).unbind(p,m)}function m(r){if(r.keyCode&&r.keyCode==9){if(b&&r.data.constrainTabKey){var q=f;var p=!r.shiftKey&&r.target==q[q.length-1];var o=r.shiftKey&&r.target==q[0];if(p||o){setTimeout(function(){n(o)},10);return false}}}if(g(r.target).parents("div.blockMsg").length>0){return true}return g(r.target).parents().children().filter("div.blockUI").length==0}function n(o){if(!f){return}var p=f[o===true?f.length-1:0];if(p){p.focus()}}function a(v,o,z){var w=v.parentNode,u=v.style;var q=((w.offsetWidth-v.offsetWidth)/2)-l(w,"borderLeftWidth");var r=((w.offsetHeight-v.offsetHeight)/2)-l(w,"borderTopWidth");if(o){u.left=q>0?(q+"px"):"0"}if(z){u.top=r>0?(r+"px"):"0"}}function l(o,q){return parseInt(g.css(o,q))||0}})(jQuery);(function(a){a.fn.textarearesizer=function(k){var d=a.extend({},a.fn.textarearesizer.defaults,k);var h=a(document);var j=0;var e=0;var i;var b=function(l){i=a(this).prev("textarea");e=i.height();j=f(l).y;h.bind("mousemove.textarearesizer",c);h.bind("mouseup.textarearesizer",g);return false};var c=function(o){var n=f(o).y-j;var l=Math.max(n+e,d.minSize);i.css("height",Math.round(l)+"px");var m=i.attr("sync");if(m){a("#"+m).css("height",l+"px")}return false};var g=function(l){h.unbind(".textarearesizer");i=null};var f=function(l){return{x:h.scrollLeft()+l.clientX,y:h.scrollTop()+l.clientY}};return this.each(function(){var m=a(this);m.addClass("processed textarea-with-grippie");m.wrap('<div class="textarea-resizable"></div>');m.parent().append(a('<div class="textarea-grippie"></div>'));var l=a("div.textarea-grippie",m.parent());l.bind("mousedown.textarearesizer",b)})};a.fn.textarearesizer.defaults={minSize:50}})(jQuery);jQuery.extend({createUploadIframe:function(e,c){var b="jUploadFrame"+e;if(window.ActiveXObject){var a=jQuery.browser.version;if(a.match(/^(6|7)/)){var d=document.createElement('<iframe id="'+b+'" name="'+b+'" />')}else{var d=document.createElement("iframe");d.id=b;d.name=b}if(typeof c=="boolean"){d.src="javascript:false"}else{if(typeof c=="string"){d.src=c}}}else{var d=document.createElement("iframe");d.id=b;d.name=b}d.style.position="absolute";d.style.top="-1000px";d.style.left="-1000px";document.body.appendChild(d);return d},createUploadForm:function(h,b,e){var f="jUploadForm"+h;var a="jUploadFile"+h;var d=$('<form  action="" method="POST" name="'+f+'" id="'+f+'" enctype="multipart/form-data"></form>');$.each(e,function(i,j){var k=$('<input type="hidden" value="" id="'+i+'" name="'+i+'" />');$(k).val(j);$(k).appendTo(d)});var c=$("#"+b);var g=$(c).clone();$(c).attr("id",a);$(c).before(g);$(c).appendTo(d);$(d).css("position","absolute");$(d).css("top","-1200px");$(d).css("left","-1200px");$(d).appendTo("body");return d},ajaxFileUpload:function(s){s=jQuery.extend({},jQuery.ajaxSettings,s);var id=new Date().getTime();var form=jQuery.createUploadForm(id,s.fileElementId,s.data);var io=jQuery.createUploadIframe(id,s.secureuri);var frameId="jUploadFrame"+id;var formId="jUploadForm"+id;if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var requestDone=false;var response;if(s.global){jQuery.event.trigger("ajaxSend",[response,s])}var uploadCallback=function(isTimeout){var io=document.getElementById(frameId);try{if(io.contentWindow){response=io.contentWindow.document.body?io.contentWindow.document.body.innerHTML:null}else{if(io.contentDocument){response=io.contentDocument.document.body?io.contentDocument.document.body.innerHTML:null}}}catch(e){jQuery.handleError(s,response,null,e)}if(response||isTimeout=="timeout"){requestDone=true;var status;try{status=isTimeout!="timeout"?"success":"error";if(status!="error"){var data=eval("data = "+Base64.decode(response));if(s.success){s.success(data,status)}if(s.global){jQuery.event.trigger("ajaxSuccess",[response,s])}}else{jQuery.handleError(s,response,status)}}catch(e){status="error";jQuery.handleError(s,response,status,e)}if(s.global){jQuery.event.trigger("ajaxComplete",[response,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}if(s.complete){s.complete(response,status)}jQuery(io).unbind();setTimeout(function(){try{$(io).remove();$(form).remove()}catch(e){jQuery.handleError(s,response,null,e)}},100);response=null}};if(s.timeout>0){setTimeout(function(){if(!requestDone){uploadCallback("timeout")}},s.timeout)}try{var form=$("#"+formId);$(form).attr("action",s.url);$(form).attr("method","POST");$(form).attr("target",frameId);if(form.encoding){form.encoding="multipart/form-data"}else{form.enctype="multipart/form-data"}$(form).submit()}catch(e){jQuery.handleError(s,response,null,e)}if(window.attachEvent){document.getElementById(frameId).attachEvent("onload",uploadCallback)}else{document.getElementById(frameId).addEventListener("load",uploadCallback,false)}return{abort:function(){}}},handleError:function(b,d,a,c){if(b.error){b.error.call(b.context||window,d,a,c)}if(b.global){(b.context?jQuery(b.context):jQuery.event).trigger("ajaxError",[d,b,c])}}});/*
 * jQuery UI 1.8.10
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,c){a.ui=a.ui||{};if(a.ui.version){return}a.extend(a.ui,{version:"1.8.10",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(d,e){return typeof d==="number"?this.each(function(){var f=this;setTimeout(function(){a(f).focus();if(e){e.call(f)}},d)}):this._focus.apply(this,arguments)},scrollParent:function(){var d;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){d=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}else{d=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!d.length?a(document):d},zIndex:function(g){if(g!==c){return this.css("zIndex",g)}if(this.length){var e=a(this[0]),d,f;while(e.length&&e[0]!==document){d=e.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){f=parseInt(e.css("zIndex"),10);if(!isNaN(f)&&f!==0){return f}}e=e.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(d){d.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(f,d){var e=d==="Width"?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),j={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function h(l,k,i,m){a.each(e,function(){k-=parseFloat(a.curCSS(l,"padding"+this,true))||0;if(i){k-=parseFloat(a.curCSS(l,"border"+this+"Width",true))||0}if(m){k-=parseFloat(a.curCSS(l,"margin"+this,true))||0}});return k}a.fn["inner"+d]=function(i){if(i===c){return j["inner"+d].call(this)}return this.each(function(){a(this).css(g,h(this,i)+"px")})};a.fn["outer"+d]=function(i,k){if(typeof i!=="number"){return j["outer"+d].call(this,i)}return this.each(function(){a(this).css(g,h(this,i,true,k)+"px")})}});function b(d){return !a(d).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.extend(a.expr[":"],{data:function(f,e,d){return !!a.data(f,d[3])},focusable:function(f){var i=f.nodeName.toLowerCase(),d=a.attr(f,"tabindex");if("area"===i){var h=f.parentNode,g=h.name,e;if(!f.href||!g||h.nodeName.toLowerCase()!=="map"){return false}e=a("img[usemap=#"+g+"]")[0];return !!e&&b(e)}return(/input|select|textarea|button|object/.test(i)?!f.disabled:"a"==i?f.href||!isNaN(d):!isNaN(d))&&b(f)},tabbable:function(e){var d=a.attr(e,"tabindex");return(isNaN(d)||d>=0)&&a(e).is(":focusable")}});a(function(){var d=document.body,e=d.appendChild(e=document.createElement("div"));a.extend(e.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=e.offsetHeight===100;a.support.selectstart="onselectstart" in e;d.removeChild(e).style.display="none"});a.extend(a.ui,{plugin:{add:function(e,f,h){var g=a.ui[e].prototype;for(var d in h){g.plugins[d]=g.plugins[d]||[];g.plugins[d].push([f,h[d]])}},call:function(d,f,e){var h=d.plugins[f];if(!h||!d.element[0].parentNode){return}for(var g=0;g<h.length;g++){if(d.options[h[g][0]]){h[g][1].apply(d.element,e)}}}},contains:function(e,d){return document.compareDocumentPosition?e.compareDocumentPosition(d)&16:e!==d&&e.contains(d)},hasScroll:function(g,e){if(a(g).css("overflow")==="hidden"){return false}var d=(e&&e==="left")?"scrollLeft":"scrollTop",f=false;if(g[d]>0){return true}g[d]=1;f=(g[d]>0);g[d]=0;return f},isOverAxis:function(e,d,f){return(e>d)&&(e<(d+f))},isOver:function(i,e,h,g,d,f){return a.ui.isOverAxis(i,h,d)&&a.ui.isOverAxis(e,g,f)}})})(jQuery);
/*
 * jQuery UI Widget 1.8.10
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,d){if(b.cleanData){var c=b.cleanData;b.cleanData=function(e){for(var f=0,g;(g=e[f])!=null;f++){b(g).triggerHandler("remove")}c(e)}}else{var a=b.fn.remove;b.fn.remove=function(e,f){return this.each(function(){if(!f){if(!e||b.filter(e,[this]).length){b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")})}}return a.call(b(this),e,f)})}}b.widget=function(f,h,e){var g=f.split(".")[0],j;f=f.split(".")[1];j=g+"-"+f;if(!e){e=h;h=b.Widget}b.expr[":"][j]=function(k){return !!b.data(k,f)};b[g]=b[g]||{};b[g][f]=function(k,l){if(arguments.length){this._createWidget(k,l)}};var i=new h();i.options=b.extend(true,{},i.options);b[g][f].prototype=b.extend(true,i,{namespace:g,widgetName:f,widgetEventPrefix:b[g][f].prototype.widgetEventPrefix||f,widgetBaseClass:j},e);b.widget.bridge(f,b[g][f])};b.widget.bridge=function(f,e){b.fn[f]=function(i){var g=typeof i==="string",h=Array.prototype.slice.call(arguments,1),j=this;i=!g&&h.length?b.extend.apply(null,[true,i].concat(h)):i;if(g&&i.charAt(0)==="_"){return j}if(g){this.each(function(){var k=b.data(this,f),l=k&&b.isFunction(k[i])?k[i].apply(k,h):k;if(l!==k&&l!==d){j=l;return false}})}else{this.each(function(){var k=b.data(this,f);if(k){k.option(i||{})._init()}else{b.data(this,f,new e(i,this))}})}return j}};b.Widget=function(e,f){if(arguments.length){this._createWidget(e,f)}};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(f,g){b.data(g,this.widgetName,this);this.element=b(g);this.options=b.extend(true,{},this.options,this._getCreateOptions(),f);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(f,g){var e=f;if(arguments.length===0){return b.extend({},this.options)}if(typeof f==="string"){if(g===d){return this.options[f]}e={};e[f]=g}this._setOptions(e);return this},_setOptions:function(f){var e=this;b.each(f,function(g,h){e._setOption(g,h)});return this},_setOption:function(e,f){this.options[e]=f;if(e==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(f,g,h){var k=this.options[f];g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();h=h||{};if(g.originalEvent){for(var e=b.event.props.length,j;e;){j=b.event.props[--e];g[j]=g.originalEvent[j]}}this.element.trigger(g,h);return !(b.isFunction(k)&&k.call(this.element[0],g,h)===false||g.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8.10
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(a,b){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){if(true===a.data(d.target,c.widgetName+".preventClickEvent")){a.removeData(d.target,c.widgetName+".preventClickEvent");d.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(e){e.originalEvent=e.originalEvent||{};if(e.originalEvent.mouseHandled){return}(this._mouseStarted&&this._mouseUp(e));this._mouseDownEvent=e;var d=this,f=(e.which==1),c=(typeof this.options.cancel=="string"?a(e.target).parents().add(e.target).filter(this.options.cancel).length:false);if(!f||c||!this._mouseCapture(e)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=(this._mouseStart(e)!==false);if(!this._mouseStarted){e.preventDefault();return true}}this._mouseMoveDelegate=function(g){return d._mouseMove(g)};this._mouseUpDelegate=function(g){return d._mouseUp(g)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();e.originalEvent.mouseHandled=true;return true},_mouseMove:function(c){if(a.browser.msie&&!(document.documentMode>=9)&&!c.button){return this._mouseUp(c)}if(this._mouseStarted){this._mouseDrag(c);return c.preventDefault()}if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,c)!==false);(this._mouseStarted?this._mouseDrag(c):this._mouseUp(c))}return !this._mouseStarted},_mouseUp:function(c){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(c.target==this._mouseDownEvent.target){a.data(c.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(c)}return false},_mouseDistanceMet:function(c){return(Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance)},_mouseDelayMet:function(c){return this.mouseDelayMet},_mouseStart:function(c){},_mouseDrag:function(c){},_mouseStop:function(c){},_mouseCapture:function(c){return true}})})(jQuery);(function(f,g){f.ui=f.ui||{};var d=/left|center|right/,e=/top|center|bottom/,a="center",b=f.fn.position,c=f.fn.offset;f.fn.position=function(i){if(!i||!i.of){return b.apply(this,arguments)}i=f.extend({},i);var m=f(i.of),l=m[0],o=(i.collision||"flip").split(" "),n=i.offset?i.offset.split(" "):[0,0],k,h,j;if(l.nodeType===9){k=m.width();h=m.height();j={top:0,left:0}}else{if(l.setTimeout){k=m.width();h=m.height();j={top:m.scrollTop(),left:m.scrollLeft()}}else{if(l.preventDefault){i.at="left top";k=h=0;j={top:i.of.pageY,left:i.of.pageX}}else{k=m.outerWidth();h=m.outerHeight();j=m.offset()}}}f.each(["my","at"],function(){var p=(i[this]||"").split(" ");if(p.length===1){p=d.test(p[0])?p.concat([a]):e.test(p[0])?[a].concat(p):[a,a]}p[0]=d.test(p[0])?p[0]:a;p[1]=e.test(p[1])?p[1]:a;i[this]=p});if(o.length===1){o[1]=o[0]}n[0]=parseInt(n[0],10)||0;if(n.length===1){n[1]=n[0]}n[1]=parseInt(n[1],10)||0;if(i.at[0]==="right"){j.left+=k}else{if(i.at[0]===a){j.left+=k/2}}if(i.at[1]==="bottom"){j.top+=h}else{if(i.at[1]===a){j.top+=h/2}}j.left+=n[0];j.top+=n[1];return this.each(function(){var s=f(this),u=s.outerWidth(),r=s.outerHeight(),t=parseInt(f.curCSS(this,"marginLeft",true))||0,q=parseInt(f.curCSS(this,"marginTop",true))||0,w=u+t+(parseInt(f.curCSS(this,"marginRight",true))||0),x=r+q+(parseInt(f.curCSS(this,"marginBottom",true))||0),v=f.extend({},j),p;if(i.my[0]==="right"){v.left-=u}else{if(i.my[0]===a){v.left-=u/2}}if(i.my[1]==="bottom"){v.top-=r}else{if(i.my[1]===a){v.top-=r/2}}v.left=Math.round(v.left);v.top=Math.round(v.top);p={left:v.left-t,top:v.top-q};f.each(["left","top"],function(z,y){if(f.ui.position[o[z]]){f.ui.position[o[z]][y](v,{targetWidth:k,targetHeight:h,elemWidth:u,elemHeight:r,collisionPosition:p,collisionWidth:w,collisionHeight:x,offset:n,my:i.my,at:i.at})}});if(f.fn.bgiframe){s.bgiframe()}s.offset(f.extend(v,{using:i.using}))})};f.ui.position={fit:{left:function(h,i){var k=f(window),j=i.collisionPosition.left+i.collisionWidth-k.width()-k.scrollLeft();h.left=j>0?h.left-j:Math.max(h.left-i.collisionPosition.left,h.left)},top:function(h,i){var k=f(window),j=i.collisionPosition.top+i.collisionHeight-k.height()-k.scrollTop();h.top=j>0?h.top-j:Math.max(h.top-i.collisionPosition.top,h.top)}},flip:{left:function(i,k){if(k.at[0]===a){return}var m=f(window),l=k.collisionPosition.left+k.collisionWidth-m.width()-m.scrollLeft(),h=k.my[0]==="left"?-k.elemWidth:k.my[0]==="right"?k.elemWidth:0,j=k.at[0]==="left"?k.targetWidth:-k.targetWidth,n=-2*k.offset[0];i.left+=k.collisionPosition.left<0?h+j+n:l>0?h+j+n:0},top:function(i,k){if(k.at[1]===a){return}var m=f(window),l=k.collisionPosition.top+k.collisionHeight-m.height()-m.scrollTop(),h=k.my[1]==="top"?-k.elemHeight:k.my[1]==="bottom"?k.elemHeight:0,j=k.at[1]==="top"?k.targetHeight:-k.targetHeight,n=-2*k.offset[1];i.top+=k.collisionPosition.top<0?h+j+n:l>0?h+j+n:0}}};if(!f.offset.setOffset){f.offset.setOffset=function(l,i){if(/static/.test(f.curCSS(l,"position"))){l.style.position="relative"}var k=f(l),n=k.offset(),h=parseInt(f.curCSS(l,"top",true),10)||0,m=parseInt(f.curCSS(l,"left",true),10)||0,j={top:(i.top-n.top)+h,left:(i.left-n.left)+m};if("using" in i){i.using.call(l,j)}else{k.css(j)}};f.fn.offset=function(h){var i=this[0];if(!i||!i.ownerDocument){return null}if(h){return this.each(function(){f.offset.setOffset(this,h)})}return c.call(this)}}}(jQuery));(function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(c);if(!this.handle){return false}return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));if(d.containment){this._setContainment()}if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(c,true);return true},_mouseDrag:function(c,e){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(d){var e=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){e=a.ui.ddmanager.drop(this,d)}if(this.dropped){e=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return false}if((this.options.revert=="invalid"&&!e)||(this.options.revert=="valid"&&e)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e))){var c=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(c._trigger("stop",d)!==false){c._clear()}})}else{if(this._trigger("stop",d)!==false){this._clear()}}return false},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){var d=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target){d=true}});return d},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper=="clone"?this.element.clone():this.element);if(!c.parents("body").length){c.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo))}if(c[0]!=this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode}if(f.containment=="document"||f.containment=="window"){this.containment=[(f.containment=="document"?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(f.containment=="document"?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(f.containment=="document"?0:a(window).scrollLeft())+a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(f.containment=="document"?0:a(window).scrollTop())+(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)&&f.containment.constructor!=Array){var d=a(f.containment)[0];if(!d){return}var e=a(f.containment).offset();var c=(a(d).css("overflow")!="hidden");this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(c?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(c?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}else{if(f.containment.constructor==Array){this.containment=f.containment}}},_convertPositionTo:function(g,i){if(!i){i=this.position}var e=g=="absolute"?1:-1;var f=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(c[0].tagName);return{top:(i.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:c.scrollTop()))*e)),left:(i.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())*e))}},_generatePosition:function(f){var i=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(c[0].tagName);var e=f.pageX;var d=f.pageY;if(this.originalPosition){if(this.containment){if(f.pageX-this.offset.click.left<this.containment[0]){e=this.containment[0]+this.offset.click.left}if(f.pageY-this.offset.click.top<this.containment[1]){d=this.containment[1]+this.offset.click.top}if(f.pageX-this.offset.click.left>this.containment[2]){e=this.containment[2]+this.offset.click.left}if(f.pageY-this.offset.click.top>this.containment[3]){d=this.containment[3]+this.offset.click.top}}if(i.grid){var h=this.originalPageY+Math.round((d-this.originalPageY)/i.grid[1])*i.grid[1];d=this.containment?(!(h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3])?h:(!(h-this.offset.click.top<this.containment[1])?h-i.grid[1]:h+i.grid[1])):h;var g=this.originalPageX+Math.round((e-this.originalPageX)/i.grid[0])*i.grid[0];e=this.containment?(!(g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2])?g:(!(g-this.offset.click.left<this.containment[0])?g-i.grid[0]:g+i.grid[0])):g}}return{top:(d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:c.scrollTop())))),left:(e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:c.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,e)},plugins:{},_uiHash:function(c){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.10"});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h._refreshItems();h._trigger("activate",d,c)}})},stop:function(d,f){var e=a(this).data("draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,g){var f=a(this).data("draggable"),c=this;var e=function(j){var p=this.offset.click.top,n=this.offset.click.left;var h=this.positionAbs.top,l=this.positionAbs.left;var k=j.height,m=j.width;var q=j.top,i=j.left;return a.ui.isOver(h+p,l+n,q,i,k,m)};a.each(f.sortables,function(h){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}f._trigger("fromSortable",d);f.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(d,e){var c=a("body"),f=a(this).data("draggable").options;if(c.css("cursor")){f._cursor=c.css("cursor")}c.css("cursor",f.cursor)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._cursor){a("body").css("cursor",e._cursor)}}});a.ui.plugin.add("draggable","iframeFix",{start:function(c,d){var e=a(this).data("draggable").options;a(e.iframeFix===true?"iframe":e.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},stop:function(c,d){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity")}c.css("opacity",f.opacity)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(d,e){var c=a(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(e,f){var d=a(this).data("draggable"),g=d.options,c=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+g.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-g.scrollSpeed}}}if(!g.axis||g.axis!="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+g.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-g.scrollSpeed}}}}else{if(!g.axis||g.axis!="x"){if(e.pageY-a(document).scrollTop()<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)}}}if(!g.axis||g.axis!="y"){if(e.pageX-a(document).scrollLeft()<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e)}}});a.ui.plugin.add("draggable","snap",{start:function(d,e){var c=a(this).data("draggable"),f=c.options;c.snapElements=[];a(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var h=a(this);var g=h.offset();if(this!=c.element[0]){c.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left})}})},drag:function(u,p){var g=a(this).data("draggable"),q=g.options;var y=q.snapTolerance;var x=p.offset.left,w=x+g.helperProportions.width,f=p.offset.top,e=f+g.helperProportions.height;for(var v=g.snapElements.length-1;v>=0;v--){var s=g.snapElements[v].left,n=s+g.snapElements[v].width,m=g.snapElements[v].top,A=m+g.snapElements[v].height;if(!((s-y<x&&x<n+y&&m-y<f&&f<A+y)||(s-y<x&&x<n+y&&m-y<e&&e<A+y)||(s-y<w&&w<n+y&&m-y<f&&f<A+y)||(s-y<w&&w<n+y&&m-y<e&&e<A+y))){if(g.snapElements[v].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=false;continue}if(q.snapMode!="inner"){var c=Math.abs(m-e)<=y;var z=Math.abs(A-f)<=y;var j=Math.abs(s-w)<=y;var k=Math.abs(n-x)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s-g.helperProportions.width}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n}).left-g.margins.left}}var h=(c||z||j||k);if(q.snapMode!="outer"){var c=Math.abs(m-f)<=y;var z=Math.abs(A-e)<=y;var j=Math.abs(s-x)<=y;var k=Math.abs(n-w)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A-g.helperProportions.height,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[v].snapping&&(c||z||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=(c||z||j||k||h)}}});a.ui.plugin.add("draggable","stack",{start:function(d,e){var g=a(this).data("draggable").options;var f=a.makeArray(a(g.stack)).sort(function(i,h){return(parseInt(a(i).css("zIndex"),10)||0)-(parseInt(a(h).css("zIndex"),10)||0)});if(!f.length){return}var c=parseInt(f[0].style.zIndex)||0;a(f).each(function(h){this.style.zIndex=c+h});this[0].style.zIndex=c+f.length}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex")}c.css("zIndex",f.zIndex)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,c=d.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(c)?c:function(e){return e.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);(d.addClasses&&this.element.addClass("ui-droppable"))},destroy:function(){var c=a.ui.ddmanager.droppables[this.options.scope];for(var d=0;d<c.length;d++){if(c[d]==this){c.splice(d,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(c,d){if(c=="accept"){this.accept=a.isFunction(d)?d:function(e){return e.is(d)}}a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=a.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}(c&&this._trigger("activate",d,this.ui(c)))},_deactivate:function(d){var c=a.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}(c&&this._trigger("deactivate",d,this.ui(c)))},_over:function(d){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",d,this.ui(c))}},_out:function(d){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",d,this.ui(c))}},_drop:function(d,e){var c=e||a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return false}var f=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=a.data(this,"droppable");if(g.options.greedy&&!g.options.disabled&&g.options.scope==c.options.scope&&g.accept.call(g.element[0],(c.currentItem||c.element))&&a.ui.intersect(c,a.extend(g,{offset:g.element.offset()}),g.options.tolerance)){f=true;return false}});if(f){return false}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",d,this.ui(c));return this.element}return false},ui:function(d){return{draggable:(d.currentItem||d.element),helper:d.helper,position:d.position,offset:d.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.10"});a.ui.intersect=function(q,j,o){if(!j.offset){return false}var e=(q.positionAbs||q.position.absolute).left,d=e+q.helperProportions.width,n=(q.positionAbs||q.position.absolute).top,m=n+q.helperProportions.height;var g=j.offset.left,c=g+j.proportions.width,p=j.offset.top,k=p+j.proportions.height;switch(o){case"fit":return(g<=e&&d<=c&&p<=n&&m<=k);break;case"intersect":return(g<e+(q.helperProportions.width/2)&&d-(q.helperProportions.width/2)<c&&p<n+(q.helperProportions.height/2)&&m-(q.helperProportions.height/2)<k);break;case"pointer":var h=((q.positionAbs||q.position.absolute).left+(q.clickOffset||q.offset.click).left),i=((q.positionAbs||q.position.absolute).top+(q.clickOffset||q.offset.click).top),f=a.ui.isOver(i,h,p,g,j.proportions.height,j.proportions.width);return f;break;case"touch":return((n>=p&&n<=k)||(m>=p&&m<=k)||(n<p&&m>k))&&((e>=g&&e<=c)||(d>=g&&d<=c)||(e<g&&d>c));break;default:return false;break}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(f,h){var c=a.ui.ddmanager.droppables[f.options.scope]||[];var g=h?h.type:null;var k=(f.currentItem||f.element).find(":data(droppable)").andSelf();droppablesLoop:for(var e=0;e<c.length;e++){if(c[e].options.disabled||(f&&!c[e].accept.call(c[e].element[0],(f.currentItem||f.element)))){continue}for(var d=0;d<k.length;d++){if(k[d]==c[e].element[0]){c[e].proportions.height=0;continue droppablesLoop}}c[e].visible=c[e].element.css("display")!="none";if(!c[e].visible){continue}c[e].offset=c[e].element.offset();c[e].proportions={width:c[e].element[0].offsetWidth,height:c[e].element[0].offsetHeight};if(g=="mousedown"){c[e]._activate.call(c[e],h)}}},drop:function(c,d){var e=false;a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&a.ui.intersect(c,this,this.options.tolerance)){e=e||this._drop.call(this,d)}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(c.currentItem||c.element))){this.isout=1;this.isover=0;this._deactivate.call(this,d)}});return e},drag:function(c,d){if(c.options.refreshPositions){a.ui.ddmanager.prepareOffsets(c,d)}a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var f=a.ui.intersect(c,this,this.options.tolerance);var h=!f&&this.isover==1?"isout":(f&&this.isover==0?"isover":null);if(!h){return}var g;if(this.options.greedy){var e=this.element.parents(":data(droppable):eq(0)");if(e.length){g=a.data(e[0],"droppable");g.greedyChild=(h=="isover"?1:0)}}if(g&&h=="isover"){g.isover=0;g.isout=1;g._out.call(g,d)}this[h]=1;this[h=="isout"?"isover":"isout"]=0;this[h=="isover"?"_over":"_out"].call(this,d);if(g&&h=="isout"){g.isout=0;g.isover=1;g._over.call(g,d)}})}}})(jQuery);(function(c,d){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var f=this,k=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(k.aspectRatio),aspectRatio:k.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:k.helper||k.ghost||k.animate?k.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){if(/relative/.test(this.element.css("position"))&&c.browser.opera){this.element.css({position:"relative",top:"auto",left:"auto"})}this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=k.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var l=this.handles.split(",");this.handles={};for(var g=0;g<l.length;g++){var j=c.trim(l[g]),e="ui-resizable-"+j;var h=c('<div class="ui-resizable-handle '+e+'"></div>');if(/sw|se|ne|nw/.test(j)){h.css({zIndex:++k.zIndex})}if("se"==j){h.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[j]=".ui-resizable-"+j;this.element.append(h)}}this._renderAxis=function(q){q=q||this.element;for(var n in this.handles){if(this.handles[n].constructor==String){this.handles[n]=c(this.handles[n],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var o=c(this.handles[n],this.element),p=0;p=/sw|ne|nw|se|n|s/.test(n)?o.outerHeight():o.outerWidth();var m=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");q.css(m,p);this._proportionallyResize()}if(!c(this.handles[n]).length){continue}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!f.resizing){if(this.className){var i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}f.axis=i&&i[1]?i[1]:"se"}});if(k.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").hover(function(){c(this).removeClass("ui-resizable-autohide");f._handles.show()},function(){if(!f.resizing){c(this).addClass("ui-resizable-autohide");f._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var f=this.element;f.after(this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(f){var g=false;for(var e in this.handles){if(c(this.handles[e])[0]==f.target){g=true}}return !this.options.disabled&&g},_mouseStart:function(g){var j=this.options,f=this.element.position(),e=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(e.is(".ui-draggable")||(/absolute/).test(e.css("position"))){e.css({position:"absolute",top:f.top,left:f.left})}if(c.browser.opera&&(/relative/).test(e.css("position"))){e.css({position:"relative",top:"auto",left:"auto"})}this._renderProxy();var k=b(this.helper.css("left")),h=b(this.helper.css("top"));if(j.containment){k+=c(j.containment).scrollLeft()||0;h+=c(j.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:k,top:h};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:k,top:h};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=(typeof j.aspectRatio=="number")?j.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var i=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",i=="auto"?this.axis+"-resize":i);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true},_mouseDrag:function(e){var h=this.helper,g=this.options,m={},q=this,j=this.originalMousePosition,n=this.axis;var r=(e.pageX-j.left)||0,p=(e.pageY-j.top)||0;var i=this._change[n];if(!i){return false}var l=i.apply(this,[e,r,p]),k=c.browser.msie&&c.browser.version<7,f=this.sizeDiff;if(this._aspectRatio||e.shiftKey){l=this._updateRatio(l,e)}l=this._respectSize(l,e);this._propagate("resize",e);h.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(l);this._trigger("resize",e,this.ui());return false},_mouseStop:function(h){this.resizing=false;var i=this.options,m=this;if(this._helper){var g=this._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:m.sizeDiff.height,k=e?0:m.sizeDiff.width;var n={width:(m.helper.width()-k),height:(m.helper.height()-f)},j=(parseInt(m.element.css("left"),10)+(m.position.left-m.originalPosition.left))||null,l=(parseInt(m.element.css("top"),10)+(m.position.top-m.originalPosition.top))||null;if(!i.animate){this.element.css(c.extend(n,{top:l,left:j}))}m.helper.height(m.size.height);m.helper.width(m.size.width);if(this._helper&&!i.animate){this._proportionallyResize()}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);if(this._helper){this.helper.remove()}return false},_updateCache:function(e){var f=this.options;this.offset=this.helper.offset();if(a(e.left)){this.position.left=e.left}if(a(e.top)){this.position.top=e.top}if(a(e.height)){this.size.height=e.height}if(a(e.width)){this.size.width=e.width}},_updateRatio:function(h,g){var i=this.options,j=this.position,f=this.size,e=this.axis;if(h.height){h.width=(f.height*this.aspectRatio)}else{if(h.width){h.height=(f.width/this.aspectRatio)}}if(e=="sw"){h.left=j.left+(f.width-h.width);h.top=null}if(e=="nw"){h.top=j.top+(f.height-h.height);h.left=j.left+(f.width-h.width)}return h},_respectSize:function(l,g){var j=this.helper,i=this.options,r=this._aspectRatio||g.shiftKey,q=this.axis,t=a(l.width)&&i.maxWidth&&(i.maxWidth<l.width),m=a(l.height)&&i.maxHeight&&(i.maxHeight<l.height),h=a(l.width)&&i.minWidth&&(i.minWidth>l.width),s=a(l.height)&&i.minHeight&&(i.minHeight>l.height);if(h){l.width=i.minWidth}if(s){l.height=i.minHeight}if(t){l.width=i.maxWidth}if(m){l.height=i.maxHeight}var f=this.originalPosition.left+this.originalSize.width,p=this.position.top+this.size.height;var k=/sw|nw|w/.test(q),e=/nw|ne|n/.test(q);if(h&&k){l.left=f-i.minWidth}if(t&&k){l.left=f-i.maxWidth}if(s&&e){l.top=p-i.minHeight}if(m&&e){l.top=p-i.maxHeight}var n=!l.width&&!l.height;if(n&&!l.left&&l.top){l.top=null}else{if(n&&!l.top&&l.left){l.left=null}}return l},_proportionallyResize:function(){var k=this.options;if(!this._proportionallyResizeElements.length){return}var g=this.helper||this.element;for(var f=0;f<this._proportionallyResizeElements.length;f++){var h=this._proportionallyResizeElements[f];if(!this.borderDif){var e=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],j=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")];this.borderDif=c.map(e,function(l,n){var m=parseInt(l,10)||0,o=parseInt(j[n],10)||0;return m+o})}if(c.browser.msie&&!(!(c(g).is(":hidden")||c(g).parents(":hidden").length))){continue}h.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var f=this.element,i=this.options;this.elementOffset=f.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var e=c.browser.msie&&c.browser.version<7,g=(e?1:0),h=(e?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+h,height:this.element.outerHeight()+h,position:"absolute",left:this.elementOffset.left-g+"px",top:this.elementOffset.top-g+"px",zIndex:++i.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(g,f,e){return{width:this.originalSize.width+f}},w:function(h,f,e){var j=this.options,g=this.originalSize,i=this.originalPosition;return{left:i.left+f,width:g.width-f}},n:function(h,f,e){var j=this.options,g=this.originalSize,i=this.originalPosition;return{top:i.top+e,height:g.height-e}},s:function(g,f,e){return{height:this.originalSize.height+e}},se:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},sw:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]))},ne:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},nw:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]))}},_propagate:function(f,e){c.ui.plugin.call(this,f,[e,this.ui()]);(f!="resize"&&this._trigger(f,e,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.extend(c.ui.resizable,{version:"1.8.10"});c.ui.plugin.add("resizable","alsoResize",{start:function(f,g){var e=c(this).data("resizable"),i=e.options;var h=function(j){c(j).each(function(){var k=c(this);k.data("resizable-alsoresize",{width:parseInt(k.width(),10),height:parseInt(k.height(),10),left:parseInt(k.css("left"),10),top:parseInt(k.css("top"),10),position:k.css("position")})})};if(typeof(i.alsoResize)=="object"&&!i.alsoResize.parentNode){if(i.alsoResize.length){i.alsoResize=i.alsoResize[0];h(i.alsoResize)}else{c.each(i.alsoResize,function(j){h(j)})}}else{h(i.alsoResize)}},resize:function(g,i){var f=c(this).data("resizable"),j=f.options,h=f.originalSize,l=f.originalPosition;var k={height:(f.size.height-h.height)||0,width:(f.size.width-h.width)||0,top:(f.position.top-l.top)||0,left:(f.position.left-l.left)||0},e=function(m,n){c(m).each(function(){var q=c(this),r=c(this).data("resizable-alsoresize"),p={},o=n&&n.length?n:q.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(o,function(s,u){var t=(r[u]||0)+(k[u]||0);if(t&&t>=0){p[u]=t||null}});if(c.browser.opera&&/relative/.test(q.css("position"))){f._revertToRelativePosition=true;q.css({position:"absolute",top:"auto",left:"auto"})}q.css(p)})};if(typeof(j.alsoResize)=="object"&&!j.alsoResize.nodeType){c.each(j.alsoResize,function(m,n){e(m,n)})}else{e(j.alsoResize)}},stop:function(g,h){var f=c(this).data("resizable"),i=f.options;var e=function(j){c(j).each(function(){var k=c(this);k.css({position:k.data("resizable-alsoresize").position})})};if(f._revertToRelativePosition){f._revertToRelativePosition=false;if(typeof(i.alsoResize)=="object"&&!i.alsoResize.nodeType){c.each(i.alsoResize,function(j){e(j)})}else{e(i.alsoResize)}}c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","animate",{stop:function(i,n){var p=c(this).data("resizable"),j=p.options;var h=p._proportionallyResizeElements,e=h.length&&(/textarea/i).test(h[0].nodeName),f=e&&c.ui.hasScroll(h[0],"left")?0:p.sizeDiff.height,l=e?0:p.sizeDiff.width;var g={width:(p.size.width-l),height:(p.size.height-f)},k=(parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left))||null,m=(parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top))||null;p.element.animate(c.extend(g,m&&k?{top:m,left:k}:{}),{duration:j.animateDuration,easing:j.animateEasing,step:function(){var o={width:parseInt(p.element.css("width"),10),height:parseInt(p.element.css("height"),10),top:parseInt(p.element.css("top"),10),left:parseInt(p.element.css("left"),10)};if(h&&h.length){c(h[0]).css({width:o.width,height:o.height})}p._updateCache(o);p._propagate("resize",i)}})}});c.ui.plugin.add("resizable","containment",{start:function(f,r){var t=c(this).data("resizable"),j=t.options,l=t.element;var g=j.containment,k=(g instanceof c)?g.get(0):(/parent/.test(g))?l.parent().get(0):g;if(!k){return}t.containerElement=c(k);if(/document/.test(g)||g==document){t.containerOffset={left:0,top:0};t.containerPosition={left:0,top:0};t.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var n=c(k),i=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){i[p]=b(n.css("padding"+o))});t.containerOffset=n.offset();t.containerPosition=n.position();t.containerSize={height:(n.innerHeight()-i[3]),width:(n.innerWidth()-i[1])};var q=t.containerOffset,e=t.containerSize.height,m=t.containerSize.width,h=(c.ui.hasScroll(k,"left")?k.scrollWidth:m),s=(c.ui.hasScroll(k)?k.scrollHeight:e);t.parentData={element:k,left:q.left,top:q.top,width:h,height:s}}},resize:function(g,q){var t=c(this).data("resizable"),i=t.options,f=t.containerSize,p=t.containerOffset,m=t.size,n=t.position,r=t._aspectRatio||g.shiftKey,e={top:0,left:0},h=t.containerElement;if(h[0]!=document&&(/static/).test(h.css("position"))){e=p}if(n.left<(t._helper?p.left:0)){t.size.width=t.size.width+(t._helper?(t.position.left-p.left):(t.position.left-e.left));if(r){t.size.height=t.size.width/i.aspectRatio}t.position.left=i.helper?p.left:0}if(n.top<(t._helper?p.top:0)){t.size.height=t.size.height+(t._helper?(t.position.top-p.top):t.position.top);if(r){t.size.width=t.size.height*i.aspectRatio}t.position.top=t._helper?p.top:0}t.offset.left=t.parentData.left+t.position.left;t.offset.top=t.parentData.top+t.position.top;var l=Math.abs((t._helper?t.offset.left-e.left:(t.offset.left-e.left))+t.sizeDiff.width),s=Math.abs((t._helper?t.offset.top-e.top:(t.offset.top-p.top))+t.sizeDiff.height);var k=t.containerElement.get(0)==t.element.parent().get(0),j=/relative|absolute/.test(t.containerElement.css("position"));if(k&&j){l-=t.parentData.left}if(l+t.size.width>=t.parentData.width){t.size.width=t.parentData.width-l;if(r){t.size.height=t.size.width/t.aspectRatio}}if(s+t.size.height>=t.parentData.height){t.size.height=t.parentData.height-s;if(r){t.size.width=t.size.height*t.aspectRatio}}},stop:function(f,n){var q=c(this).data("resizable"),g=q.options,l=q.position,m=q.containerOffset,e=q.containerPosition,i=q.containerElement;var j=c(q.helper),r=j.offset(),p=j.outerWidth()-q.sizeDiff.width,k=j.outerHeight()-q.sizeDiff.height;if(q._helper&&!g.animate&&(/relative/).test(i.css("position"))){c(this).css({left:r.left-e.left-m.left,width:p,height:k})}if(q._helper&&!g.animate&&(/static/).test(i.css("position"))){c(this).css({left:r.left-e.left-m.left,width:p,height:k})}}});c.ui.plugin.add("resizable","ghost",{start:function(g,h){var e=c(this).data("resizable"),i=e.options,f=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:"");e.ghost.appendTo(e.helper)},resize:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});c.ui.plugin.add("resizable","grid",{resize:function(e,m){var p=c(this).data("resizable"),h=p.options,k=p.size,i=p.originalSize,j=p.originalPosition,n=p.axis,l=h._aspectRatio||e.shiftKey;h.grid=typeof h.grid=="number"?[h.grid,h.grid]:h.grid;var g=Math.round((k.width-i.width)/(h.grid[0]||1))*(h.grid[0]||1),f=Math.round((k.height-i.height)/(h.grid[1]||1))*(h.grid[1]||1);if(/^(se|s|e)$/.test(n)){p.size.width=i.width+g;p.size.height=i.height+f}else{if(/^(ne)$/.test(n)){p.size.width=i.width+g;p.size.height=i.height+f;p.position.top=j.top-f}else{if(/^(sw)$/.test(n)){p.size.width=i.width+g;p.size.height=i.height+f;p.position.left=j.left-g}else{p.size.width=i.width+g;p.size.height=i.height+f;p.position.top=j.top-f;p.position.left=j.left-g}}}}});var b=function(e){return parseInt(e,10)||0};var a=function(e){return !isNaN(parseInt(e,10))}})(jQuery);(function(d,e){var b="ui-dialog ui-widget ui-widget-content ui-corner-all ",a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},c={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};d.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(g){var f=d(this).css(g).offset().top;if(f<0){d(this).css("top",g.top-f)}}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.options.title=this.options.title||this.originalTitle;var n=this,o=n.options,l=o.title||"&#160;",g=d.ui.dialog.getTitleId(n.element),m=(n.uiDialog=d("<div></div>")).appendTo(document.body).hide().addClass(b+o.dialogClass).css({zIndex:o.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(p){if(o.closeOnEscape&&p.keyCode&&p.keyCode===d.ui.keyCode.ESCAPE){n.close(p);p.preventDefault()}}).attr({role:"dialog","aria-labelledby":g}).mousedown(function(p){n.moveToTop(false,p)}),i=n.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(m),h=(n.uiDialogTitlebar=d("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(m),k=d('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){k.addClass("ui-state-hover")},function(){k.removeClass("ui-state-hover")}).focus(function(){k.addClass("ui-state-focus")}).blur(function(){k.removeClass("ui-state-focus")}).click(function(p){n.close(p);return false}).appendTo(h),j=(n.uiDialogTitlebarCloseText=d("<span></span>")).addClass("ui-icon ui-icon-closethick").text(o.closeText).appendTo(k),f=d("<span></span>").addClass("ui-dialog-title").attr("id",g).html(l).prependTo(h);if(d.isFunction(o.beforeclose)&&!d.isFunction(o.beforeClose)){o.beforeClose=o.beforeclose}h.find("*").add(h).disableSelection();if(o.draggable&&d.fn.draggable){n._makeDraggable()}if(o.resizable&&d.fn.resizable){n._makeResizable()}n._createButtons(o.buttons);n._isOpen=false;if(d.fn.bgiframe){m.bgiframe()}},_init:function(){if(this.options.autoOpen){this.open()}},destroy:function(){var f=this;if(f.overlay){f.overlay.destroy()}f.uiDialog.hide();f.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");f.uiDialog.remove();if(f.originalTitle){f.element.attr("title",f.originalTitle)}return f},widget:function(){return this.uiDialog},close:function(i){var f=this,h,g;if(false===f._trigger("beforeClose",i)){return}if(f.overlay){f.overlay.destroy()}f.uiDialog.unbind("keypress.ui-dialog");f._isOpen=false;if(f.options.hide){f.uiDialog.hide(f.options.hide,function(){f._trigger("close",i)})}else{f.uiDialog.hide();f._trigger("close",i)}d.ui.dialog.overlay.resize();if(f.options.modal){h=0;d(".ui-dialog").each(function(){if(this!==f.uiDialog[0]){g=d(this).css("z-index");if(!isNaN(g)){h=Math.max(h,g)}}});d.ui.dialog.maxZ=h}return f},isOpen:function(){return this._isOpen},moveToTop:function(j,i){var f=this,h=f.options,g;if((h.modal&&!j)||(!h.stack&&!h.modal)){return f._trigger("focus",i)}if(h.zIndex>d.ui.dialog.maxZ){d.ui.dialog.maxZ=h.zIndex}if(f.overlay){d.ui.dialog.maxZ+=1;f.overlay.$el.css("z-index",d.ui.dialog.overlay.maxZ=d.ui.dialog.maxZ)}g={scrollTop:f.element.attr("scrollTop"),scrollLeft:f.element.attr("scrollLeft")};d.ui.dialog.maxZ+=1;f.uiDialog.css("z-index",d.ui.dialog.maxZ);f.element.attr(g);f._trigger("focus",i);return f},open:function(){if(this._isOpen){return}var g=this,h=g.options,f=g.uiDialog;g.overlay=h.modal?new d.ui.dialog.overlay(g):null;g._size();g._position(h.position);f.show(h.show);g.moveToTop(true);if(h.modal){f.bind("keypress.ui-dialog",function(k){if(k.keyCode!==d.ui.keyCode.TAB){return}var j=d(":tabbable",this),l=j.filter(":first"),i=j.filter(":last");if(k.target===i[0]&&!k.shiftKey){l.focus(1);return false}else{if(k.target===l[0]&&k.shiftKey){i.focus(1);return false}}})}d(g.element.find(":tabbable").get().concat(f.find(".ui-dialog-buttonpane :tabbable").get().concat(f.get()))).eq(0).focus();g._isOpen=true;g._trigger("open");return g},_createButtons:function(i){var h=this,f=false,g=d("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),j=d("<div></div>").addClass("ui-dialog-buttonset").appendTo(g);h.uiDialog.find(".ui-dialog-buttonpane").remove();if(typeof i==="object"&&i!==null){d.each(i,function(){return !(f=true)})}if(f){d.each(i,function(k,m){m=d.isFunction(m)?{click:m,text:k}:m;var l=d('<button type="button"></button>').attr(m,true).unbind("click").click(function(){m.click.apply(h.element[0],arguments)}).appendTo(j);if(d.fn.button){l.button()}});g.appendTo(h.uiDialog)}},_makeDraggable:function(){var f=this,i=f.options,j=d(document),h;function g(k){return{position:k.position,offset:k.offset}}f.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(k,l){h=i.height==="auto"?"auto":d(this).height();d(this).height(d(this).height()).addClass("ui-dialog-dragging");f._trigger("dragStart",k,g(l))},drag:function(k,l){f._trigger("drag",k,g(l))},stop:function(k,l){i.position=[l.position.left-j.scrollLeft(),l.position.top-j.scrollTop()];d(this).removeClass("ui-dialog-dragging").height(h);f._trigger("dragStop",k,g(l));d.ui.dialog.overlay.resize()}})},_makeResizable:function(k){k=(k===e?this.options.resizable:k);var g=this,j=g.options,f=g.uiDialog.css("position"),i=(typeof k==="string"?k:"n,e,s,w,se,sw,ne,nw");function h(l){return{originalPosition:l.originalPosition,originalSize:l.originalSize,position:l.position,size:l.size}}g.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:g.element,maxWidth:j.maxWidth,maxHeight:j.maxHeight,minWidth:j.minWidth,minHeight:g._minHeight(),handles:i,start:function(l,m){d(this).addClass("ui-dialog-resizing");g._trigger("resizeStart",l,h(m))},resize:function(l,m){g._trigger("resize",l,h(m))},stop:function(l,m){d(this).removeClass("ui-dialog-resizing");j.height=d(this).height();j.width=d(this).width();g._trigger("resizeStop",l,h(m));d.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var f=this.options;if(f.height==="auto"){return f.minHeight}else{return Math.min(f.minHeight,f.height)}},_position:function(g){var h=[],i=[0,0],f;if(g){if(typeof g==="string"||(typeof g==="object"&&"0" in g)){h=g.split?g.split(" "):[g[0],g[1]];if(h.length===1){h[1]=h[0]}d.each(["left","top"],function(k,j){if(+h[k]===h[k]){i[k]=h[k];h[k]=j}});g={my:h.join(" "),at:h.join(" "),offset:i.join(" ")}}g=d.extend({},d.ui.dialog.prototype.options.position,g)}else{g=d.ui.dialog.prototype.options.position}f=this.uiDialog.is(":visible");if(!f){this.uiDialog.show()}this.uiDialog.css({top:0,left:0}).position(d.extend({of:window},g));if(!f){this.uiDialog.hide()}},_setOptions:function(i){var g=this,f={},h=false;d.each(i,function(j,k){g._setOption(j,k);if(j in a){h=true}if(j in c){f[j]=k}});if(h){this._size()}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option",f)}},_setOption:function(i,j){var g=this,f=g.uiDialog;switch(i){case"beforeclose":i="beforeClose";break;case"buttons":g._createButtons(j);break;case"closeText":g.uiDialogTitlebarCloseText.text(""+j);break;case"dialogClass":f.removeClass(g.options.dialogClass).addClass(b+j);break;case"disabled":if(j){f.addClass("ui-dialog-disabled")}else{f.removeClass("ui-dialog-disabled")}break;case"draggable":var h=f.is(":data(draggable)");if(h&&!j){f.draggable("destroy")}if(!h&&j){g._makeDraggable()}break;case"position":g._position(j);break;case"resizable":var k=f.is(":data(resizable)");if(k&&!j){f.resizable("destroy")}if(k&&typeof j==="string"){f.resizable("option","handles",j)}if(!k&&j!==false){g._makeResizable(j)}break;case"title":d(".ui-dialog-title",g.uiDialogTitlebar).html(""+(j||"&#160;"));break}d.Widget.prototype._setOption.apply(g,arguments)},_size:function(){var j=this.options,g,i,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(j.minWidth>j.width){j.width=j.minWidth}g=this.uiDialog.css({height:"auto",width:j.width}).height();i=Math.max(0,j.minHeight-g);if(j.height==="auto"){if(d.support.minHeight){this.element.css({minHeight:i,height:"auto"})}else{this.uiDialog.show();var h=this.element.css("height","auto").height();if(!f){this.uiDialog.hide()}this.element.height(Math.max(h,i))}}else{this.element.height(Math.max(j.height-g,0))}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}}});d.extend(d.ui.dialog,{version:"1.8.10",uuid:0,maxZ:0,getTitleId:function(f){var g=f.attr("id");if(!g){this.uuid+=1;g=this.uuid}return"ui-dialog-title-"+g},overlay:function(f){this.$el=d.ui.dialog.overlay.create(f)}});d.extend(d.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:d.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(f){return f+".dialog-overlay"}).join(" "),create:function(g){if(this.instances.length===0){setTimeout(function(){if(d.ui.dialog.overlay.instances.length){d(document).bind(d.ui.dialog.overlay.events,function(h){if(d(h.target).zIndex()<d.ui.dialog.overlay.maxZ){return false}})}},1);d(document).bind("keydown.dialog-overlay",function(h){if(g.options.closeOnEscape&&h.keyCode&&h.keyCode===d.ui.keyCode.ESCAPE){g.close(h);h.preventDefault()}});d(window).bind("resize.dialog-overlay",d.ui.dialog.overlay.resize)}var f=(this.oldInstances.pop()||d("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});if(d.fn.bgiframe){f.bgiframe()}this.instances.push(f);return f},destroy:function(f){var g=d.inArray(f,this.instances);if(g!=-1){this.oldInstances.push(this.instances.splice(g,1)[0])}if(this.instances.length===0){d([document,window]).unbind(".dialog-overlay")}f.remove();var h=0;d.each(this.instances,function(){h=Math.max(h,this.css("z-index"))});this.maxZ=h},height:function(){var g,f;if(d.browser.msie&&d.browser.version<7){g=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);f=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(g<f){return d(window).height()+"px"}else{return g+"px"}}else{return d(window).height()+"px"}},width:function(){var f,g;if(d.browser.msie&&d.browser.version<7){f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);g=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(f<g){return d(window).width()+"px"}else{return f+"px"}}else{return d(window).width()+"px"}},resize:function(){var f=d([]);d.each(d.ui.dialog.overlay.instances,function(){f=f.add(this)});f.css({width:0,height:0}).css({width:d.ui.dialog.overlay.width(),height:d.ui.dialog.overlay.height()})}});d.extend(d.ui.dialog.overlay.prototype,{destroy:function(){d.ui.dialog.overlay.destroy(this.$el)}})}(jQuery));(function($,undefined){$.extend($.ui,{datepicker:{version:"1.8.10"}});var PROP_NAME="datepicker";var dpuuid=new Date().getTime();function Datepicker(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=$('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",log:function(){if(this.debug){console.log.apply("",arguments)}},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=(nodeName=="div"||nodeName=="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=="input"){this._connectDatepicker(target,inst)}else{if(inline){this._inlineDatepicker(target,inst)}}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:$('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return}this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});this._autoSize(inst);$.data(target,PROP_NAME,inst)},_attachments:function(input,inst){var appendText=this._get(inst,"appendText");var isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove()}if(appendText){inst.append=$('<span class="'+this._appendClass+'">'+appendText+"</span>");input[isRTL?"before":"after"](inst.append)}input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove()}var showOn=this._get(inst,"showOn");if(showOn=="focus"||showOn=="both"){input.focus(this._showDatepicker)}if(showOn=="button"||showOn=="both"){var buttonText=this._get(inst,"buttonText");var buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(buttonImage==""?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput==input[0]){$.datepicker._hideDatepicker()}else{$.datepicker._showDatepicker(input[0])}return false})}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var date=new Date(2009,12-1,20);var dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){var findMax=function(names){var max=0;var maxI=0;for(var i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i}}return maxI};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay())}inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return}divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);inst.dpDiv.show()},_dialogDatepicker:function(input,date,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){this.uuid+=1;var id="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+id+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst)}extendRemove(inst.settings,settings||{});date=(date&&date.constructor==Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){var browserWidth=document.documentElement.clientWidth;var browserHeight=document.documentElement.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv)}$.data(this._dialogInput[0],PROP_NAME,inst);return this},_destroyDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName=="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(nodeName=="div"||nodeName=="span"){$target.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)})},_disableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)});this._disabledInputs[this._disabledInputs.length]=target},_isDisabledDatepicker:function(target){if(!target){return false}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==target){return true}}return false},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(arguments.length==2&&typeof name=="string"){return(name=="defaults"?$.extend({},$.datepicker._defaults):(inst?(name=="all"?$.extend({},inst.settings):this._get(inst,name)):null))}var settings=name||{};if(typeof name=="string"){settings={};settings[name]=value}if(inst){if(this._curInst==inst){this._hideDatepicker()}var date=this._getDateDatepicker(target,true);extendRemove(inst.settings,settings);this._attachments($(target),inst);this._autoSize(inst);this._setDateDatepicker(target,date);this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst)}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst)}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault)}return(inst?this._getDate(inst):null)},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target);var handled=true;var isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:var sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0])}else{$.datepicker._hideDatepicker()}return false;break;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target)}handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target)}handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M")}break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D")}handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M")}break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D")}handled=event.ctrlKey||event.metaKey;break;default:handled=false}}else{if(event.keyCode==36&&event.ctrlKey){$.datepicker._showDatepicker(this)}else{handled=false}}if(handled){event.preventDefault();event.stopPropagation()}},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));var chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1)}},_doKeyUp:function(event){var inst=$.datepicker._getInst(event.target);if(inst.input.val()!=inst.lastVal){try{var date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst)}}catch(event){$.datepicker.log(event)}}return true},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!="input"){input=$("input",input.parentNode)[0]}if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput==input){return}var inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!=inst){$.datepicker._curInst.dpDiv.stop(true,true)}var beforeShow=$.datepicker._get(inst,"beforeShow");extendRemove(inst.settings,(beforeShow?beforeShow.apply(input,[input,inst]):{}));inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value=""}if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight}var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")=="fixed";return !isFixed});if(isFixed&&$.browser.opera){$.datepicker._pos[0]-=document.documentElement.scrollLeft;$.datepicker._pos[1]-=document.documentElement.scrollTop}var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim");var duration=$.datepicker._get(inst,"duration");var postProcess=function(){$.datepicker._datepickerShowing=true;var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length){var borders=$.datepicker._getBorders(inst.dpDiv);cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}};inst.dpDiv.zIndex($(input).zIndex()+1);if($.effects&&$.effects[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[showAnim||"show"]((showAnim?duration:null),postProcess)}if(!showAnim||!duration){postProcess()}if(inst.input.is(":visible")&&!inst.input.is(":disabled")){inst.input.focus()}$.datepicker._curInst=inst}},_updateDatepicker:function(inst){var self=this;var borders=$.datepicker._getBorders(inst.dpDiv);inst.dpDiv.empty().append(this._generateHTML(inst));var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length){cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}inst.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).removeClass("ui-datepicker-next-hover")}}).bind("mouseover",function(){if(!self._isDisabledDatepicker(inst.inline?inst.dpDiv.parent()[0]:inst.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).addClass("ui-datepicker-next-hover")}}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();var numMonths=this._getNumberOfMonths(inst);var cols=numMonths[1];var width=17;if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em")}else{inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("")}inst.dpDiv[(numMonths[0]!=1||numMonths[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst==$.datepicker._curInst&&$.datepicker._datepickerShowing&&inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input[0]!=document.activeElement){inst.input.focus()}if(inst.yearshtml){var origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml)}origyearshtml=inst.yearshtml=null},0)}},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:2,thick:3}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth();var dpHeight=inst.dpDiv.outerHeight();var inputWidth=inst.input?inst.input.outerWidth():0;var inputHeight=inst.input?inst.input.outerHeight():0;var viewWidth=document.documentElement.clientWidth+$(document).scrollLeft();var viewHeight=document.documentElement.clientHeight+$(document).scrollTop();offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left==inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top==(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset},_findPos:function(obj){var inst=this._getInst(obj);var isRTL=this._get(inst,"isRTL");while(obj&&(obj.type=="hidden"||obj.nodeType!=1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"]}var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input){var inst=this._curInst;if(!inst||(input&&inst!=$.data(input,PROP_NAME))){return}if(this._datepickerShowing){var showAnim=this._get(inst,"showAnim");var duration=this._get(inst,"duration");var postProcess=function(){$.datepicker._tidyDialog(inst);this._curInst=null};if($.effects&&$.effects[showAnim]){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[(showAnim=="slideDown"?"slideUp":(showAnim=="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess)}if(!showAnim){postProcess()}var onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst])}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if(!$.datepicker._curInst){return}var $target=$(event.target);if($target[0].id!=$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length==0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)){$.datepicker._hideDatepicker()}},_adjustDate:function(id,offset,period){var target=$(id);var inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return}this._adjustInstDate(inst,offset+(period=="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst)},_gotoToday:function(id){var target=$(id);var inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear}else{var date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id);var inst=this._getInst(target[0]);inst._selectingMonthYear=false;inst["selected"+(period=="M"?"Month":"Year")]=inst["draw"+(period=="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target)},_clickMonthYear:function(id){var target=$(id);var inst=this._getInst(target[0]);if(inst.input&&inst._selectingMonthYear){setTimeout(function(){inst.input.focus()},0)}inst._selectingMonthYear=!inst._selectingMonthYear},_selectDay:function(id,month,year,td){var target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return}var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))},_clearDate:function(id){var target=$(id);var inst=this._getInst(target[0]);this._selectDate(target,"")},_selectDate:function(id,dateStr){var target=$(id);var inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr)}this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{if(inst.input){inst.input.trigger("change")}}if(inst.inline){this._updateDatepicker(inst)}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!="object"){inst.input.focus()}this._lastInput=null}},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");var date=this._getDate(inst);var dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""]},iso8601Week:function(date){var checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments"}value=(typeof value=="object"?value.toString():value+"");if(value==""){return null}var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var doy=-1;var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var getNumber=function(match){var isDoubled=lookAhead(match);var size=(match=="@"?14:(match=="!"?20:(match=="y"&&isDoubled?4:(match=="o"?3:2))));var digits=new RegExp("^\\d{1,"+size+"}");var num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue}iValue+=num[0].length;return parseInt(num[0],10)};var getName=function(match,shortNames,longNames){var names=(lookAhead(match)?longNames:shortNames);for(var i=0;i<names.length;i++){if(value.substr(iValue,names[i].length).toLowerCase()==names[i].toLowerCase()){iValue+=names[i].length;return i+1}}throw"Unknown name at position "+iValue};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat)){throw"Unexpected literal at position "+iValue}iValue++};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{checkLiteral()}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":var date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":var date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral()}else{literal=true}break;default:checkLiteral()}}}if(year==-1){year=new Date().getFullYear()}else{if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100)}}if(doy>-1){month=1;day=doy;do{var dim=this._getDaysInMonth(year,month-1);if(day<=dim){break}month++;day-=dim}while(true)}var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day){throw"Invalid date"}return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return""}var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num}}return num};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value])};var output="";var literal=false;if(date){for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{output+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",(date.getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000,3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'"}else{literal=true}break;default:output+=format.charAt(iFormat)}}}}return output},_possibleChars:function(format){var chars="";var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{chars+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'"}else{literal=true}break;default:chars+=format.charAt(iFormat)}}}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()==inst.lastVal){return}var dateFormat=this._get(inst,"dateFormat");var dates=inst.lastVal=inst.input?inst.input.val():null;var date,defaultDate;date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event);dates=(noDefault?"":dates)}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst)},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()))},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date};var offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date();var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();var pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day)};var newDate=(date==null||date===""?defaultDate:(typeof date=="string"?offsetString(date):(typeof date=="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()=="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0)}return this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){if(!date){return null}date.setHours(date.getHours()>12?date.getHours()+2:0);return date},_setDate:function(inst,date,noChange){var clear=!date;var origMonth=inst.selectedMonth;var origYear=inst.selectedYear;var newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!=inst.selectedMonth||origYear!=inst.selectedYear)&&!noChange){this._notifyChange(inst)}this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst))}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()=="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate},_generateHTML:function(inst){var today=new Date();today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,"isRTL");var showButtonPanel=this._get(inst,"showButtonPanel");var hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext");var navigationAsDateFormat=this._get(inst,"navigationAsDateFormat");var numMonths=this._getNumberOfMonths(inst);var showCurrentAtPos=this._get(inst,"showCurrentAtPos");var stepMonths=this._get(inst,"stepMonths");var isMultiMonth=(numMonths[0]!=1||numMonths[1]!=1);var currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var drawMonth=inst.drawMonth-showCurrentAtPos;var drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--}if(maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;var prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));var prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+inst.id+"', -"+stepMonths+", 'M');\" title=\""+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>"));var nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));var next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+inst.id+"', +"+stepMonths+", 'M');\" title=\""+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>"));var currentText=this._get(inst,"currentText");var gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));var controls=(!inst.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(inst,"closeText")+"</button>":"");var buttonPanel=(showButtonPanel)?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+inst.id+"');\">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";var firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);var showWeek=this._get(inst,"showWeek");var dayNames=this._get(inst,"dayNames");var dayNamesShort=this._get(inst,"dayNamesShort");var dayNamesMin=this._get(inst,"dayNamesMin");var monthNames=this._get(inst,"monthNames");var monthNamesShort=this._get(inst,"monthNamesShort");var beforeShowDay=this._get(inst,"beforeShowDay");var showOtherMonths=this._get(inst,"showOtherMonths");var selectOtherMonths=this._get(inst,"selectOtherMonths");var calculateWeek=this._get(inst,"calculateWeek")||this.iso8601Week;var defaultDate=this._getDefaultDate(inst);var html="";for(var row=0;row<numMonths[0];row++){var group="";for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));var cornerClass=" ui-corner-all";var calender="";if(isMultiMonth){calender+='<div class="ui-datepicker-group';if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break}}calender+='">'}calender+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'">'+(/all|left/.test(cornerClass)&&row==0?(isRTL?next:prev):"")+(/all|right/.test(cornerClass)&&row==0?(isRTL?prev:next):"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var thead=(showWeek?'<th class="ui-datepicker-week-col">'+this._get(inst,"weekHeader")+"</th>":"");for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+dayNames[day]+'">'+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)}var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var numRows=(isMultiMonth?6:Math.ceil((leadDays+daysInMonth)/7));var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(var dRow=0;dRow<numRows;dRow++){calender+="<tr>";var tbody=(!showWeek?"":'<td class="ui-datepicker-week-col">'+this._get(inst,"calculateWeek")(printDate)+"</td>");for(var dow=0;dow<7;dow++){var daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);var otherMonth=(printDate.getMonth()!=drawMonth);var unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+='<td class="'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+((printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime())?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()==currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+((!otherMonth||showOtherMonths)&&daySettings[2]?' title="'+daySettings[2]+'"':"")+(unselectable?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+inst.id+"',"+printDate.getMonth()+","+printDate.getFullYear()+', this);return false;"')+">"+(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?'<span class="ui-state-default">'+printDate.getDate()+"</span>":'<a class="ui-state-default'+(printDate.getTime()==today.getTime()?" ui-state-highlight":"")+(printDate.getTime()==currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+'" href="#">'+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++}calender+="</tbody></table>"+(isMultiMonth?"</div>"+((numMonths[0]>0&&col==numMonths[1]-1)?'<div class="ui-datepicker-row-break"></div>':""):"");group+=calender}html+=group}html+=buttonPanel+($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");inst._keyEvent=false;return html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var changeMonth=this._get(inst,"changeMonth");var changeYear=this._get(inst,"changeYear");var showMonthAfterYear=this._get(inst,"showMonthAfterYear");var html='<div class="ui-datepicker-title">';var monthHtml="";if(secondary||!changeMonth){monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+"</span>"}else{var inMinYear=(minDate&&minDate.getFullYear()==drawYear);var inMaxYear=(maxDate&&maxDate.getFullYear()==drawYear);monthHtml+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+inst.id+"', this, 'M');\" onclick=\"DP_jQuery_"+dpuuid+".datepicker._clickMonthYear('#"+inst.id+"');\">";for(var month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNamesShort[month]+"</option>"}}monthHtml+="</select>"}if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")}inst.yearshtml="";if(secondary||!changeYear){html+='<span class="ui-datepicker-year">'+drawYear+"</span>"}else{var years=this._get(inst,"yearRange").split(":");var thisYear=new Date().getFullYear();var determineYear=function(value){var year=(value.match(/c[+-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year)};var year=determineYear(years[0]);var endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+inst.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+dpuuid+".datepicker._clickMonthYear('#"+inst.id+"');\">";for(;year<=endYear;year++){inst.yearshtml+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>"}inst.yearshtml+="</select>";if(!$.browser.mozilla){html+=inst.yearshtml;inst.yearshtml=null}else{html+='<select class="ui-datepicker-year"><option value="'+drawYear+'" selected="selected">'+drawYear+"</option></select>"}}html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml}html+="</div>";return html},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period=="Y"?offset:0);var month=inst.drawMonth+(period=="M"?offset:0);var day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period=="D"?offset:0);var date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period=="M"||period=="Y"){this._notifyChange(inst)}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var newDate=(minDate&&date<minDate?minDate:date);newDate=(maxDate&&newDate>maxDate?maxDate:newDate);return newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst])}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths=="number"?[1,numMonths]:numMonths))},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst);var date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()))}return this._isInRange(inst,date)},_isInRange:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime()))},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear}var date=(day?(typeof day=="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}});function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null||props[name]==undefined){target[name]=props[name]}}return target}function isArray(a){return(a&&(($.browser.safari&&typeof a=="object"&&a.length)||(a.constructor&&a.constructor.toString().match(/\Array\(\)/))))}$.fn.datepicker=function(options){if(!this.length){return this}if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv);$.datepicker.initialized=true}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=="string"&&(options=="isDisabled"||options=="getDate"||options=="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}if(options=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}return this.each(function(){typeof options=="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.8.10";window["DP_jQuery_"+dpuuid]=$})(jQuery);jQuery.fn.extend({insertAtCaret:function(a){return this.each(function(){if(this.selectionStart){var d=this.selectionStart,b=this.selectionEnd,c=this.scrollTop;this.value=this.value.substring(0,d)+a+this.value.substring(b,this.value.length);this.focus();this.selectionStart=d+a.length;this.selectionEnd=d+a.length;this.scrollTop=c}else{this.value+=a;this.focus()}})}});(function(e){e.fn.fixPNG=function(){return this.each(function(){var l=e(this).css("backgroundImage");if(l.match(/^url\(["']?(.*\.png)["']?\)$/i)){l=RegExp.$1;e(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod="+(e(this).css("backgroundRepeat")=="no-repeat"?"crop":"scale")+", src='"+l+"')"}).each(function(){var m=e(this).css("position");if(m!="absolute"&&m!="relative"){e(this).css("position","relative")}})}})};var c,a,h=false,b=new Image,j,k=1,d=/.*/i;var i=null,g=e.browser.msie&&e.browser.version.substr(0,1)==6&&!window.XMLHttpRequest,f=g||(e.browser.msie&&e.browser.version.substr(0,1)==7);e.fn.fancybox=function(m){m=e.extend({},e.fn.fancybox.defaults,m);var u=this;function p(){c=this;a=m;n();return false}function n(){if(h){return}if(e.isFunction(a.callbackOnStart)){a.callbackOnStart()}a.itemArray=[];a.itemCurrent=0;if(m.itemArray.length>0){a.itemArray=m.itemArray}else{var w={};if(!c.rel||c.rel==""){var w={href:c.href,title:c.title};if(e(c).children("img:first").length){w.orig=e(c).children("img:first")}a.itemArray.push(w)}else{var x=e(u).filter("a[rel="+c.rel+"]");var w={};for(var v=0;v<x.length;v++){w={href:x[v].href,title:x[v].title};if(e(x[v]).children("img:first").length){w.orig=e(x[v]).children("img:first")}a.itemArray.push(w)}while(a.itemArray[a.itemCurrent].href!=c.href){a.itemCurrent++}}}if(a.overlayShow){if(g){e("embed, object, select").css("visibility","hidden");e("#fancy_overlay").css("height",e(document).height())}e("#fancy_overlay").css("opacity",a.overlayOpacity).show()}q()}function q(){e("#fancy_right, #fancy_left, #fancy_close, #fancy_title").hide();var v=a.itemArray[a.itemCurrent].href;if(v.match(/#/)){var w=window.location.href.split("#")[0];w=v.replace(w,"");w=w.substr(w.indexOf("#"));o('<div id="fancy_div">'+e(w).html()+"</div>",a.frameWidth,a.frameHeight)}else{if(v.match(d)){b=new Image;b.src=v;if(b.complete){t()}else{e.fn.fancybox.showLoading();e(b).unbind().bind("load",function(){e(".fancy_loading").hide();t()})}}else{if(v.match("iframe")||c.className.indexOf("iframe")>=0){o('<iframe id="fancy_frame" onload="$.fn.fancybox.showIframe()" name="fancy_iframe'+Math.round(Math.random()*1000)+'" frameborder="0" hspace="0" src="'+v+'"></iframe>',a.frameWidth,a.frameHeight)}else{e.get(v,function(x){o('<div id="fancy_ajax">'+x+"</div>",a.frameWidth,a.frameHeight)})}}}}function t(){if(a.imageScale){var x=e.fn.fancybox.getViewport();var z=Math.min(Math.min(x[0]-60,b.width)/b.width,Math.min(x[1]-60,b.height)/b.height);var y=Math.round(z*b.width);var v=Math.round(z*b.height)}else{var y=b.width;var v=b.height}o('<img alt="" id="fancy_img" src="'+b.src+'" />',y,v)}function r(){if((a.itemArray.length-1)>a.itemCurrent){var v=a.itemArray[a.itemCurrent+1].href;if(v.match(d)){objNext=new Image();objNext.src=v}}if(a.itemCurrent>0){var v=a.itemArray[a.itemCurrent-1].href;if(v.match(d)){objNext=new Image();objNext.src=v}}}function o(B,x,D){h=true;var z=a.padding;if(f||i){e("#fancy_content")[0].style.removeExpression("height");e("#fancy_content")[0].style.removeExpression("width")}if(z>0){x+=z*2;D+=z*2;e("#fancy_content").css({top:z+"px",right:z+"px",bottom:z+"px",left:z+"px",width:"auto",height:"auto"});if(f||i){e("#fancy_content")[0].style.setExpression("height","(this.parentNode.clientHeight - "+z*2+")");e("#fancy_content")[0].style.setExpression("width","(this.parentNode.clientWidth - "+z*2+")")}}else{e("#fancy_content").css({top:0,right:0,bottom:0,left:0,width:"100%",height:"100%"})}if(e("#fancy_outer").is(":visible")&&x==e("#fancy_outer").width()&&D==e("#fancy_outer").height()){e("#fancy_content").fadeOut("fast",function(){e("#fancy_content").empty().append(e(B)).fadeIn("normal",function(){l()})});return}var C=e.fn.fancybox.getViewport();var y=(x+36)>C[0]?C[2]:(C[2]+Math.round((C[0]-x-36)/2));var F=(D+50)>C[1]?C[3]:(C[3]+Math.round((C[1]-D-50)/2));var E={left:y,top:F,width:x+"px",height:D+"px"};if(e("#fancy_outer").is(":visible")){e("#fancy_content").fadeOut("normal",function(){e("#fancy_content").empty();e("#fancy_outer").animate(E,a.zoomSpeedChange,a.easingChange,function(){e("#fancy_content").append(e(B)).fadeIn("normal",function(){l()})})})}else{if(a.zoomSpeedIn>0&&a.itemArray[a.itemCurrent].orig!==undefined){e("#fancy_content").empty().append(e(B));var A=a.itemArray[a.itemCurrent].orig;var v=e.fn.fancybox.getPosition(A);e("#fancy_outer").css({left:(v.left-18)+"px",top:(v.top-18)+"px",width:e(A).width(),height:e(A).height()});if(a.zoomOpacity){E.opacity="show"}e("#fancy_outer").animate(E,a.zoomSpeedIn,a.easingIn,function(){l()})}else{e("#fancy_content").hide().empty().append(e(B)).show();e("#fancy_outer").css(E).fadeIn("normal",function(){l()})}}}function s(){if(a.itemCurrent!=0){e("#fancy_left, #fancy_left_ico").unbind().bind("click",function(v){v.stopPropagation();a.itemCurrent--;q();return false});e("#fancy_left").show()}if(a.itemCurrent!=(a.itemArray.length-1)){e("#fancy_right, #fancy_right_ico").unbind().bind("click",function(v){v.stopPropagation();a.itemCurrent++;q();return false});e("#fancy_right").show()}}function l(){if(e.browser.msie){e("#fancy_content")[0].style.removeAttribute("filter");e("#fancy_outer")[0].style.removeAttribute("filter")}s();r();e(document).keydown(function(v){if(v.keyCode==27){e.fn.fancybox.close();e(document).unbind("keydown")}else{if(v.keyCode==37&&a.itemCurrent!=0){a.itemCurrent--;q();e(document).unbind("keydown")}else{if(v.keyCode==39&&a.itemCurrent!=(a.itemArray.length-1)){a.itemCurrent++;q();e(document).unbind("keydown")}}}});if(a.centerOnScroll){e(window).bind("resize scroll",e.fn.fancybox.scrollBox)}else{e("div#fancy_outer").css("position","absolute")}if(a.hideOnContentClick){e("#fancy_wrap").click(e.fn.fancybox.close)}e("#fancy_overlay, #fancy_close").bind("click",e.fn.fancybox.close);e("#fancy_close").show();if(a.itemArray[a.itemCurrent].title!==undefined&&a.itemArray[a.itemCurrent].title.length>0){e("#fancy_title div").html(a.itemArray[a.itemCurrent].title);e("#fancy_title").show()}if(a.overlayShow&&g){e("embed, object, select",e("#fancy_content")).css("visibility","visible")}if(e.isFunction(a.callbackOnShow)){a.callbackOnShow()}if(e.browser.msie){e("#fancy_outer")[0].style.removeAttribute("filter");e("#fancy_content")[0].style.removeAttribute("filter")}h=false}return this.unbind("click").click(p)};e.fn.fancybox.scrollBox=function(){var l=e.fn.fancybox.getViewport();e("#fancy_outer").css("left",((e("#fancy_outer").width()+36)>l[0]?l[2]:l[2]+Math.round((l[0]-e("#fancy_outer").width()-36)/2)));e("#fancy_outer").css("top",((e("#fancy_outer").height()+50)>l[1]?l[3]:l[3]+Math.round((l[1]-e("#fancy_outer").height()-50)/2)))};e.fn.fancybox.getNumeric=function(l,m){return parseInt(e.curCSS(l.jquery?l[0]:l,m,true))||0};e.fn.fancybox.getPosition=function(l){var m=l.offset();m.top+=e.fn.fancybox.getNumeric(l,"paddingTop");m.top+=e.fn.fancybox.getNumeric(l,"borderTopWidth");m.left+=e.fn.fancybox.getNumeric(l,"paddingLeft");m.left+=e.fn.fancybox.getNumeric(l,"borderLeftWidth");return m};e.fn.fancybox.showIframe=function(){e(".fancy_loading").hide();e("#fancy_frame").show()};e.fn.fancybox.getViewport=function(){return[e(window).width(),e(window).height(),e(document).scrollLeft(),e(document).scrollTop()]};e.fn.fancybox.animateLoading=function(){if(!e("#fancy_loading").is(":visible")){clearInterval(j);return}e("#fancy_loading > div").css("top",(k*-40)+"px");k=(k+1)%12};e.fn.fancybox.showLoading=function(){clearInterval(j);var l=e.fn.fancybox.getViewport();e("#fancy_loading").css({left:((l[0]-40)/2+l[2]),top:((l[1]-40)/2+l[3])}).show();e("#fancy_loading").bind("click",e.fn.fancybox.close);j=setInterval(e.fn.fancybox.animateLoading,66)};e.fn.fancybox.close=function(){h=true;e(b).unbind();e("#fancy_overlay, #fancy_close").unbind();if(a.hideOnContentClick){e("#fancy_wrap").unbind()}e("#fancy_close, .fancy_loading, #fancy_left, #fancy_right, #fancy_title").hide();if(a.centerOnScroll){e(window).unbind("resize scroll")}__cleanup=function(){e("#fancy_overlay, #fancy_outer").hide();if(a.centerOnScroll){e(window).unbind("resize scroll")}if(g){e("embed, object, select").css("visibility","visible")}if(e.isFunction(a.callbackOnClose)){a.callbackOnClose()}h=false};if(e("#fancy_outer").is(":visible")!==false){if(a.zoomSpeedOut>0&&a.itemArray[a.itemCurrent].orig!==undefined){var m=a.itemArray[a.itemCurrent].orig;var l=e.fn.fancybox.getPosition(m);var n={left:(l.left-18)+"px",top:(l.top-18)+"px",width:e(m).width(),height:e(m).height()};if(a.zoomOpacity){n.opacity="hide"}e("#fancy_outer").stop(false,true).animate(n,a.zoomSpeedOut,a.easingOut,__cleanup)}else{e("#fancy_outer").stop(false,true).fadeOut("fast",__cleanup)}}else{__cleanup()}return false};e.fn.fancybox.build=function(){var l="";l+='<div id="fancy_overlay"></div>';l+='<div id="fancy_wrap">';l+='<div class="fancy_loading" id="fancy_loading"><div id="fancy_loading_spinner"></div></div>';l+='<div id="fancy_outer">';l+='<div id="fancy_inner">';l+='<div id="fancy_close"></div>';l+='<div id="fancy_bg"><div class="fancy_bg fancy_bg_n"></div><div class="fancy_bg fancy_bg_ne"></div><div class="fancy_bg fancy_bg_e"></div><div class="fancy_bg fancy_bg_se"></div><div class="fancy_bg fancy_bg_s"></div><div class="fancy_bg fancy_bg_sw"></div><div class="fancy_bg fancy_bg_w"></div><div class="fancy_bg fancy_bg_nw"></div></div>';l+='<a href="javascript:;" id="fancy_left"><span class="fancy_ico" id="fancy_left_ico"></span></a><a href="javascript:;" id="fancy_right"><span class="fancy_ico" id="fancy_right_ico"></span></a>';l+='<div id="fancy_content"></div>';l+='<div id="fancy_title"></div>';l+="</div>";l+="</div>";l+="</div>";e(l).appendTo("body");e('<table cellspacing="0" cellpadding="0" border="0"><tr><td class="fancy_title" id="fancy_title_left"></td><td class="fancy_title" id="fancy_title_main"><div></div></td><td class="fancy_title" id="fancy_title_right"></td></tr></table>').appendTo("#fancy_title");if(e.browser.msie){e(".fancy_bg").fixPNG()}if(g){e("div#fancy_overlay").css("position","absolute");e("#fancy_loading div, #fancy_close, .fancy_title, .fancy_ico").fixPNG();e("#fancy_inner").prepend('<iframe id="fancy_bigIframe" src="javascript:false;" scrolling="no" frameborder="0"></iframe>');var m=e("#fancy_bigIframe")[0].contentWindow.document;m.open();m.close()}};e.fn.fancybox.defaults={padding:10,imageScale:true,zoomOpacity:false,zoomSpeedIn:0,zoomSpeedOut:0,zoomSpeedChange:300,easingIn:"swing",easingOut:"swing",easingChange:"swing",frameWidth:425,frameHeight:355,overlayShow:true,overlayOpacity:0.3,hideOnContentClick:true,centerOnScroll:true,itemArray:[],callbackOnStart:null,callbackOnShow:null,callbackOnClose:null};e(document).ready(function(){e.fn.fancybox.build()})})(jQuery);(function(a){a.fn.bubble=function(l){var d=a.extend({},a.fn.bubble.defaults,l);var h=a(d.bubble);var f=null;var j=null;var i=false;var g=function(y,s){j=null;if(!i){if(d.onShow){d.onShow(y[0])}var x=a(window);var p=null;var n=0;if(s){p={top:s.pageY,left:s.pageX+10}}else{p=y.offset();n=y.outerWidth()}var u=x.height()+x.scrollTop();var r=u-h.height()-15;if(p.top>r){var v=r}else{var v=p.top}var q=x.width()+x.scrollLeft();var m=q-h.width()-15;if(p.left+n>m){var o=m}else{var o=p.left+n}h.css({top:v,left:o,display:"block"}).show();i=true}};var c=function(m){if(d.onHide){d.onHide(m[0])}f=null;h.hide();i=false};var e=null;if(d.toggleEvent=="hover"){this.unbind("mouseover");this.mouseover(function(n){var m=a(this);if(e){if(this!=e){e=this;c(m)}}else{e=this}if(f){clearTimeout(f)}if(j){return}j=setTimeout(function(){g(m)},d.showDelay);return false});h.unbind("mouseover");h.mouseover(function(){if(f){clearTimeout(f)}f=null;return false});var b=a(this.get()).add(h[0]);b.unbind("mouseout");b.mouseout(function(n){var m=a(this);if(j){clearTimeout(j);j=null}if(f){clearTimeout(f)}f=setTimeout(function(){c(m)},d.hideDelay);return false})}if(d.toggleEvent=="click"){this.unbind("click");this.click(function(n){var m=a(this);h.unbind("click.bubble");h.bind("click.bubble",function(o){o.stopPropagation()});a(window).unbind("click.bubble");a(window).bind("click.bubble",function(o){if(i){c(a(this))}});g(m);return false})}var k=this;this.hide=function(){c(a(k))};this.show=function(m){g(a(k),m)};return this};a.fn.bubble.defaults={offsetX:15,offsetY:0,toggleEvent:"hover",showDelay:500,onShow:null,hideDelay:500,onHide:null,autoHide:true}})(jQuery);"use strict";(function(a){a.vakata={};a.vakata.css={get_css:function(f,c,d){f=f.toLowerCase();var e=d.cssRules||d.rules,b=0;do{if(e.length&&b>e.length+5){return false}if(e[b].selectorText&&e[b].selectorText.toLowerCase()==f){if(c===true){if(d.removeRule){d.removeRule(b)}if(d.deleteRule){d.deleteRule(b)}return true}else{return e[b]}}}while(e[++b]);return false},add_css:function(c,b){if(a.jstree.css.get_css(c,false,b)){return false}if(b.insertRule){b.insertRule(c+" { }",0)}else{b.addRule(c,null,0)}return a.vakata.css.get_css(c)},remove_css:function(c,b){return a.vakata.css.get_css(c,true,b)},add_sheet:function(c){var b;if(c.str){b=document.createElement("style");b.setAttribute("type","text/css");if(b.styleSheet){document.getElementsByTagName("head")[0].appendChild(b);b.styleSheet.cssText=c.str}else{b.appendChild(document.createTextNode(c.str));document.getElementsByTagName("head")[0].appendChild(b)}return b.sheet||b.styleSheet}if(c.url){if(document.createStyleSheet){try{b=document.createStyleSheet(c.url)}catch(d){}}else{b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.media="all";b.href=c.url;document.getElementsByTagName("head")[0].appendChild(b);return b.styleSheet}}}}})(jQuery);(function(e){var f=[],c=-1,b={},a={},d=false;e.fn.jstree=function(j){var g=(typeof j=="string"),h=Array.prototype.slice.call(arguments,1),i=this;if(!g&&e.meta){h.push(e.metadata.get(this).jstree)}j=!g&&h.length?e.extend.apply(null,[true,j].concat(h)):j;if(g&&j.substring(0,1)=="_"){return i}if(g){this.each(function(){var k=f[e.data(this,"jstree-instance-id")],l=(k&&e.isFunction(k[j]))?k[j].apply(k,h):k;if(typeof l!=="undefined"&&(j.indexOf("is_"===0)||(l!==true&&l!==false))){i=l;return false}})}else{this.each(function(){var l=e.data(this,"jstree-instance-id"),k=false;if(typeof l!=="undefined"&&f[l]){f[l].destroy()}l=parseInt(f.push({}),10)-1;e.data(this,"jstree-instance-id",l);if(!j){j={}}j.plugins=e.isArray(j.plugins)?j.plugins:e.jstree.defaults.plugins;if(e.inArray("core",j.plugins)===-1){j.plugins.unshift("core")}k=e.extend(true,{},e.jstree.defaults,j);k.plugins=j.plugins;e.each(b,function(m,n){if(e.inArray(m,k.plugins)===-1){k[m]=null;delete k[m]}});f[l]=new e.jstree._instance(l,e(this).addClass("jstree jstree-"+l),k);e.each(f[l]._get_settings().plugins,function(m,n){f[l].data[n]={}});e.each(f[l]._get_settings().plugins,function(m,n){if(b[n]){b[n].__init.apply(f[l])}});f[l].init()})}return i};e.jstree={defaults:{plugins:[]},_focused:function(){return f[c]||null},_reference:function(g){if(f[g]){return f[g]}var h=e(g);if(!h.length&&typeof g==="string"){h=e("#"+g)}if(!h.length){return null}return f[h.closest(".jstree").data("jstree-instance-id")]||null},_instance:function(h,g,i){this.data={core:{}};this.get_settings=function(){return e.extend(true,{},i)};this._get_settings=function(){return i};this.get_index=function(){return h};this.get_container=function(){return g};this._set_settings=function(j){i=e.extend(true,{},i,j)}},_fn:{},plugin:function(g,h){h=e.extend({},{__init:e.noop,__destroy:e.noop,_fn:{},defaults:false},h);b[g]=h;e.jstree.defaults[g]=h.defaults;e.each(h._fn,function(j,k){k.plugin=g;k.old=e.jstree._fn[j];e.jstree._fn[j]=function(){var i,m=k,l=Array.prototype.slice.call(arguments),o=new e.Event("before.jstree"),n=false;do{if(m&&m.plugin&&e.inArray(m.plugin,this._get_settings().plugins)!==-1){break}m=m.old}while(m);if(!m){return}i=this.get_container().triggerHandler(o,{func:j,inst:this,args:l});if(i===false){return}if(typeof i!=="undefined"){l=i}if(j.indexOf("_")===0){i=m.apply(this,l)}else{i=m.apply(e.extend({},this,{__callback:function(p){this.get_container().triggerHandler(j+".jstree",{inst:this,args:l,rslt:p,rlbk:n})},__rollback:function(){n=this.get_rollback();return n},__call_old:function(p){return m.old.apply(this,(p?Array.prototype.slice.call(arguments,1):l))}}),l)}return i};e.jstree._fn[j].old=k.old;e.jstree._fn[j].plugin=g})},rollback:function(g){if(g){if(!e.isArray(g)){g=[g]}e.each(g,function(h,j){f[j.i].set_rollback(j.h,j.d)})}}};e.jstree._fn=e.jstree._instance.prototype={};e.jstree.plugin("core",{__init:function(){this.data.core.to_open=e.map(e.makeArray(this.get_settings().core.initially_open),function(g){return"#"+g.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/")})},defaults:{html_titles:false,animation:500,initially_open:[],rtl:false,strings:{loading:"Loading ...",new_node:"New node"}},_fn:{init:function(){this.set_focus();if(this._get_settings().core.rtl){this.get_container().addClass("jstree-rtl").css("direction","rtl")}this.data.core.li_height=this.get_container().find("ul li.jstree-closed, ul li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li > ins","click.jstree",e.proxy(function(h){var g=e(h.target);if(g.is("ins")&&h.pageY-g.offset().top<this.data.core.li_height){this.toggle_node(g)}},this)).bind("mousedown.jstree",e.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(h){var i;if(document.selection&&document.selection.empty){document.selection.empty()}else{if(window.getSelection){i=window.getSelection();try{i.removeAllRanges();i.collapse()}catch(g){}}}});this.__callback();this.load_node(-1,function(){this.loaded();this.reopen()})},destroy:function(){var g,k=this.get_index(),h=this._get_settings(),j=this;e.each(h.plugins,function(l,n){try{b[n].__destroy.apply(j)}catch(m){}});this.__callback();if(this.is_focused()){for(g in f){if(f.hasOwnProperty(g)&&g!=k){f[g].set_focus();break}}}if(k===c){c=-1}this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree-instance-id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});f[k]=null;delete f[k]},save_opened:function(){var g=this;this.data.core.to_open=[];this.get_container().find(".jstree-open").each(function(){g.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/"))});this.__callback(g.data.core.to_open)},reopen:function(h){var k=this,g=true,j=[],i=[];if(!h){this.data.core.reopen=false;this.data.core.refreshing=true}if(this.data.core.to_open.length){e.each(this.data.core.to_open,function(l,m){if(m=="#"){return true}if(e(m).length&&e(m).is(".jstree-closed")){j.push(m)}else{i.push(m)}});if(j.length){this.data.core.to_open=i;e.each(j,function(l,m){k.open_node(m,function(){k.reopen(true)},true)});g=false}}if(g){if(this.data.core.reopen){clearTimeout(this.data.core.reopen)}this.data.core.reopen=setTimeout(function(){k.__callback({},k)},50);this.data.core.refreshing=false}},refresh:function(g){var h=this;this.save_opened();if(!g){g=-1}g=this._get_node(g);if(!g){g=-1}if(g!==-1){g.children("UL").remove()}this.load_node(g,function(){h.__callback({obj:g});h.reopen()})},loaded:function(){this.__callback()},set_focus:function(){var g=e.jstree._focused();if(g&&g!==this){g.get_container().removeClass("jstree-focused")}if(g!==this){this.get_container().addClass("jstree-focused");c=this.get_index()}this.__callback()},is_focused:function(){return c==this.get_index()},_get_node:function(g){var h=e(g,this.get_container());if(h.is(".jstree")||g==-1){return -1}h=h.closest("li",this.get_container());return h.length?h:false},_get_next:function(h,g){h=this._get_node(h);if(h===-1){return this.get_container().find("> ul > li:first-child")}if(!h.length){return false}if(g){return(h.nextAll("li").size()>0)?h.nextAll("li:eq(0)"):false}if(h.hasClass("jstree-open")){return h.find("li:eq(0)")}else{if(h.nextAll("li").size()>0){return h.nextAll("li:eq(0)")}else{return h.parentsUntil(".jstree","li").next("li").eq(0)}}},_get_prev:function(h,g){h=this._get_node(h);if(h===-1){return this.get_container().find("> ul > li:last-child")}if(!h.length){return false}if(g){return(h.prevAll("li").length>0)?h.prevAll("li:eq(0)"):false}if(h.prev("li").length){h=h.prev("li").eq(0);while(h.hasClass("jstree-open")){h=h.children("ul:eq(0)").children("li:last")}return h}else{var i=h.parentsUntil(".jstree","li:eq(0)");return i.length?i:false}},_get_parent:function(g){g=this._get_node(g);if(g==-1||!g.length){return false}var h=g.parentsUntil(".jstree","li:eq(0)");return h.length?h:-1},_get_children:function(g){g=this._get_node(g);if(g===-1){return this.get_container().children("ul:eq(0)").children("li")}if(!g.length){return false}return g.children("ul:eq(0)").children("li")},get_path:function(i,g){var h=[],j=this;i=this._get_node(i);if(i===-1||!i||!i.length){return false}i.parentsUntil(".jstree","li").each(function(){h.push(g?this.id:j.get_text(this))});h.reverse();h.push(g?i.attr("id"):this.get_text(i));return h},is_open:function(g){g=this._get_node(g);return g&&g!==-1&&g.hasClass("jstree-open")},is_closed:function(g){g=this._get_node(g);return g&&g!==-1&&g.hasClass("jstree-closed")},is_leaf:function(g){g=this._get_node(g);return g&&g!==-1&&g.hasClass("jstree-leaf")},open_node:function(j,k,h){j=this._get_node(j);if(!j.length){return false}if(!j.hasClass("jstree-closed")){if(k){k.call()}return false}var i=h||d?0:this._get_settings().core.animation,g=this;if(!this._is_loaded(j)){j.children("a").addClass("jstree-loading");this.load_node(j,function(){g.open_node(j,k,h)},k)}else{if(i){j.children("ul").css("display","none")}j.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading");if(i){j.children("ul").stop(true).slideDown(i,function(){this.style.display=""})}this.__callback({obj:j});if(k){k.call()}}},close_node:function(i,g){i=this._get_node(i);var h=g||d?0:this._get_settings().core.animation;if(!i.length||!i.hasClass("jstree-open")){return false}if(h){i.children("ul").attr("style","display:block !important")}i.removeClass("jstree-open").addClass("jstree-closed");if(h){i.children("ul").stop(true).slideUp(h,function(){this.style.display=""})}this.__callback({obj:i})},toggle_node:function(g){g=this._get_node(g);if(g.hasClass("jstree-closed")){return this.open_node(g)}if(g.hasClass("jstree-open")){return this.close_node(g)}},open_all:function(h,g){h=h?this._get_node(h):this.get_container();if(!h||h===-1){h=this.get_container()}if(g){h=h.find("li.jstree-closed")}else{g=h;if(h.is(".jstree-closed")){h=h.find("li.jstree-closed").andSelf()}else{h=h.find("li.jstree-closed")}}var i=this;h.each(function(){var j=this;if(!i._is_loaded(this)){i.open_node(this,function(){i.open_all(j,g)},true)}else{i.open_node(this,false,true)}});if(g.find("li.jstree-closed").length===0){this.__callback({obj:g})}},close_all:function(g){var h=this;g=g?this._get_node(g):this.get_container();if(!g||g===-1){g=this.get_container()}g.find("li.jstree-open").andSelf().each(function(){h.close_node(this)});this.__callback({obj:g})},clean_node:function(g){g=g&&g!=-1?e(g):this.get_container();g=g.is("li")?g.find("li").andSelf():g.find("li");g.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");g.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:g})},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(true),d:this.data}},set_rollback:function(g,h){this.get_container().empty().append(g);this.data=h;this.__callback()},load_node:function(i,g,h){this.__callback({obj:i})},_is_loaded:function(g){return true},create_node:function(l,g,k,n,h){l=this._get_node(l);g=typeof g==="undefined"?"last":g;var m=e("<li>"),j=this._get_settings().core,i;if(l!==-1&&!l.length){return false}if(!h&&!this._is_loaded(l)){this.load_node(l,function(){this.create_node(l,g,k,n,true)});return false}this.__rollback();if(typeof k==="string"){k={data:k}}if(!k){k={}}if(k.attr){m.attr(k.attr)}if(k.state){m.addClass("jstree-"+k.state)}if(!k.data){k.data=j.strings.new_node}if(!e.isArray(k.data)){i=k.data;k.data=[];k.data.push(i)}e.each(k.data,function(p,o){i=e("<a>");if(e.isFunction(o)){o=o.call(this,k)}if(typeof o=="string"){i.attr("href","#")[j.html_titles?"html":"text"](o)}else{if(!o.attr){o.attr={}}if(!o.attr.href){o.attr.href="#"}i.attr(o.attr)[j.html_titles?"html":"text"](o.title);if(o.language){i.addClass(o.language)}}i.prepend("<ins class='jstree-icon'>&#160;</ins>");if(o.icon){if(o.icon.indexOf("/")===-1){i.children("ins").addClass(o.icon)}else{i.children("ins").css("background","url('"+o.icon+"') center center no-repeat")}}m.append(i)});m.prepend("<ins class='jstree-icon'>&#160;</ins>");if(l===-1){l=this.get_container();if(g==="before"){g="first"}if(g==="after"){g="last"}}switch(g){case"before":l.before(m);i=this._get_parent(l);break;case"after":l.after(m);i=this._get_parent(l);break;case"inside":case"first":if(!l.children("ul").length){l.append("<ul>")}l.children("ul").prepend(m);i=l;break;case"last":if(!l.children("ul").length){l.append("<ul>")}l.children("ul").append(m);i=l;break;default:if(!l.children("ul").length){l.append("<ul>")}if(!g){g=0}i=l.children("ul").children("li").eq(g);if(i.length){i.before(m)}else{l.children("ul").append(m)}i=l;break}if(i===-1||i.get(0)===this.get_container().get(0)){i=-1}this.clean_node(i);this.__callback({obj:m,parent:i});if(n){n.call(this,m)}return m},get_text:function(h){h=this._get_node(h);if(!h.length){return false}var g=this._get_settings().core.html_titles;h=h.children("a:eq(0)");if(g){h=h.clone();h.children("INS").remove();return h.html()}else{h=h.contents().filter(function(){return this.nodeType==3})[0];return h.nodeValue}},set_text:function(h,i){h=this._get_node(h);if(!h.length){return false}h=h.children("a:eq(0)");if(this._get_settings().core.html_titles){var g=h.children("INS").clone();h.html(i).prepend(g);this.__callback({obj:h,name:i});return true}else{h=h.contents().filter(function(){return this.nodeType==3})[0];this.__callback({obj:h,name:i});return(h.nodeValue=i)}},rename_node:function(g,h){g=this._get_node(g);this.__rollback();if(g&&g.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))){this.__callback({obj:g,name:h})}},delete_node:function(i){i=this._get_node(i);if(!i.length){return false}this.__rollback();var h=this._get_parent(i),g=this._get_prev(i);i=i.remove();if(h!==-1&&h.find("> ul > li").length===0){h.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")}this.clean_node(h);this.__callback({obj:i,prev:g});return i},prepare_move:function(k,i,l,g,h){var j={};j.ot=e.jstree._reference(j.o)||this;j.o=j.ot._get_node(k);j.r=i===-1?-1:this._get_node(i);j.p=(typeof j==="undefined")?"last":l;if(!h&&a.o&&a.o[0]===j.o[0]&&a.r[0]===j.r[0]&&a.p===j.p){this.__callback(a);if(g){g.call(this,a)}return}j.ot=e.jstree._reference(j.o)||this;j.rt=i===-1?j.ot:e.jstree._reference(j.r)||this;if(j.r===-1){j.cr=-1;switch(j.p){case"first":case"before":case"inside":j.cp=0;break;case"after":case"last":j.cp=j.rt.get_container().find(" > ul > li").length;break;default:j.cp=j.p;break}}else{if(!/^(before|after)$/.test(j.p)&&!this._is_loaded(j.r)){return this.load_node(j.r,function(){this.prepare_move(k,i,l,g,true)})}switch(j.p){case"before":j.cp=j.r.index();j.cr=j.rt._get_parent(j.r);break;case"after":j.cp=j.r.index()+1;j.cr=j.rt._get_parent(j.r);break;case"inside":case"first":j.cp=0;j.cr=j.r;break;case"last":j.cp=j.r.find(" > ul > li").length;j.cr=j.r;break;default:j.cp=j.p;j.cr=j.r;break}}j.np=j.cr==-1?j.rt.get_container():j.cr;j.op=j.ot._get_parent(j.o);j.or=j.np.find(" > ul > li:nth-child("+(j.cp+1)+")");j.e=k.e;a=j;this.__callback(a);if(g){g.call(this,a)}},check_move:function(){return true;if(this.data.dnd.is_copy){return true}var h=a,g=true;if(h.or[0]===h.o[0]){return false}h.o.each(function(){if(h.r.parentsUntil(".jstree").andSelf().filter("li").index(this)!==-1){g=false;return false}});return g},move_node:function(l,j,g,i,h,k){if(!h){return this.prepare_move(l,j,g,function(n){this.move_node(n,false,false,i,true,k)})}if(!k&&!this.check_move()){return false}this.__rollback();var m=l.o;this.__callback(a);return a},_get_move:function(){return a}}})})(jQuery);(function(a){a.jstree.plugin("ui",{__init:function(){this.data.ui.selected=a();this.data.ui.last_selected=false;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",a.proxy(function(b){b.preventDefault();if(a.vakata.dnd.ignore_click){a.vakata.dnd.ignore_click=false;return}this.select_node(b.currentTarget,true,b)},this)).delegate("a","mouseenter.jstree",a.proxy(function(b){this.hover_node(b.target)},this)).delegate("a","mouseleave.jstree",a.proxy(function(b){this.dehover_node(b.target)},this)).bind("reopen.jstree",a.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",a.proxy(function(){this.dehover_node();this.save_selected()},this)).bind("set_rollback.jstree",a.proxy(function(){this.reselect()},this)).bind("close_node.jstree",a.proxy(function(c,d){var b=this._get_settings().ui,e=this._get_node(d.rslt.obj),f=(e&&e.length)?e.children("ul").find(".jstree-clicked"):a(),g=this;if(b.selected_parent_close===false||!f.length){return}f.each(function(){g.deselect_node(this);if(b.selected_parent_close==="select_parent"){g.select_node(e)}})},this)).bind("delete_node.jstree",a.proxy(function(c,d){var b=this._get_settings().ui.select_prev_on_delete,e=this._get_node(d.rslt.obj),f=(e&&e.length)?e.find(".jstree-clicked"):[],g=this;f.each(function(){g.deselect_node(this)});if(b&&f.length){this.select_node(d.rslt.prev)}},this)).bind("move_node.jstree",a.proxy(function(b,c){if(c.rslt.cy){c.rslt.oc.find(".jstree-clicked").removeClass("jstree-clicked")}},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",selected_parent_close:"select_parent",select_prev_on_delete:true,disable_selecting_children:false,initially_select:[]},_fn:{_get_node:function(b,c){if(typeof b==="undefined"||b===null){return c?this.data.ui.selected:this.data.ui.last_selected}var d=a(b,this.get_container());if(d.is(".jstree")||b==-1){return -1}d=d.closest("li",this.get_container());return d.length?d:false},save_selected:function(){var b=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){b.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/"))});this.__callback(this.data.ui.to_select)},reselect:function(){var c=this,b=this.data.ui.to_select;b=a.map(a.makeArray(b),function(d){return"#"+d.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/")});this.deselect_all();a.each(b,function(d,e){if(e&&e!=="#"){c.select_node(e)}});this.__callback()},refresh:function(b){this.save_selected();return this.__call_old()},hover_node:function(b){b=this._get_node(b);if(!b.length){return false}if(!b.hasClass("jstree-hovered")){this.dehover_node()}this.data.ui.hovered=b.children("a").addClass("jstree-hovered").parent();this.__callback({obj:b})},dehover_node:function(){var c=this.data.ui.hovered,b;if(!c||!c.length){return false}b=c.children("a").removeClass("jstree-hovered").parent();if(this.data.ui.hovered[0]===b[0]){this.data.ui.hovered=null}this.__callback({obj:c})},select_node:function(h,b,g){h=this._get_node(h);if(h==-1||!h||!h.length){return false}var d=this._get_settings().ui,c=(d.select_multiple_modifier=="on"||(d.select_multiple_modifier!==false&&g&&g[d.select_multiple_modifier+"Key"])),i=this.is_selected(h),f=true;if(b){if(d.disable_selecting_children&&c&&h.parents("li",this.get_container()).children(".jstree-clicked").length){return false}f=false;switch(!0){case (i&&!c):this.deselect_all();i=false;f=true;break;case (!i&&!c):if(d.select_limit==-1||d.select_limit>0){this.deselect_all();f=true}break;case (i&&c):this.deselect_node(h);break;case (!i&&c):if(d.select_limit==-1||this.data.ui.selected.length+1<=d.select_limit){f=true}break}}if(f&&!i){h.children("a").addClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.add(h);this.data.ui.last_selected=h;this.__callback({obj:h})}},deselect_node:function(b){b=this._get_node(b);if(!b.length){return false}if(this.is_selected(b)){b.children("a").removeClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.not(b);if(this.data.ui.last_selected.get(0)===b.get(0)){this.data.ui.last_selected=this.data.ui.selected.eq(0)}this.__callback({obj:b})}},toggle_select:function(b){b=this._get_node(b);if(!b.length){return false}if(this.is_selected(b)){this.deselect_node(b)}else{this.select_node(b)}},is_selected:function(b){return this.data.ui.selected.index(this._get_node(b))>=0},get_selected:function(b){return b?a(b).find(".jstree-clicked").parent():this.data.ui.selected},deselect_all:function(b){if(b){a(b).find(".jstree-clicked").removeClass("jstree-clicked")}else{this.get_container().find(".jstree-clicked").removeClass("jstree-clicked")}this.data.ui.selected=a([]);this.data.ui.last_selected=false;this.__callback()}}});a.jstree.defaults.plugins.push("ui")})(jQuery);(function(a){a.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",a.proxy(function(d,c){if(this._get_settings().crrm.move.open_onmove){var b=this;c.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){b.open_node(this,false,true)})}},this))},defaults:{input_width_limit:200,move:{always_copy:false,open_onmove:true,default_position:"last",check_move:function(b){return true}}},_fn:{_show_input:function(b,i){b=this._get_node(b);var g=this._get_settings().core.rtl,h=this._get_settings().crrm.input_width_limit,d=b.children("ins").width(),c=b.find("> a:visible > ins").width()*b.find("> a:visible > ins").length,j=this.get_text(b),f=a("<div>",{css:{position:"absolute",top:"-200px",left:(g?"0px":"-1000px"),visibility:"hidden"}}).appendTo("body"),e=b.css("position","relative").append(a("<input>",{value:j,css:{padding:"0",border:"1px solid silver",position:"absolute",left:(g?"auto":(d+c+4)+"px"),right:(g?(d+c+4)+"px":"auto"),top:"0px",height:(this.data.core.li_height-2)+"px",lineHeight:(this.data.core.li_height-2)+"px",width:"150px"},blur:a.proxy(function(){var l=b.children("input"),k=l.val();if(k===""){k=j}l.remove();this.set_text(b,j);this.rename_node(b,k);i.call(this,b,k,j);b.css("position","")},this),keyup:function(l){var k=l.keyCode||l.which;if(k==27){this.value=j;this.blur();return}else{if(k==13){this.blur();return}else{e.width(Math.min(f.text("pW"+this.value).width(),h))}}}})).children("input");this.set_text(b,"");f.css({fontFamily:e.css("fontFamily")||"",fontSize:e.css("fontSize")||"",fontWeight:e.css("fontWeight")||"",fontStyle:e.css("fontStyle")||"",fontStretch:e.css("fontStretch")||"",fontVariant:e.css("fontVariant")||"",letterSpacing:e.css("letterSpacing")||"",wordSpacing:e.css("wordSpacing")||""});e.width(Math.min(f.text("pW"+e[0].value).width(),h))[0].select()},rename:function(c){c=this._get_node(c);this.__rollback();var b=this.__callback;this._show_input(c,function(f,e,d){b.call(this,{obj:f,new_name:e,old_name:d})})},create:function(f,c,e,h,b){var d,g=this;f=this._get_node(f);if(!f){f=-1}this.__rollback();d=this.create_node(f,c,e,function(i){var j=this._get_parent(i),k=a(i).index();if(h){h.call(this,i)}if(j.length&&j.hasClass("jstree-closed")){this.open_node(j,false,true)}if(!b){this._show_input(i,function(n,m,l){g.__callback({obj:n,name:m,parent:j,position:k})})}else{g.__callback({obj:i,name:this.get_text(i),parent:j,position:k})}});return d},remove:function(b){b=this._get_node(b,true);this.__rollback();this.delete_node(b);this.__callback({obj:b})},check_move:function(){if(!this.__call_old()){return false}var b=this._get_settings().crrm.move;if(!b.check_move.call(this,this._get_move())){return false}return true},move_node:function(h,f,b,d,c,g){var e=this._get_settings().crrm.move;if(!c){if(!b){b=e.default_position}if(b==="inside"&&!e.default_position.match(/^(before|after)$/)){b=e.default_position}return this.__call_old(true,h,f,b,d,false,g)}if(e.always_copy===true||(e.always_copy==="multitree"&&h.rt.get_index()!==h.ot.get_index())){d=true}this.__call_old(true,h,f,b,d,true,g)},cut:function(b){b=this._get_node(b);this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=false;if(!b||!b.length){return false}this.data.crrm.ct_nodes=b},copy:function(b){b=this._get_node(b);this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=false;if(!b||!b.length){return false}this.data.crrm.cp_nodes=b},paste:function(b){b=this._get_node(b);if(!b||!b.length){return false}if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes){return false}if(this.data.crrm.ct_nodes){this.move_node(this.data.crrm.ct_nodes,b)}if(this.data.crrm.cp_nodes){this.move_node(this.data.crrm.cp_nodes,b,false,true)}this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=false}}});a.jstree.defaults.plugins.push("crrm")})(jQuery);(function(a){var b=[];a.jstree._themes=false;a.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",a.proxy(function(){var c=this._get_settings().themes;this.data.themes.dots=c.dots;this.data.themes.icons=c.icons;this.set_theme(c.theme,c.url)},this)).bind("loaded.jstree",a.proxy(function(){if(!this.data.themes.dots){this.hide_dots()}else{this.show_dots()}if(!this.data.themes.icons){this.hide_icons()}else{this.show_icons()}},this))},defaults:{theme:"default",url:false,dots:true,icons:true},_fn:{set_theme:function(d,c){if(!d){return false}if(this.data.themes.theme!=d){this.get_container().removeClass("jstree-"+this.data.themes.theme);this.data.themes.theme=d}this.get_container().addClass("jstree-"+d);if(!this.data.themes.dots){this.hide_dots()}else{this.show_dots()}if(!this.data.themes.icons){this.hide_icons()}else{this.show_icons()}this.__callback()},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=true;this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=false;this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){if(this.data.themes.dots){this.hide_dots()}else{this.show_dots()}},show_icons:function(){this.data.themes.icons=true;this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=false;this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){if(this.data.themes.icons){this.hide_icons()}else{this.show_icons()}}}});a(function(){if(a.jstree._themes===false){a("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/)){a.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/";return false}})}if(a.jstree._themes===false){a.jstree._themes="themes/"}});a.jstree.defaults.plugins.push("themes")})(jQuery);(function(f){var h=false,c=false,a=false,b=false,e=false,g=false,d=false;f.vakata.dnd={is_down:false,is_drag:false,ignore_click:false,src:null,helper:false,scroll_spd:10,init_x:0,init_y:0,threshold:5,user_data:{},drag_start:function(l,k,i){if(f.vakata.dnd.is_drag){f.vakata.drag_stop({})}try{l.currentTarget.unselectable="on";l.currentTarget.onselectstart=function(){return false};if(l.currentTarget.style){l.currentTarget.style.MozUserSelect="none"}}catch(j){}f.vakata.dnd.init_x=l.pageX;f.vakata.dnd.init_y=l.pageY;f.vakata.dnd.user_data=k;f.vakata.dnd.is_down=true;f.vakata.dnd.src=l.srcElement;f.vakata.dnd.helper=f("<div id='vakata-dragged'>").html(i);f(document).bind("mousemove",f.vakata.dnd.drag);f(document).bind("mouseup",f.vakata.dnd.drag_stop);return false},drag:function(n){if(!f.vakata.dnd.is_down){return}if(!f.vakata.dnd.is_drag){if(Math.abs(n.pageX-f.vakata.dnd.init_x)>5||Math.abs(n.pageY-f.vakata.dnd.init_y)>5){f.vakata.dnd.helper.appendTo("body");f.vakata.dnd.helper_height=f.vakata.dnd.helper.outerHeight();f.vakata.dnd.helper_width=f.vakata.dnd.helper.outerWidth();f.vakata.dnd.is_drag=true;f.vakata.dnd.ignore_click=true;f(document).triggerHandler("drag_start.vakata",{event:n,data:f.vakata.dnd.user_data})}else{return}}var o=f(document);var m=n.pageX;if(n.pageX<=-5){m=-5}else{m=Math.min(n.pageX,o.width()-f.vakata.dnd.helper_width-5)}var k=n.pageY;if(n.pageY<=-5){k=-5}else{k=Math.min(n.pageY,o.height()-f.vakata.dnd.helper_height-5)}if(n.type==="mousemove"){var o=f(document),j=o.scrollTop(),i=o.scrollLeft();if(n.pageY-j<20){if(e&&g==="down"){clearInterval(e);e=false}if(!e){g="up";e=setInterval(function(){f(document).scrollTop(f(document).scrollTop()-f.vakata.dnd.scroll_spd)},150)}}else{if(e&&g==="up"){clearInterval(e);e=false}}if(f(window).height()-(n.pageY-j)<20){if(e&&g==="up"){clearInterval(e);e=false}if(!e){g="down";e=setInterval(function(){f(document).scrollTop(f(document).scrollTop()+f.vakata.dnd.scroll_spd)},150)}}else{if(e&&g==="down"){clearInterval(e);e=false}}if(n.pageX-i<20){if(b&&d==="right"){clearInterval(b);b=false}if(!b){d="left";b=setInterval(function(){f(document).scrollLeft(f(document).scrollLeft()-f.vakata.dnd.scroll_spd)},150)}}else{if(b&&d==="left"){clearInterval(b);b=false}}if(f(window).width()-(n.pageX-i)<20){if(b&&d==="left"){clearInterval(b);b=false}if(!b){d="right";b=setInterval(function(){f(document).scrollLeft(f(document).scrollLeft()+f.vakata.dnd.scroll_spd)},150)}}else{if(b&&d==="right"){clearInterval(b);b=false}}}f.vakata.dnd.helper.css({left:(m+5)+"px",top:(k+5)+"px"});f(document).triggerHandler("drag.vakata",{event:n,data:f.vakata.dnd.user_data})},drag_stop:function(i){f(document).unbind("mousemove",f.vakata.dnd.drag);f(document).unbind("mouseup",f.vakata.dnd.drag_stop);f(document).triggerHandler("drag_stop.vakata",{event:i,data:f.vakata.dnd.user_data});f.vakata.dnd.helper.remove();f.vakata.dnd.init_x=0;f.vakata.dnd.init_y=0;f.vakata.dnd.user_data={};f.vakata.dnd.is_down=false;f.vakata.dnd.is_drag=false;if(!f.vakata.dnd.src||!i.srcElement||i.srcElement.id!=f.vakata.dnd.src.id){f.vakata.dnd.ignore_click=false}f.vakata.dnd.src=null}};f.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:false,after:false,inside:false,before:false,off:false,prepared:false,w:0,to1:false,to2:false,cof:false,cw:false,ch:false,i1:false,i2:false};this.get_container().bind("mouseenter.jstree",f.proxy(function(){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree&&this.data.themes){a.attr("class","jstree-"+this.data.themes.theme);f.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}},this)).bind("mouseleave.jstree",f.proxy(function(){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}}},this)).bind("mousemove.jstree",f.proxy(function(k){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){var j=this.get_container()[0];if(k.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}this.data.dnd.i1=setInterval(f.proxy(function(){this.scrollLeft+=f.vakata.dnd.scroll_spd},j),100)}else{if(k.pageX-24<this.data.dnd.cof.left){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}this.data.dnd.i1=setInterval(f.proxy(function(){this.scrollLeft-=f.vakata.dnd.scroll_spd},j),100)}else{if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}}}if(k.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}this.data.dnd.i2=setInterval(f.proxy(function(){this.scrollTop+=f.vakata.dnd.scroll_spd},j),100)}else{if(k.pageY-24<this.data.dnd.cof.top){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}this.data.dnd.i2=setInterval(f.proxy(function(){this.scrollTop-=f.vakata.dnd.scroll_spd},j),100)}else{if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}}}}},this)).delegate("a","mousedown.jstree",f.proxy(function(j){if(j.which===1){this.start_drag(j.currentTarget,j);return false}},this)).delegate("a","mouseenter.jstree",f.proxy(function(j){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){this.dnd_enter(j.currentTarget)}},this)).delegate("a","mousemove.jstree",f.proxy(function(j){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){if(typeof this.data.dnd.off.top==="undefined"){this.data.dnd.off=f(j.target).offset()}this.data.dnd.w=(j.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height;if(this.data.dnd.w<0){this.data.dnd.w+=this.data.core.li_height}this.dnd_show()}},this)).delegate("a","mouseleave.jstree",f.proxy(function(j){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;f.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");a.hide();if(c&&c[0]===j.target.parentNode){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);this.data.dnd.to1=false}if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);this.data.dnd.to2=false}}}},this)).delegate("a","mouseup.jstree",f.proxy(function(j){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){this.dnd_finish(j)}},this));f(document).bind("drag_stop.vakata",f.proxy(function(){this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;this.data.dnd.off=false;this.data.dnd.prepared=false;this.data.dnd.w=false;this.data.dnd.to1=false;this.data.dnd.to2=false;this.data.dnd.active=false;this.data.dnd.foreign=false;this.data.dnd.is_copy=false;if(a){a.css({top:"-2000px"})}},this)).bind("drag_start.vakata",f.proxy(function(l,j){if(j.data.jstree){var k=f(j.event.target);if(k.closest(".jstree").hasClass("jstree-"+this.get_index())){this.dnd_enter(k)}}},this));var i=this._get_settings().dnd;if(i.drag_target){f(document).delegate(i.drag_target,"mousedown.jstree",f.proxy(function(k){h=k.target;f.vakata.dnd.drag_start(k,{jstree:true,obj:k.target},"<ins class='jstree-icon'></ins>"+f(k.target).text());if(this.data.themes){a.attr("class","jstree-"+this.data.themes.theme);f.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}f.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var j=this.get_container();this.data.dnd.cof=j.offset();this.data.dnd.cw=parseInt(j.width(),10);this.data.dnd.ch=parseInt(j.height(),10);this.data.dnd.foreign=true;return false},this))}if(i.drop_target){f(document).delegate(i.drop_target,"mouseenter.jstree",f.proxy(function(j){if(this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:h,r:f(j.target)})){f.vakata.dnd.helper.children("ins").attr("class","jstree-ok")}},this)).delegate(i.drop_target,"mouseleave.jstree",f.proxy(function(j){if(this.data.dnd.active){f.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")}},this)).delegate(i.drop_target,"mouseup.jstree",f.proxy(function(j){if(this.data.dnd.active&&f.vakata.dnd.helper.children("ins").hasClass("jstree-ok")){this._get_settings().dnd.drop_finish.call(this,{o:h,r:f(j.target)})}},this))}},defaults:{copy_modifier:"ctrl",check_timeout:200,open_timeout:500,drop_target:".jstree-drop",drop_check:function(i){return true},drop_finish:f.noop,drag_target:".jstree-draggable",drag_finish:f.noop,drag_check:function(i){return{after:false,before:false,inside:true}}},_fn:{dnd_prepare:function(){if(!c||!c.length){return}this.data.dnd.off=c.offset();if(this._get_settings().core.rtl){this.data.dnd.off.right=this.data.dnd.off.left+c.width()}if(this.data.dnd.foreign){var i=this._get_settings().dnd.drag_check.call(this,{o:h,r:c});this.data.dnd.after=i.after;this.data.dnd.before=i.before;this.data.dnd.inside=i.inside;this.data.dnd.prepared=true;return this.dnd_show()}this.prepare_move(h,c,"before");this.data.dnd.before=this.check_move();this.prepare_move(h,c,"after");this.data.dnd.after=this.check_move();if(this._is_loaded(c)){this.prepare_move(h,c,"inside");this.data.dnd.inside=this.check_move()}else{this.data.dnd.inside=false}this.data.dnd.prepared=true;return this.dnd_show()},dnd_show:function(){if(!this.data.dnd.prepared){return}var k=["before","inside","after"],i=false,j=this._get_settings().core.rtl,l;if(this.data.dnd.w<this.data.core.li_height/3){k=["before","inside","after"]}else{if(this.data.dnd.w<=this.data.core.li_height*2/3){k=this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]}else{k=["after","inside","before"]}}f.each(k,f.proxy(function(m,n){if(this.data.dnd[n]){f.vakata.dnd.helper.children("ins").attr("class","jstree-ok");i=n;return false}},this));if(i===false){f.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")}l=j?(this.data.dnd.off.right-18):(this.data.dnd.off.left+10);switch(i){case"before":a.css({left:l+"px",top:(this.data.dnd.off.top-6)+"px"}).show();break;case"after":a.css({left:l+"px",top:(this.data.dnd.off.top+this.data.core.li_height-7)+"px"}).show();break;case"inside":a.css({left:l+(j?-4:4)+"px",top:(this.data.dnd.off.top+this.data.core.li_height/2-5)+"px"}).show();break;default:a.hide();break}return i},dnd_open:function(){this.data.dnd.to2=false;this.open_node(c,f.proxy(this.dnd_prepare,this),true)},dnd_finish:function(i){h.e=i;if(this.data.dnd.foreign){if(this.data.dnd.after||this.data.dnd.bfore||this.data.dnd.inside){this._get_settings().dnd.drag_finish.call(this,{o:h,r:c,p:this.dnd_show()})}}else{this.dnd_prepare();this.move_node(h,c,this.dnd_show(),this.data.dnd.is_copy)}h=false;c=false;a.hide()},dnd_enter:function(j){var i=this._get_settings().dnd;this.data.dnd.prepared=false;c=this._get_node(j);if(i.check_timeout){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1)}this.data.dnd.to1=setTimeout(f.proxy(this.dnd_prepare,this),i.check_timeout)}else{this.dnd_prepare()}if(i.open_timeout){if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2)}if(c&&c.length&&c.hasClass("jstree-closed")){this.data.dnd.to2=setTimeout(f.proxy(this.dnd_open,this),i.open_timeout)}}else{if(c&&c.length&&c.hasClass("jstree-closed")){this.dnd_open()}}},start_drag:function(m,l){var p=function(t,q){if(t.length<=q){return t}var r=t.substring(0,q-3);return r+"..."};h=this._get_node(m);if(this.data.ui&&this.is_selected(h)){h=this._get_node(null,true)}this.data.dnd.is_copy=l[this._get_settings().dnd.copy_modifier+"Key"];if(h.length>1){var o="Multiple selection"}else{var i=h.children("a:eq(0)");var k=i.children("span");if(k.length){var n=k.text()}else{i=i.clone();i.children("ins").remove();var n=i.text()}var o=n}f.vakata.dnd.drag_start(l,{jstree:true,obj:h},o);if(this.data.themes){a.attr("class","jstree-"+this.data.themes.theme);f.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}var j=this.get_container();this.data.dnd.cof=j.children("ul").offset();this.data.dnd.cw=parseInt(j.width(),10);this.data.dnd.ch=parseInt(j.height(),10);this.data.dnd.active=true}}});f(function(){a=f("<div>").attr({id:"jstree-marker"}).hide().appendTo("body");f(document).bind("drag_start.vakata",function(j,i){if(i.data.jstree){a.show()}});f(document).bind("drag_stop.vakata",function(j,i){if(i.data.jstree){a.hide()}})})})(jQuery);(function(a){a.jstree.plugin("html_data",{__init:function(){},defaults:{data:false,ajax:false,correct_state:true},_fn:{load_node:function(d,b,c){var e=this;this.load_node_html(d,function(){e.__callback({obj:d});b.call(this)},c)},_is_loaded:function(b){b=this._get_node(b);return b==-1||!b||!this._get_settings().html_data.ajax||b.is(".jstree-open, .jstree-leaf")||b.children("ul").children("li").size()>0},load_node_html:function(g,b,e){var i,f=this.get_settings().html_data,c=function(){},h=function(){};g=this._get_node(g);if(g&&g!==-1){if(g.data("jstree-is-loading")){return}else{g.data("jstree-is-loading",true)}}switch(!0){case (!f.data&&!f.ajax):if(!g||g==-1){}if(b){b.call(this)}break;case (!!f.data&&!f.ajax)||(!!f.data&&!!f.ajax&&(!g||g===-1)):if(!g||g==-1){i=a(f.data);if(!i.is("ul")){i=a("<ul>").append(i)}this.get_container().children("ul").empty().append(i.children()).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node()}if(b){b.call(this)}break;case (!f.data&&!!f.ajax)||(!!f.data&&!!f.ajax&&g&&g!==-1):g=this._get_node(g);c=function(j,k,l){var d=this.get_settings().html_data.ajax.error;if(d){d.call(this,j,k,l)}if(g!=-1&&g.length){g.children(".jstree-loading").removeClass("jstree-loading");g.data("jstree-is-loading",false);if(k==="success"&&f.correct_state){g.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")}}else{if(k==="success"&&f.correct_state){this.get_container().children("ul").empty()}}if(e){e.call(this)}};h=function(m,k,j){var l=this.get_settings().html_data.ajax.success;if(l){m=l.call(this,m,k,j)||m}if(m==""){return c.call(this,j,k,"")}if(m){m=a(m);if(!m.is("ul")){m=a("<ul>").append(m)}if(g==-1||!g){this.get_container().children("ul").empty().append(m.children()).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon")}else{g.children(".jstree-loading").removeClass("jstree-loading");g.append(m).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");g.data("jstree-is-loading",false)}this.clean_node(g);if(b){b.call(this)}}else{if(g&&g!==-1){g.children(".jstree-loading").removeClass("jstree-loading");g.data("jstree-is-loading",false);if(f.correct_state){g.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");if(b){b.call(this)}}}else{if(f.correct_state){this.get_container().children("ul").empty();if(b){b.call(this)}}}}};f.ajax.context=this;f.ajax.error=c;f.ajax.success=h;if(!f.ajax.dataType){f.ajax.dataType="html"}if(a.isFunction(f.ajax.url)){f.ajax.url=f.ajax.url.call(this,g)}if(a.isFunction(f.ajax.data)){f.ajax.data=f.ajax.data.call(this,g)}a.ajax(f.ajax);break}}}});a.jstree.defaults.plugins.push("html_data")})(jQuery);(function(d){d.fn.tabby=function(f){var g=d.extend({},d.fn.tabby.defaults,f);var h=d.fn.tabby.pressed;return this.each(function(){$this=d(this);var i=d.meta?d.extend({},g,$this.data()):g;$this.bind("keydown",function(k){var j=d.fn.tabby.catch_kc(k);if(16==j){h.shft=true}if(17==j){h.ctrl=true;setTimeout("$.fn.tabby.pressed.ctrl = false;",1000)}if(18==j){h.alt=true;setTimeout("$.fn.tabby.pressed.alt = false;",1000)}if(9==j&&!h.ctrl&&!h.alt){k.preventDefault;h.last=j;setTimeout("$.fn.tabby.pressed.last = null;",0);e(d(k.target).get(0),h.shft,i);return false}}).bind("keyup",function(j){if(16==d.fn.tabby.catch_kc(j)){h.shft=false}}).bind("blur",function(j){if(9==h.last){d(j.target).one("focus",function(k){h.last=null}).get(0).focus()}})})};d.fn.tabby.catch_kc=function(f){return f.keyCode?f.keyCode:f.charCode?f.charCode:f.which};d.fn.tabby.pressed={shft:false,ctrl:false,alt:false,last:null};function b(f){if(window.console&&window.console.log){window.console.log("textarea count: "+f.size())}}function e(i,h,g){var f=i.scrollTop;if(i.setSelectionRange){a(i,h,g)}else{if(document.selection){c(i,h,g)}}i.scrollTop=f}d.fn.tabby.defaults={tabString:String.fromCharCode(9)};function a(j,f,u){var t=j.selectionStart;var r=j.selectionEnd;if(t==r){if(f){if("\t"==j.value.substring(t-u.tabString.length,t)){j.value=j.value.substring(0,t-u.tabString.length)+j.value.substring(t);j.focus();j.setSelectionRange(t-u.tabString.length,t-u.tabString.length)}else{if("\t"==j.value.substring(t,t+u.tabString.length)){j.value=j.value.substring(0,t)+j.value.substring(t+u.tabString.length);j.focus();j.setSelectionRange(t,t)}}}else{j.value=j.value.substring(0,t)+u.tabString+j.value.substring(t);j.focus();j.setSelectionRange(t+u.tabString.length,t+u.tabString.length)}}else{var v=j.value.split("\n");var s=new Array();var l=0;var h=0;var g=false;for(var n in v){h=l+v[n].length;s.push({start:l,end:h,selected:(l<=t&&h>t)||(h>=r&&l<r)||(l>t&&h<r)});l=h+1}var k=0;for(var n in s){if(s[n].selected){var q=s[n].start+k;if(f&&u.tabString==j.value.substring(q,q+u.tabString.length)){j.value=j.value.substring(0,q)+j.value.substring(q+u.tabString.length);k-=u.tabString.length}else{if(!f){j.value=j.value.substring(0,q)+u.tabString+j.value.substring(q);k+=u.tabString.length}}}}j.focus();var p=t+((k>0)?u.tabString.length:(k<0)?-u.tabString.length:0);var m=r+k;j.setSelectionRange(p,m)}}function c(q,w,f){var p=document.selection.createRange();if(q==p.parentElement()){if(""==p.text){if(w){var l=p.getBookmark();p.moveStart("character",-f.tabString.length);if(f.tabString==p.text){p.text=""}else{p.moveToBookmark(l);p.moveEnd("character",f.tabString.length);if(f.tabString==p.text){p.text=""}}p.collapse(true);p.select()}else{p.text=f.tabString;p.collapse(false);p.select()}}else{var k=p.text;var n=k.length;var u=k.split("\r\n");var z=document.body.createTextRange();z.moveToElementText(q);z.setEndPoint("EndToStart",p);var m=z.text;var x=m.split("\r\n");var r=m.length;var y=document.body.createTextRange();y.moveToElementText(q);y.setEndPoint("StartToEnd",p);var v=y.text;var g=document.body.createTextRange();g.moveToElementText(q);g.setEndPoint("StartToEnd",z);var s=g.text;var h=d(q).html();d("#r3").text(r+" + "+n+" + "+v.length+" = "+h.length);if((r+s.length)<h.length){x.push("");r+=2;if(w&&f.tabString==u[0].substring(0,f.tabString.length)){u[0]=u[0].substring(f.tabString.length)}else{if(!w){u[0]=f.tabString+u[0]}}}else{if(w&&f.tabString==x[x.length-1].substring(0,f.tabString.length)){x[x.length-1]=x[x.length-1].substring(f.tabString.length)}else{if(!w){x[x.length-1]=f.tabString+x[x.length-1]}}}for(var t=1;t<u.length;t++){if(w&&f.tabString==u[t].substring(0,f.tabString.length)){u[t]=u[t].substring(f.tabString.length)}else{if(!w){u[t]=f.tabString+u[t]}}}if(1==x.length&&0==r){if(w&&f.tabString==u[0].substring(0,f.tabString.length)){u[0]=u[0].substring(f.tabString.length)}else{if(!w){u[0]=f.tabString+u[0]}}}if((r+n+v.length)<h.length){u.push("");n+=2}z.text=x.join("\r\n");p.text=u.join("\r\n");var j=document.body.createTextRange();j.moveToElementText(q);if(0<r){j.setEndPoint("StartToEnd",z)}else{j.setEndPoint("StartToStart",z)}j.setEndPoint("EndToEnd",p);j.select()}}}})(jQuery);(function(d){var c={};var b=-1;var a=function(h,f,g){if(typeof h=="object"){d.each(h,function(j,i){g(j,i)})}else{var e=h.split(/,\s*/);d.each(e,function(i,j){g(j,f)})}};d.publish=function(f,e){a(f,e,function(g,h){if(!c[g]){return false}d.each(c[g],function(i,j){j.handler(h)})})};d.subscribe=function(g,e,f){if(!e){e=++b}a(g,f,function(h,i){if(!c[h]){c[h]={}}c[h][e]={token:e,handler:i}});return e};d.unsubscribe=function(f,e){a(f,null,function(g){if(!f[g]||!f[g][e]){return false}delete f[g][e]})}})(jQuery);(function(){var a;a=(function(){function b(){this.options_index=0;this.parsed=[]}b.prototype.add_node=function(c){if(c.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(c)}else{return this.add_option(c)}};b.prototype.add_group=function(i){var h,e,g,d,f,c;h=this.parsed.length;this.parsed.push({array_index:h,group:true,label:i.label,children:0,disabled:i.disabled});f=i.childNodes;c=[];for(g=0,d=f.length;g<d;g++){e=f[g];c.push(this.add_option(e,h,i.disabled))}return c};b.prototype.add_option=function(d,e,c){if(d.nodeName.toUpperCase()==="OPTION"){if(d.text!==""){if(e!=null){this.parsed[e].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:d.value,text:d.text,html:d.innerHTML,selected:d.selected,disabled:c===true?c:d.disabled,group_array_index:e,classes:d.className,style:d.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};return b})();a.select_to_array=function(b){var g,f,e,c,d;f=new a();d=b.childNodes;for(e=0,c=d.length;e<c;e++){g=d[e];f.add_node(g)}return f.parsed};this.SelectParser=a}).call(this);(function(){var b,a;a=this;b=(function(){function c(d,e){this.form_field=d;this.options=e!=null?e:{};this.set_default_values();this.is_multiple=this.form_field.multiple;this.set_default_text();this.setup();this.set_up_html();this.register_observers();this.finish_setup()}c.prototype.set_default_values=function(){var d=this;this.click_test_action=function(e){return d.test_active_click(e)};this.activate_action=function(e){return d.activate_field(e)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.search_contains=this.options.search_contains||false;this.choices=0;this.single_backstroke_delete=this.options.single_backstroke_delete||false;return this.max_selected_options=this.options.max_selected_options||Infinity};c.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else{if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options"}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option"}}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"};c.prototype.mouse_enter=function(){return this.mouse_on_container=true};c.prototype.mouse_leave=function(){return this.mouse_on_container=false};c.prototype.input_focus=function(d){var e=this;if(!this.active_field){return setTimeout((function(){return e.container_mousedown()}),50)}};c.prototype.input_blur=function(d){var e=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return e.blur_test()}),100)}};c.prototype.result_add_option=function(f){var d,e;if(!f.disabled){f.dom_id=this.container_id+"_o_"+f.array_index;d=f.selected&&this.is_multiple?[]:["active-result"];if(f.selected){d.push("result-selected")}if(f.group_array_index!=null){d.push("group-option")}if(f.classes!==""){d.push(f.classes)}e=f.style.cssText!==""?' style="'+f.style+'"':"";return'<li id="'+f.dom_id+'" class="'+d.join(" ")+'"'+e+">"+f.html+"</li>"}else{return""}};c.prototype.results_update_field=function(){if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};c.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};c.prototype.results_search=function(d){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};c.prototype.keyup_checker=function(d){var f,e;f=(e=d.which)!=null?e:d.keyCode;this.search_field_scale();switch(f){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke()}else{if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}}break;case 13:d.preventDefault();if(this.results_showing){return this.result_select(d)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};c.prototype.generate_field_id=function(){var d;d=this.generate_random_id();this.form_field.id=d;return d};c.prototype.generate_random_char=function(){var f,e,d;f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";d=Math.floor(Math.random()*f.length);return e=f.substring(d,d+1)};return c})();a.AbstractChosen=b}).call(this);(function(){var e,f,d,a,b=Object.prototype.hasOwnProperty,c=function(j,h){for(var g in h){if(b.call(h,g)){j[g]=h[g]}}function i(){this.constructor=j}i.prototype=h.prototype;j.prototype=new i;j.__super__=h.prototype;return j};a=this;e=jQuery;e.fn.extend({chosen:function(g){if(e.browser.msie&&(e.browser.version==="6.0"||(e.browser.version==="7.0"&&document.documentMode===7))){return this}return this.each(function(h){var i;i=e(this);if(!i.hasClass("chzn-done")){return i.data("chosen",new f(this,g))}})}});f=(function(g){c(h,g);function h(){h.__super__.constructor.apply(this,arguments)}h.prototype.setup=function(){this.form_field_jq=e(this.form_field);this.current_value=this.form_field_jq.val();return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};h.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};h.prototype.set_up_html=function(){var l,k,j,i;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id();this.container_id+="_chzn";this.f_width=this.form_field_jq.outerWidth();l=e("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: 100%"});if(this.is_multiple){l.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="display: none"><ul class="chzn-results"></ul></div>')}else{l.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="display: none"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>')}this.form_field_jq.hide().after(l);this.container=e("#"+this.container_id);this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single"));this.dropdown=this.container.find("div.chzn-drop").first();k=this.container.height();j=this.f_width-d(this.dropdown);this.dropdown.css({width:"100%",top:k+"px"});this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first();i=j-d(this.search_container)-d(this.search_field);this.search_field.css({width:i+"px"})}this.results_build();this.set_tab_index();return this.form_field_jq.trigger("liszt:ready",{chosen:this})};h.prototype.register_observers=function(){var i=this;this.container.mousedown(function(j){return i.container_mousedown(j)});this.container.mouseup(function(j){return i.container_mouseup(j)});this.container.mouseenter(function(j){return i.mouse_enter(j)});this.container.mouseleave(function(j){return i.mouse_leave(j)});this.search_results.mouseup(function(j){return i.search_results_mouseup(j)});this.search_results.mouseover(function(j){return i.search_results_mouseover(j)});this.search_results.mouseout(function(j){return i.search_results_mouseout(j)});this.form_field_jq.bind("liszt:updated",function(j){return i.results_update_field(j)});this.form_field_jq.bind("liszt:activate",function(j){return i.activate_field(j)});this.form_field_jq.bind("liszt:open",function(j){return i.container_mousedown(j)});this.search_field.blur(function(j){return i.input_blur(j)});this.search_field.keyup(function(j){return i.keyup_checker(j)});this.search_field.keydown(function(j){return i.keydown_checker(j)});if(this.is_multiple){this.search_choices.click(function(j){return i.choices_click(j)});return this.search_field.focus(function(j){return i.input_focus(j)})}else{return this.container.click(function(j){return j.preventDefault()})}};h.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action)}return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}}};h.prototype.container_mousedown=function(i){var j;if(!this.is_disabled){j=i!=null?(e(i.target)).hasClass("search-choice-close"):false;if(i&&i.type==="mousedown"&&!this.results_showing){i.stopPropagation()}if(!this.pending_destroy_click&&!j){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}e(document).click(this.click_test_action);this.results_show()}else{if(!this.is_multiple&&i&&((e(i.target)[0]===this.selected_item[0])||e(i.target).parents("a.chzn-single").length)){i.preventDefault();this.results_toggle()}}return this.activate_field()}else{return this.pending_destroy_click=false}}};h.prototype.container_mouseup=function(i){if(i.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(i)}};h.prototype.blur_test=function(i){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}};h.prototype.close_field=function(){e(document).unbind("click",this.click_test_action);if(!this.is_multiple){this.selected_item.attr("tabindex",this.search_field.attr("tabindex"));this.search_field.attr("tabindex",-1)}this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};h.prototype.activate_field=function(){if(!this.is_multiple&&!this.active_field){this.search_field.attr("tabindex",this.selected_item.attr("tabindex"));this.selected_item.attr("tabindex",-1)}this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};h.prototype.test_active_click=function(i){if(e(i.target).parents("#"+this.container_id).length){return this.active_field=true}else{return this.close_field()}};h.prototype.results_build=function(){var j,m,l,i,k;this.parsing=true;this.results_data=a.SelectParser.select_to_array(this.form_field);if(this.is_multiple&&this.choices>0){this.search_choices.find("li.search-choice").remove();this.choices=0}else{if(!this.is_multiple){this.selected_item.addClass("chzn-default").find("span").text(this.default_text);if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.container.addClass("chzn-container-single-nosearch")}else{this.container.removeClass("chzn-container-single-nosearch")}}}j="";k=this.results_data;for(l=0,i=k.length;l<i;l++){m=k[l];if(m.group){j+=this.result_add_group(m)}else{if(!m.empty){j+=this.result_add_option(m);if(m.selected&&this.is_multiple){this.choice_build(m)}else{if(m.selected&&!this.is_multiple){this.selected_item.removeClass("chzn-default").find("span").text(m.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}}}}}this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(j);return this.parsing=false};h.prototype.result_add_group=function(i){if(!i.disabled){i.dom_id=this.container_id+"_g_"+i.array_index;return'<li id="'+i.dom_id+'" class="group-result">'+e("<div />").text(i.label).html()+"</li>"}else{return""}};h.prototype.result_do_highlight=function(j){var n,m,k,l,i;if(j.length){this.result_clear_highlight();this.result_highlight=j;this.result_highlight.addClass("highlighted");k=parseInt(this.search_results.css("maxHeight"),10);i=this.search_results.scrollTop();l=k+i;m=this.result_highlight.position().top+this.search_results.scrollTop();n=m+this.result_highlight.outerHeight();if(n>=l){return this.search_results.scrollTop((n-k)>0?n-k:0)}else{if(m<i){return this.search_results.scrollTop(m)}}}};h.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};h.prototype.results_show=function(){var i;if(!this.is_multiple){this.selected_item.addClass("chzn-single-with-drop");if(this.result_single_selected){this.result_do_highlight(this.result_single_selected)}}else{if(this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}}i=this.is_multiple?this.container.height():this.container.height()-1;this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.dropdown.css({top:i+"px",left:0}).show();this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};h.prototype.results_hide=function(){if(!this.is_multiple){this.selected_item.removeClass("chzn-single-with-drop")}this.result_clear_highlight();this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this});this.dropdown.css({}).hide();return this.results_showing=false};h.prototype.set_tab_index=function(j){var i;if(this.form_field_jq.attr("tabindex")){i=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);if(this.is_multiple){return this.search_field.attr("tabindex",i)}else{this.selected_item.attr("tabindex",i);return this.search_field.attr("tabindex",-1)}}};h.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};h.prototype.search_results_mouseup=function(i){var j;j=e(i.target).hasClass("active-result")?e(i.target):e(i.target).parents(".active-result").first();if(j.length){this.result_highlight=j;return this.result_select(i)}};h.prototype.search_results_mouseover=function(i){var j;j=e(i.target).hasClass("active-result")?e(i.target):e(i.target).parents(".active-result").first();if(j){return this.result_do_highlight(j)}};h.prototype.search_results_mouseout=function(i){if(e(i.target).hasClass("active-result"||e(i.target).parents(".active-result").first())){return this.result_clear_highlight()}};h.prototype.choices_click=function(i){i.preventDefault();if(this.active_field&&!(e(i.target).hasClass("search-choice"||e(i.target).parents(".search-choice").first))&&!this.results_showing){return this.results_show()}};h.prototype.choice_build=function(l){var i,j,k,m=this;if(this.is_multiple&&this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}i=this.container_id+"_c_"+l.array_index;this.choices+=1;if(l.disabled){j='<li class="search-choice search-choice-disabled" id="'+i+'"><span>'+l.html+"</span></li>"}else{j='<li class="search-choice" id="'+i+'"><span>'+l.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+l.array_index+'"></a></li>'}this.search_container.before(j);k=e("#"+i).find("a").first();return k.click(function(n){return m.choice_destroy_link_click(n)})};h.prototype.choice_destroy_link_click=function(i){i.preventDefault();if(!this.is_disabled){this.pending_destroy_click=true;return this.choice_destroy(e(i.target))}else{return i.stopPropagation}};h.prototype.choice_destroy=function(i){if(this.result_deselect(i.attr("rel"))){this.choices-=1;this.show_search_field_default();if(this.is_multiple&&this.choices>0&&this.search_field.val().length<1){this.results_hide()}return i.parents("li").first().remove()}};h.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_item.find("span").text(this.default_text);if(!this.is_multiple){this.selected_item.addClass("chzn-default")}this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};h.prototype.results_reset_cleanup=function(){this.current_value=this.form_field_jq.val();return this.selected_item.find("abbr").remove()};h.prototype.result_select=function(j){var m,l,k,i;if(this.result_highlight){m=this.result_highlight;l=m.attr("id");this.result_clear_highlight();if(this.is_multiple){this.result_deactivate(m)}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=m;this.selected_item.removeClass("chzn-default")}m.addClass("result-selected");i=l.substr(l.lastIndexOf("_")+1);k=this.results_data[i];k.selected=true;this.form_field.options[k.options_index].selected=true;if(this.is_multiple){this.choice_build(k)}else{this.selected_item.find("span").first().text(k.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}if(!(j.metaKey&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field_jq.val()!==this.current_value){this.form_field_jq.trigger("change",{selected:this.form_field.options[k.options_index].value})}this.current_value=this.form_field_jq.val();return this.search_field_scale()}};h.prototype.result_activate=function(i){return i.addClass("active-result")};h.prototype.result_deactivate=function(i){return i.removeClass("active-result")};h.prototype.result_deselect=function(k){var i,j;j=this.results_data[k];if(!this.form_field.options[j.options_index].disabled){j.selected=false;this.form_field.options[j.options_index].selected=false;i=e("#"+this.container_id+"_o_"+k);i.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[j.options_index].value});this.search_field_scale();return true}else{return false}};h.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1){return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}};h.prototype.winnow_results=function(){var o,q,u,t,k,r,n,x,s,w,v,p,l,j,i,y,z,m;this.no_results_clear();s=0;w=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html();r=this.search_contains?"":"^";k=new RegExp(r+w.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");l=new RegExp(w.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");m=this.results_data;for(j=0,y=m.length;j<y;j++){q=m[j];if(!q.disabled&&!q.empty){if(q.group){e("#"+q.dom_id).css("display","none")}else{if(!(this.is_multiple&&q.selected)){o=false;x=q.dom_id;n=e("#"+x);if(k.test(q.html)){o=true;s+=1}else{if(q.html.indexOf(" ")>=0||q.html.indexOf("[")===0){t=q.html.replace(/\[|\]/g,"").split(" ");if(t.length){for(i=0,z=t.length;i<z;i++){u=t[i];if(k.test(u)){o=true;s+=1}}}}}if(o){if(w.length){v=q.html.search(l);p=q.html.substr(0,v+w.length)+"</em>"+q.html.substr(v+w.length);p=p.substr(0,v)+"<em>"+p.substr(v)}else{p=q.html}n.html(p);this.result_activate(n);if(q.group_array_index!=null){e("#"+this.results_data[q.group_array_index].dom_id).css("display","list-item")}}else{if(this.result_highlight&&x===this.result_highlight.attr("id")){this.result_clear_highlight()}this.result_deactivate(n)}}}}}if(s<1&&w.length){return this.no_results(w)}else{return this.winnow_results_set_highlight()}};h.prototype.winnow_results_clear=function(){var i,l,m,k,j;this.search_field.val("");l=this.search_results.find("li");j=[];for(m=0,k=l.length;m<k;m++){i=l[m];i=e(i);if(i.hasClass("group-result")){j.push(i.css("display","auto"))}else{if(!this.is_multiple||!i.hasClass("result-selected")){j.push(this.result_activate(i))}else{j.push(void 0)}}}return j};h.prototype.winnow_results_set_highlight=function(){var i,j;if(!this.result_highlight){j=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];i=j.length?j.first():this.search_results.find(".active-result").first();if(i!=null){return this.result_do_highlight(i)}}};h.prototype.no_results=function(i){var j;j=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');j.find("span").first().html(i);return this.search_results.append(j)};h.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};h.prototype.keydown_arrow=function(){var j,i;if(!this.result_highlight){j=this.search_results.find("li.active-result").first();if(j){this.result_do_highlight(e(j))}}else{if(this.results_showing){i=this.result_highlight.nextAll("li.active-result").first();if(i){this.result_do_highlight(i)}}}if(!this.results_showing){return this.results_show()}};h.prototype.keyup_arrow=function(){var i;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else{if(this.result_highlight){i=this.result_highlight.prevAll("li.active-result");if(i.length){return this.result_do_highlight(i.first())}else{if(this.choices>0){this.results_hide()}return this.result_clear_highlight()}}}};h.prototype.keydown_backstroke=function(){var i;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{i=this.search_container.siblings("li.search-choice").last();if(i.length&&!i.hasClass("search-choice-disabled")){this.pending_backstroke=i;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};h.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};h.prototype.keydown_checker=function(i){var k,j;k=(j=i.which)!=null?j:i.keyCode;this.search_field_scale();if(k!==8&&this.pending_backstroke){this.clear_backstroke()}switch(k){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(i)}this.mouse_on_container=false;break;case 13:i.preventDefault();break;case 38:i.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow();break}};h.prototype.search_field_scale=function(){var q,i,l,j,o,p,n,k,m;if(this.is_multiple){l=0;n=0;o="position:absolute; left: -1000px; top: -1000px; display:none;";p=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(k=0,m=p.length;k<m;k++){j=p[k];o+=j+":"+this.search_field.css(j)+";"}i=e("<div />",{style:o});i.text(this.search_field.val());e("body").append(i);n=i.width()+25;i.remove();if(n>this.f_width-10){n=this.f_width-10}this.search_field.css({width:n+"px"});q=this.container.height();return this.dropdown.css({top:q+"px"})}};h.prototype.generate_random_id=function(){var i;i="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(e("#"+i).length>0){i+=this.generate_random_char()}return i};return h})(AbstractChosen);d=function(g){var h;return h=g.outerWidth()-g.width()};a.get_side_border_padding=d}).call(this);(function(b){var a=function(){var S={},c,N=65,t,P='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',B={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:true,flat:false},J=function(T,V){var U=j(T);b(V).data("colorpicker").fields.eq(1).val(U.r).end().eq(2).val(U.g).end().eq(3).val(U.b).end()},u=function(T,U){b(U).data("colorpicker").fields.eq(4).val(T.h).end().eq(5).val(T.s).end().eq(6).val(T.b).end()},g=function(T,U){b(U).data("colorpicker").fields.eq(0).val(R(T)).end()},l=function(T,U){b(U).data("colorpicker").selector.css("backgroundColor","#"+R({h:T.h,s:100,b:100}));b(U).data("colorpicker").selectorIndic.css({left:parseInt(150*T.s/100,10),top:parseInt(150*(100-T.b)/100,10)})},G=function(T,U){b(U).data("colorpicker").hue.css("top",parseInt(150-150*T.h/360,10))},h=function(T,U){b(U).data("colorpicker").currentColor.css("backgroundColor","#"+R(T))},E=function(T,U){b(U).data("colorpicker").newColor.css("backgroundColor","#"+R(T))},n=function(T){var V=T.charCode||T.keyCode||-1;if((V>N&&V<=90)||V==32){return false}var U=b(this).parent().parent();if(U.data("colorpicker").livePreview===true){e.apply(this)}},e=function(U){var V=b(this).parent().parent(),T;if(this.parentNode.className.indexOf("_hex")>0){V.data("colorpicker").color=T=m(y(this.value))}else{if(this.parentNode.className.indexOf("_hsb")>0){V.data("colorpicker").color=T=f({h:parseInt(V.data("colorpicker").fields.eq(4).val(),10),s:parseInt(V.data("colorpicker").fields.eq(5).val(),10),b:parseInt(V.data("colorpicker").fields.eq(6).val(),10)})}else{V.data("colorpicker").color=T=i(M({r:parseInt(V.data("colorpicker").fields.eq(1).val(),10),g:parseInt(V.data("colorpicker").fields.eq(2).val(),10),b:parseInt(V.data("colorpicker").fields.eq(3).val(),10)}))}}if(U){J(T,V.get(0));g(T,V.get(0));u(T,V.get(0))}l(T,V.get(0));G(T,V.get(0));E(T,V.get(0));V.data("colorpicker").onChange.apply(V,[T,R(T),j(T)])},o=function(T){var U=b(this).parent().parent();U.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},K=function(){N=this.parentNode.className.indexOf("_hex")>0?70:65;b(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");b(this).parent().addClass("colorpicker_focus")},I=function(T){var V=b(this).parent().find("input").focus();var U={el:b(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:(this.parentNode.className.indexOf("_hsb")>0?100:255),y:T.pageY,field:V,val:parseInt(V.val(),10),preview:b(this).parent().parent().data("colorpicker").livePreview};b(document).bind("mouseup",U,s);b(document).bind("mousemove",U,L)},L=function(T){T.data.field.val(Math.max(0,Math.min(T.data.max,parseInt(T.data.val+T.pageY-T.data.y,10))));if(T.data.preview){e.apply(T.data.field.get(0),[true])}return false},s=function(T){e.apply(T.data.field.get(0),[true]);T.data.el.removeClass("colorpicker_slider").find("input").focus();b(document).unbind("mouseup",s);b(document).unbind("mousemove",L);return false},w=function(T){var U={cal:b(this).parent(),y:b(this).offset().top};U.preview=U.cal.data("colorpicker").livePreview;b(document).bind("mouseup",U,r);b(document).bind("mousemove",U,k)},k=function(T){e.apply(T.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,(T.pageY-T.data.y))))/150,10)).get(0),[T.data.preview]);return false},r=function(T){J(T.data.cal.data("colorpicker").color,T.data.cal.get(0));g(T.data.cal.data("colorpicker").color,T.data.cal.get(0));b(document).unbind("mouseup",r);b(document).unbind("mousemove",k);return false},x=function(T){var U={cal:b(this).parent(),pos:b(this).offset()};U.preview=U.cal.data("colorpicker").livePreview;b(document).bind("mouseup",U,A);b(document).bind("mousemove",U,q);T.data=U;q(T)},q=function(T){e.apply(T.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,(T.pageY-T.data.pos.top))))/150,10)).end().eq(5).val(parseInt(100*(Math.max(0,Math.min(150,(T.pageX-T.data.pos.left))))/150,10)).get(0),[T.data.preview]);return false},A=function(T){J(T.data.cal.data("colorpicker").color,T.data.cal.get(0));g(T.data.cal.data("colorpicker").color,T.data.cal.get(0));b(document).unbind("mouseup",A);b(document).unbind("mousemove",q);return false},v=function(T){b(this).addClass("colorpicker_focus")},Q=function(T){b(this).removeClass("colorpicker_focus")},p=function(U){var V=b(this).parent();var T=V.data("colorpicker").color;V.data("colorpicker").origColor=T;h(T,V.get(0));V.data("colorpicker").onSubmit(T,R(T),j(T),V.data("colorpicker").el)},D=function(T){var X=b("#"+b(this).data("colorpickerId"));X.data("colorpicker").onBeforeShow.apply(this,[X.get(0)]);var Y=b(this).offset();var W=z();var V=Y.top+this.offsetHeight;var U=Y.left;if(V+176>W.t+W.h){V-=this.offsetHeight+176}if(U+356>W.l+W.w){U-=356}X.css({left:U+"px",top:V+"px"});if(X.data("colorpicker").onShow.apply(this,[X.get(0)])!=false){X.show()}b(document).bind("mousedown",{cal:X},O);return false},O=function(T){if(!H(T.data.cal.get(0),T.target,T.data.cal.get(0))){if(T.data.cal.data("colorpicker").onHide.apply(this,[T.data.cal.get(0)])!=false){T.data.cal.hide()}b(document).unbind("mousedown",O)}},H=function(V,U,T){if(V==U){return true}if(V.contains){return V.contains(U)}if(V.compareDocumentPosition){return !!(V.compareDocumentPosition(U)&16)}var W=U.parentNode;while(W&&W!=T){if(W==V){return true}W=W.parentNode}return false},z=function(){var T=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(T?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(T?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(T?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(T?document.documentElement.clientHeight:document.body.clientHeight)}},f=function(T){return{h:Math.min(360,Math.max(0,T.h)),s:Math.min(100,Math.max(0,T.s)),b:Math.min(100,Math.max(0,T.b))}},M=function(T){return{r:Math.min(255,Math.max(0,T.r)),g:Math.min(255,Math.max(0,T.g)),b:Math.min(255,Math.max(0,T.b))}},y=function(V){var T=6-V.length;if(T>0){var W=[];for(var U=0;U<T;U++){W.push("0")}W.push(V);V=W.join("")}return V},d=function(T){var T=parseInt(((T.indexOf("#")>-1)?T.substring(1):T),16);return{r:T>>16,g:(T&65280)>>8,b:(T&255)}},m=function(T){return i(d(T))},i=function(V){var U={h:0,s:0,b:0};var W=Math.min(V.r,V.g,V.b);var T=Math.max(V.r,V.g,V.b);var X=T-W;U.b=T;if(T!=0){}U.s=T!=0?255*X/T:0;if(U.s!=0){if(V.r==T){U.h=(V.g-V.b)/X}else{if(V.g==T){U.h=2+(V.b-V.r)/X}else{U.h=4+(V.r-V.g)/X}}}else{U.h=-1}U.h*=60;if(U.h<0){U.h+=360}U.s*=100/255;U.b*=100/255;U.h=Math.round(U.h);U.s=Math.round(U.s);U.b=Math.round(U.b);return U},j=function(T){var V={};var Z=Math.round(T.h);var Y=Math.round(T.s*255/100);var U=Math.round(T.b*255/100);if(Y==0){V.r=V.g=V.b=U}else{var aa=U;var X=(255-Y)*U/255;var W=(aa-X)*(Z%60)/60;if(Z==360){Z=0}if(Z<60){V.r=aa;V.b=X;V.g=X+W}else{if(Z<120){V.g=aa;V.b=X;V.r=aa-W}else{if(Z<180){V.g=aa;V.r=X;V.b=X+W}else{if(Z<240){V.b=aa;V.r=X;V.g=aa-W}else{if(Z<300){V.b=aa;V.g=X;V.r=X+W}else{if(Z<360){V.r=aa;V.g=X;V.b=aa-W}else{V.r=0;V.g=0;V.b=0}}}}}}}return{r:Math.round(V.r),g:Math.round(V.g),b:Math.round(V.b)}},C=function(T){var U=[T.r.toString(16),T.g.toString(16),T.b.toString(16)];b.each(U,function(V,W){if(W.length==1){U[V]="0"+W}});return U.join("")},R=function(T){return C(j(T))},F=function(){var U=b(this).parent();var T=U.data("colorpicker").origColor;U.data("colorpicker").color=T;J(T,U.get(0));g(T,U.get(0));u(T,U.get(0));l(T,U.get(0));G(T,U.get(0));E(T,U.get(0));U.data("colorpicker").onChange.apply(U,[T,R(T),j(T)])};return{init:function(T){T=b.extend({},B,T||{});if(typeof T.color=="string"){T.color=m(T.color)}else{if(T.color.r!=undefined&&T.color.g!=undefined&&T.color.b!=undefined){T.color=i(T.color)}else{if(T.color.h!=undefined&&T.color.s!=undefined&&T.color.b!=undefined){T.color=f(T.color)}else{return this}}}return this.each(function(){if(!b(this).data("colorpickerId")){var U=b.extend({},T);U.origColor=T.color;var W="collorpicker_"+parseInt(Math.random()*1000);b(this).data("colorpickerId",W);var V=b(P).attr("id",W);if(U.flat){V.appendTo(this).show()}else{V.appendTo(document.body)}U.fields=V.find("input").bind("keyup",n).bind("change",e).bind("blur",o).bind("focus",K);V.find("span").bind("mousedown",I).end().find(">div.colorpicker_current_color").bind("click",F);U.selector=V.find("div.colorpicker_color").bind("mousedown",x);U.selectorIndic=U.selector.find("div div");U.el=this;U.hue=V.find("div.colorpicker_hue div");V.find("div.colorpicker_hue").bind("mousedown",w);U.newColor=V.find("div.colorpicker_new_color");U.currentColor=V.find("div.colorpicker_current_color");V.data("colorpicker",U);V.find("div.colorpicker_submit").bind("mouseenter",v).bind("mouseleave",Q).bind("click",p);J(U.color,V.get(0));u(U.color,V.get(0));g(U.color,V.get(0));G(U.color,V.get(0));l(U.color,V.get(0));h(U.color,V.get(0));E(U.color,V.get(0));if(U.flat){V.css({position:"relative",display:"block"})}else{b(this).bind(U.eventName,D)}}})},showPicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){D.apply(this)}})},hidePicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){b("#"+b(this).data("colorpickerId")).hide()}})},setColor:function(T){if(typeof T=="string"){T=m(T)}else{if(T.r!=undefined&&T.g!=undefined&&T.b!=undefined){T=i(T)}else{if(T.h!=undefined&&T.s!=undefined&&T.b!=undefined){T=f(T)}else{return this}}}return this.each(function(){if(b(this).data("colorpickerId")){var U=b("#"+b(this).data("colorpickerId"));U.data("colorpicker").color=T;U.data("colorpicker").origColor=T;J(T,U.get(0));u(T,U.get(0));g(T,U.get(0));G(T,U.get(0));l(T,U.get(0));h(T,U.get(0));E(T,U.get(0))}})}}}();b.fn.extend({ColorPicker:a.init,ColorPickerHide:a.hidePicker,ColorPickerShow:a.showPicker,ColorPickerSetColor:a.setColor})})(jQuery);(function(e){var f={topPadding:0,topSpacing:0,height:0,className:"",container:""},h=e(window),a=h.height(),b=e(document),g=[];var c=function(){var j=h.scrollTop(),r=b.height();for(var m=0;m<g.length;m++){var q=g[m],l=q.parent.offset(),o=l.top-q.topPadding-q.topSpacing;if(j<=o){if(q.currentTop!==null){q.sticky.css("position","").css("top","").css("left","").css("width","");q.sticky.removeClass(q.className);q.currentTop=null}}else{var n=q.topSpacing;if(q.currentTop!=n){q.sticky.css("position","fixed").css("top",n);q.sticky.addClass(q.className);q.currentTop=n}var k=h.scrollLeft();if(k>0){var p=l.left-k;q.sticky.css("left",p)}else{q.sticky.css("left","")}if(q.container){q.sticky.css("width",e(q.container).width())}}}};h.scroll(c);h.resize(function(){a=h.height();c()});var d=function(i,k){var j=e(i);j.wrapAll(e("<div></div>"));j.parent().css("height",k.height?k.height:j.outerHeight());g.push({topPadding:k.topPadding,topSpacing:k.topSpacing,sticky:j,parent:j.parent(),className:k.className,currentTop:null,container:k.container})};e.fn.sticky=function(i){var j=e.extend({},f,i);return this.each(function(){d(this,j);c()})}})(jQuery);(function(g){var f=null;var k=null;var j=false;var a=null;var d=null;g.fn.tooltip=function(l){var m=g.extend({},g.fn.tooltip.defaults,l);return this.each(function(){i(this,m)})};g.fn.tooltip.defaults={offsetX:15,offsetY:0,toggleEvent:"hover",tooltip:null,showDelay:600,hideDelay:400,autoHide:true};var i=function(m,n){var l=g(m);e(l,n)};var e=function(l,n){var m=g(n.tooltip);l.unbind("mouseover").mouseover(function(o){if(f){clearTimeout(f)}f=null;if(j){if(this!=d){d=this;c(a);h(l,m,false);return}}else{d=this}if(k){return}k=setTimeout(function(){h(l,m,true)},n.showDelay);return false});l.unbind("click").click(function(o){if(j){c(a)}else{if(k){clearTimeout(k)}k=null}});m.unbind("mouseover").mouseover(function(){if(f){clearTimeout(f)}f=null;return false});l.add(m).unbind("mouseout").mouseout(function(o){if(k){clearTimeout(k)}k=null;if(f){clearTimeout(f)}f=setTimeout(function(){c(m)},n.hideDelay);return false})};var h=function(r,u,m){k=null;j=true;a=u;var o=r.attr("tooltip-header");if(o){u.find(".tooltip-header").text(o).show()}else{u.find(".tooltip-header").hide()}u.find("p").text(r.attr("tooltip-text"));var l=r.attr("tooltip-width");if(!l){l=190}u.css("width",l+"px");var p=r.attr("tooltip-position");var s=b(r,u,p);u.css({top:s.top,left:s.left});var n=g(".tooltip-pointer-up",u);var q=g(".tooltip-pointer-right",u);if(p=="left"){n.hide();q.css({top:Math.floor(r.outerHeight()/2)+1,left:u.outerWidth()}).show()}else{if(p=="top"||p=="right"){n.hide();q.hide()}else{q.hide();n.css({top:-6,left:r.offset().left-s.left+(r.outerWidth()>10?3:-3)}).show()}}if(m){u.hide().fadeIn(100)}else{u.show()}};var b=function(n,p,s){var l=g(window);var m=l.width()+l.scrollLeft();var r=n.offset();if(s=="left"){return{top:r.top-8,left:r.left-p.outerWidth()-12}}else{if(s=="right"){return{top:r.top-8,left:r.left+n.outerWidth()}}else{if(s=="top"){var q=r.left+parseInt(n.outerWidth()/2)-parseInt(p.outerWidth()/2);var o=p.outerWidth();return{top:r.top-p.outerHeight()-12,left:Math.max(15,Math.min(q,m-o-15))}}else{var q=r.left-15;var o=p.outerWidth();return{top:r.top+n.height()+8,left:Math.min(q,m-o-10)}}}}};var c=function(l){f=null;a=null;d=null;l.hide();j=false}})(jQuery);(function(b){b.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:true,filterTextInputs:true,filterContentEditable:true}};function a(d){if(typeof d.data==="string"){d.data={keys:d.data}}if(!d.data||!d.data.keys||typeof d.data.keys!=="string"){return}var c=d.handler,e=d.data.keys.toLowerCase().split(" ");d.handler=function(m){if(this!==m.target&&(b.hotkeys.options.filterInputAcceptingElements&&b.hotkeys.textInputTypes.test(m.target.nodeName)||(b.hotkeys.options.filterContentEditable&&b(m.target).attr("contenteditable"))||(b.hotkeys.options.filterTextInputs&&b.inArray(m.target.type,b.hotkeys.textAcceptingInputTypes)>-1))){return}var h=m.type!=="keypress"&&b.hotkeys.specialKeys[m.which],n=String.fromCharCode(m.which).toLowerCase(),k="",g={};b.each(["alt","ctrl","shift"],function(i,l){if(m[l+"Key"]&&h!==l){k+=l+"+"}});if(m.metaKey&&!m.ctrlKey&&h!=="meta"){k+="meta+"}if(m.metaKey&&h!=="meta"&&k.indexOf("alt+ctrl+shift+")>-1){k=k.replace("alt+ctrl+shift+","hyper+")}if(h){g[k+h]=true}else{g[k+n]=true;g[k+b.hotkeys.shiftNums[n]]=true;if(k==="shift+"){g[b.hotkeys.shiftNums[n]]=true}}for(var j=0,f=e.length;j<f;j++){if(g[e[j]]){return c.apply(this,arguments)}}}}b.each(["keydown","keyup","keypress"],function(){b.event.special[this]={add:a}})})(jQuery||this.jQuery||window.jQuery);(function(a){a.fn.clipboard=function(f){if(!window.FileReader){return this}var h=a.extend({},a.fn.clipboard.defaults,f);var e=new RegExp(h.accept),g=new RegExp("/(.*)");this.on("paste",function(j){var j=j.originalEvent;if(!j.clipboardData||!j.clipboardData.items){return}c(j,j.clipboardData.items)});function c(p,k){var n=[];for(var m=0;m<k.length;m++){var l=k[m].getAsFile();if(!l){continue}if(!l.type.match(e)){continue}var o=g.exec(l.type);if(!l.name&&o){var q=o[1];l.name=d(m,q)}n.push(l)}if(!n.length){return}for(var m=0;m<n.length;m++){var l=n[m],j=new FileReader();j.onloadend=function(){h.paste(p,l)};j.readAsDataURL(l)}p.preventDefault();p.stopPropagation()}function d(j,l){var k=b(new Date());return h.prefix+j+"-"+k+"."+l}function b(){var k=new Date();var r=k.getYear()+1900,j=i(k.getMonth()),p=i(k.getDay()),o=i(k.getHours()),q=i(k.getMinutes()),l=i(k.getSeconds());return r+"-"+j+"-"+p+"-"+o+"-"+q+"-"+l}function i(j){return j<10?("0"+j):j}return this};a.fn.clipboard.defaults={accept:"image/.*",prefix:"image-"}})(jQuery);if(!this.JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapeable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapeable.lastIndex=0;return escapeable.test(string)?'"'+string.replace(escapeable,function(a){var c=meta[a];if(typeof c==="string"){return c}return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(typeof value.length==="number"&&!value.propertyIsEnumerable("length")){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();(function(){function ar(o,n){var q;o||(o={});for(q in n){o[q]=n[q]}return o}function ao(){var o,n=arguments.length,s={},q=function(u,t){var w,v;for(v in t){t.hasOwnProperty(v)&&(w=t[v],typeof u!=="object"&&(u={}),u[v]=w&&typeof w==="object"&&Object.prototype.toString.call(w)!=="[object Array]"&&typeof w.nodeType!=="number"?q(u[v]||{},w):t[v])}return u};for(o=0;o<n;o++){s=q(s,arguments[o])}return s}function aq(o,n){return parseInt(o,n||10)}function bN(n){return typeof n==="string"}function aR(n){return typeof n==="object"}function a7(n){return Object.prototype.toString.call(n)==="[object Array]"}function aK(n){return typeof n==="number"}function bf(n){return a0.log(n)/a0.LN10}function H(n){return a0.pow(10,n)}function bv(o,n){for(var q=o.length;q--;){if(o[q]===n){o.splice(q,1);break}}}function au(n){return n!==ap&&n!==null}function bi(o,n,t){var s,q;if(bN(n)){au(t)?o.setAttribute(n,t):o&&o.getAttribute&&(q=o.getAttribute(n))}else{if(au(n)&&aR(n)){for(s in n){o.setAttribute(s,n[s])}}}return q}function a6(n){return a7(n)?n:[n]}function aw(){var o=arguments,n,s,q=o.length;for(n=0;n<q;n++){if(s=o[n],typeof s!=="undefined"&&s!==null){return s}}}function a1(o,n){if(aD&&n&&n.opacity!==ap){n.filter="alpha(opacity="+n.opacity*100+")"}ar(o.style,n)}function aS(o,n,t,s,q){o=am.createElement(o);n&&ar(o,n);q&&a1(o,{padding:0,border:aZ,margin:0});t&&a1(o,t);s&&s.appendChild(o);return o}function f(o,n){var q=function(){};q.prototype=new o;ar(q.prototype,n);return q}function bF(o,n,v,u){var t=aW.lang,s=o;n===-1?(n=(o||0).toString(),o=n.indexOf(".")>-1?n.split(".")[1].length:0):o=isNaN(n=aV(n))?2:n;var n=o,v=v===void 0?t.decimalPoint:v,u=u===void 0?t.thousandsSep:u,t=s<0?"-":"",o=String(aq(s=aV(+s||0).toFixed(n))),q=o.length>3?o.length%3:0;return t+(q?o.substr(0,q)+u:"")+o.substr(q).replace(/(\d{3})(?=\d)/g,"$1"+u)+(n?v+aV(s-o).toFixed(n).slice(2):"")}function ak(o,n){return Array((n||2)+1-String(o).length).join(0)+o}function ad(z,x){for(var w="{",v=!1,u,t,s,q,o,n=[];(w=z.indexOf(w))!==-1;){u=z.slice(0,w);if(v){t=u.split(":");s=t.shift().split(".");o=s.length;u=x;for(q=0;q<o;q++){u=u[s[q]]}if(t.length){t=t.join(":"),s=/\.([0-9])/,q=aW.lang,o=void 0,/f$/.test(t)?(o=(o=t.match(s))?o[1]:6,u=bF(u,o,q.decimalPoint,t.indexOf(",")>-1?q.thousandsSep:"")):u=bq(t,u)}}n.push(u);z=z.slice(w+1);w=(v=!v)?"}":"{"}n.push(z);return n.join("")}function aA(o,n,t,s){var q,t=aw(t,1);q=o/t;n||(n=[1,2,2.5,5,10],s&&s.allowDecimals===!1&&(t===1?n=[1,2,5,10]:t<=0.1&&(n=[1/t])));for(s=0;s<n.length;s++){if(o=n[s],q<=(n[s]+(n[s+1]||n[s]))/2){break}}o*=t;return o}function bG(o,n){var v=n||[[bo,[1,2,5,10,20,25,50,100,200,500]],[I,[1,2,5,10,15,30]],[aN,[1,2,5,10,15,30]],[bn,[1,2,3,4,6,8,12]],[aF,[1,2]],[an,[1,2]],[aL,[1,2,3,4,6]],[p,null]],u=v[v.length-1],t=bj[u[0]],s=u[1],q;for(q=0;q<v.length;q++){if(u=v[q],t=bj[u[0]],s=u[1],v[q+1]&&o<=(t*s[s.length-1]+bj[v[q+1][0]])/2){break}}t===bj[p]&&o<5*t&&(s=[1,2,5]);t===bj[p]&&o<5*t&&(s=[1,2,5]);v=aA(o/t,s);return{unitRange:t,count:v,unitName:u[0]}}function bM(E,C,A,z){var x=[],w={},v=aW.global.useUTC,u,t=new Date(C),s=E.unitRange,q=E.count;if(au(C)){s>=bj[I]&&(t.setMilliseconds(0),t.setSeconds(s>=bj[aN]?0:q*aT(t.getSeconds()/q)));if(s>=bj[aN]){t[bu](s>=bj[bn]?0:q*aT(t[g]()/q))}if(s>=bj[bn]){t[a5](s>=bj[aF]?0:q*aT(t[bP]()/q))}if(s>=bj[aF]){t[bx](s>=bj[aL]?1:q*aT(t[al]()/q))}s>=bj[aL]&&(t[aB](s>=bj[p]?0:q*aT(t[B]()/q)),u=t[d]());s>=bj[p]&&(u-=u%q,t[Q](u));if(s===bj[an]){t[bx](t[al]()-t[a9]()+aw(z,1))}C=1;u=t[d]();for(var z=t.getTime(),n=t[B](),o=t[al](),t=v?0:(86400000+t.getTimezoneOffset()*60000)%86400000;z<A;){x.push(z),s===bj[p]?z=bK(u+C*q,0):s===bj[aL]?z=bK(u,n+C*q):!v&&(s===bj[aF]||s===bj[an])?z=bK(u,n,o+C*q*(s===bj[aF]?1:7)):(z+=s*q,s<=bj[bn]&&z%bj[aF]===t&&(w[z]=aF)),C++}x.push(z)}x.info=ar(E,{higherRanks:w,totalRange:s*q});return x}function i(){this.symbol=this.color=0}function bR(o,n){var t=o.length,s,q;for(q=0;q<t;q++){o[q].ss_i=q}o.sort(function(u,v){s=n(u,v);return s===0?u.ss_i-v.ss_i:s});for(q=0;q<t;q++){delete o[q].ss_i}}function j(o){for(var n=o.length,q=o[0];n--;){o[n]<q&&(q=o[n])}return q}function ag(o){for(var n=o.length,q=o[0];n--;){o[n]>q&&(q=o[n])}return q}function bS(o,n){for(var q in o){o[q]&&o[q]!==n&&o[q].destroy&&o[q].destroy(),delete o[q]}}function y(n){bh||(bh=aS(b));n&&bh.appendChild(n);bh.innerHTML=""}function m(o,n){var q="Highcharts error #"+o+": www.highcharts.com/errors/"+o;if(n){throw q}else{bd.console&&console.log(q)}}function aC(n){return parseFloat(n.toPrecision(14))}function bA(o,n){bI=aw(o,n.animation)}function bz(){var o=aW.global.useUTC,n=o?"getUTC":"get",q=o?"setUTC":"set";bK=o?Date.UTC:function(t,s,x,w,v,u){return(new Date(t,s,aw(x,1),aw(w,0),aw(v,0),aw(u,0))).getTime()};g=n+"Minutes";bP=n+"Hours";a9=n+"Day";al=n+"Date";B=n+"Month";d=n+"FullYear";bu=q+"Minutes";a5=q+"Hours";bx=q+"Date";aB=q+"Month";Q=q+"FullYear"}function bV(){}function bg(o,n,s,q){this.axis=o;this.pos=n;this.type=s||"";this.isNew=!0;!s&&!q&&this.addLabel()}function aE(o,n){this.axis=o;if(n){this.options=n,this.id=n.id}}function be(o,n,v,u,t,s){var q=o.chart.inverted;this.axis=o;this.isNegative=v;this.options=n;this.x=u;this.stack=t;this.percent=s==="percent";this.alignOptions={align:n.align||(q?v?"left":"right":"center"),verticalAlign:n.verticalAlign||(q?"middle":v?"bottom":"top"),y:aw(n.y,q?4:v?14:-6),x:aw(n.x,q?v?-6:6:0)};this.textAlign=n.textAlign||(q?v?"right":"left":"center")}function br(){this.init.apply(this,arguments)}function ae(){this.init.apply(this,arguments)}function k(o,n){this.init(o,n)}function bT(o,n){this.init(o,n)}function bC(){this.init.apply(this,arguments)}var ap,am=document,bd=window,a0=Math,at=a0.round,aT=a0.floor,ac=a0.ceil,av=a0.max,bc=a0.min,aV=a0.abs,aO=a0.cos,az=a0.sin,aH=a0.PI,aX=aH*2/360,bp=navigator.userAgent,aG=bd.opera,aD=/msie/i.test(bp)&&!aG,ax=am.documentMode===8,D=/AppleWebKit/.test(bp),e=/Firefox/.test(bp),af=/(Mobile|Android|Windows Phone)/.test(bp),bE="http://www.w3.org/2000/svg",aM=!!am.createElementNS&&!!am.createElementNS(bE,"svg").createSVGRect,r=e&&parseInt(bp.split("Firefox/")[1],10)<4,bB=!aM&&!aD&&!!am.createElement("canvas").getContext,c,bL=am.documentElement.ontouchstart!==ap,l={},bk=0,bh,aW,bq,bI,aI,bj,bm=function(){},bO=[],b="div",aZ="none",bU="rgba(192,192,192,"+(aM?0.0001:0.002)+")",bo="millisecond",I="second",aN="minute",bn="hour",aF="day",an="week",aL="month",p="year",bD="stroke-width",bK,g,bP,a9,al,B,d,bu,a5,bx,aB,Q,bs={};bd.Highcharts=bd.Highcharts?m(16,!0):{};bq=function(C,A,z){if(!au(A)||isNaN(A)){return"Invalid date"}var C=aw(C,"%Y-%m-%d %H:%M:%S"),x=new Date(A),w,v=x[bP](),u=x[a9](),t=x[al](),s=x[B](),q=x[d](),o=aW.lang,n=o.weekdays,x=ar({a:n[u].substr(0,3),A:n[u],d:ak(t),e:t,b:o.shortMonths[s],B:o.months[s],m:ak(s+1),y:q.toString().substr(2,2),Y:q,H:ak(v),I:ak(v%12||12),l:v%12||12,M:ak(x[g]()),p:v<12?"AM":"PM",P:v<12?"am":"pm",S:ak(x.getSeconds()),L:ak(at(A%1000),3)},Highcharts.dateFormats);for(w in x){for(;C.indexOf("%"+w)!==-1;){C=C.replace("%"+w,typeof x[w]==="function"?x[w](A):x[w])}}return z?C.substr(0,1).toUpperCase()+C.substr(1):C};i.prototype={wrapColor:function(n){if(this.color>=n){this.color=0}},wrapSymbol:function(n){if(this.symbol>=n){this.symbol=0}}};bj=function(){for(var o=0,n=arguments,s=n.length,q={};o<s;o++){q[n[o++]]=n[o]}return q}(bo,1,I,1000,aN,60000,bn,3600000,aF,86400000,an,604800000,aL,2678400000,p,31556952000);aI={init:function(z,x,w){var x=x||"",v=z.shift,u=x.indexOf("C")>-1,t=u?7:3,s,x=x.split(" "),w=[].concat(w),q,o,n=function(A){for(s=A.length;s--;){A[s]==="M"&&A.splice(s+1,0,A[s+1],A[s+2],A[s+1],A[s+2])}};u&&(n(x),n(w));z.isArea&&(q=x.splice(x.length-6,6),o=w.splice(w.length-6,6));if(v<=w.length/t){for(;v--;){w=[].concat(w).splice(0,t).concat(w)}}z.shift=0;if(x.length){for(z=w.length;x.length<z;){v=[].concat(x).splice(x.length-t,t),u&&(v[t-6]=v[t-2],v[t-5]=v[t-1]),x=x.concat(v)}}q&&(x=x.concat(q),w=w.concat(o));return[x,w]},step:function(o,n,u,t){var s=[],q=o.length;if(u===1){s=t}else{if(q===n.length&&u<1){for(;q--;){t=parseFloat(o[q]),s[q]=isNaN(t)?o[q]:u*parseFloat(n[q]-t)+t}}else{s=n}}return s}};(function(n){bd.HighchartsAdapter=bd.HighchartsAdapter||n&&{init:function(o){var v=n.fx,u=v.step,t,s=n.Tween,q=s&&s.propHooks;n.extend(n.easing,{easeOutQuad:function(x,w,C,A,z){return -A*(w/=z)*(w-2)+C}});n.each(["cur","_default","width","height","opacity"],function(z,x){var C=u,A,w;x==="cur"?C=v.prototype:x==="_default"&&s&&(C=q[x],x="set");(A=C[x])&&(C[x]=function(E){E=z?E:this;w=E.elem;return w.attr?w.attr(E.prop,x==="cur"?ap:E.now):A.apply(this,arguments)})});t=function(w){var z=w.elem,x;if(!w.started){x=o.init(z,z.d,z.toD),w.start=x[0],w.end=x[1],w.started=!0}z.attr("d",o.step(w.start,w.end,w.pos,z.toD))};s?q.d={set:t}:u.d=t;this.each=Array.prototype.forEach?function(x,w){return Array.prototype.forEach.call(x,w)}:function(x,w){for(var A=0,z=x.length;A<z;A++){if(w.call(x[A],x[A],A,x)===!1){return A}}};n.fn.highcharts=function(){var x="Chart",w=arguments,A,z;bN(w[0])&&(x=w[0],w=Array.prototype.slice.call(w,1));A=w[0];if(A!==ap){A.chart=A.chart||{},A.chart.renderTo=this[0],new Highcharts[x](A,w[1]),z=this}A===ap&&(z=bO[bi(this[0],"data-highcharts-chart")]);return z}},getScript:n.getScript,inArray:n.inArray,adapterRun:function(o,q){return n(o)[q]()},grep:n.grep,map:function(o,u){for(var t=[],s=0,q=o.length;s<q;s++){t[s]=u.call(o[s],o[s],s,o)}return t},offset:function(o){return n(o).offset()},addEvent:function(o,s,q){n(o).bind(s,q)},removeEvent:function(o,t,s){var q=am.removeEventListener?"removeEventListener":"detachEvent";am[q]&&!o[q]&&(o[q]=function(){});n(o).unbind(t,s)},fireEvent:function(o,w,v,u){var t=n.Event(w),s="detached"+w,q;!aD&&v&&(delete v.layerX,delete v.layerY);ar(t,v);o[w]&&(o[s]=o[w],o[w]=null);n.each(["preventDefault","stopPropagation"],function(z,x){var A=t[x];t[x]=function(){try{A.call(t)}catch(C){x==="preventDefault"&&(q=!0)}}});n(o).trigger(t);o[s]&&(o[w]=o[s],o[s]=null);u&&!t.isDefaultPrevented()&&!q&&u(t)},washMouseEvent:function(o){var q=o.originalEvent||o;if(q.pageX===ap){q.pageX=o.pageX,q.pageY=o.pageY}return q},animate:function(o,t,s){var q=n(o);if(t.d){o.toD=t.d,t.d=1}q.stop();t.opacity!==ap&&o.attr&&(t.opacity+="px");q.animate(t,s)},stop:function(o){n(o).stop()}}})(bd.jQuery);var aQ=bd.HighchartsAdapter,a2=aQ||{};aQ&&aQ.init.call(aQ,aI);var bt=a2.adapterRun,a=a2.getScript,h=a2.inArray,ay=a2.each,bl=a2.grep,bH=a2.offset,ah=a2.map,a4=a2.addEvent,aY=a2.removeEvent,a8=a2.fireEvent,aJ=a2.washMouseEvent,ai=a2.animate,bJ=a2.stop,a2={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};aW={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.0/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.0/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:ao(a2,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:aM,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:af?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var aP=aW.plotOptions,aQ=aP.line;bz();var bQ=function(o){var n=[],s,q;(function(t){t&&t.stops?q=ah(t.stops,function(u){return bQ(u[1])}):(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t))?n=[aq(s[1]),aq(s[2]),aq(s[3]),parseFloat(s[4],10)]:(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?n=[aq(s[1],16),aq(s[2],16),aq(s[3],16),1]:(s=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))&&(n=[aq(s[1]),aq(s[2]),aq(s[3]),1])})(o);return{get:function(u){var t;q?(t=ao(o),t.stops=[].concat(t.stops),ay(q,function(w,v){t.stops[v]=[t.stops[v][0],w.get(u)]})):t=n&&!isNaN(n[0])?u==="rgb"?"rgb("+n[0]+","+n[1]+","+n[2]+")":u==="a"?n[3]:"rgba("+n.join(",")+")":o;return t},brighten:function(t){if(q){ay(q,function(v){v.brighten(t)})}else{if(aK(t)&&t!==0){var u;for(u=0;u<3;u++){n[u]+=aq(t*255),n[u]<0&&(n[u]=0),n[u]>255&&(n[u]=255)}}}return this},rgba:n,setOpacity:function(t){n[3]=t;return this}}};bV.prototype={init:function(o,n){this.element=n==="span"?aS(n):am.createElementNS(bE,n);this.renderer=o;this.attrSetters={}},opacity:1,animate:function(o,n,q){n=aw(n,bI,!0);bJ(this);if(n){n=ao(n);if(q){n.complete=q}ai(this,o,n)}else{this.attr(o),q&&q()}},attr:function(G,F){var E,C,A,z,x=this.element,w=x.nodeName.toLowerCase(),v=this.renderer,u,t=this.attrSetters,q=this.shadows,s,o,n=this;bN(G)&&au(F)&&(E=G,G={},G[E]=F);if(bN(G)){E=G,w==="circle"?E={x:"cx",y:"cy"}[E]||E:E==="strokeWidth"&&(E="stroke-width"),n=bi(x,E)||this[E]||0,E!=="d"&&E!=="visibility"&&(n=parseFloat(n))}else{for(E in G){if(u=!1,C=G[E],A=t[E]&&t[E].call(this,C,E),A!==!1){A!==ap&&(C=A);if(E==="d"){C&&C.join&&(C=C.join(" ")),/(NaN| {2}|^$)/.test(C)&&(C="M 0 0")}else{if(E==="x"&&w==="text"){for(A=0;A<x.childNodes.length;A++){z=x.childNodes[A],bi(z,"x")===bi(x,"x")&&bi(z,"x",C)}}else{if(this.rotation&&(E==="x"||E==="y")){o=!0}else{if(E==="fill"){C=v.color(C,x,E)}else{if(w==="circle"&&(E==="x"||E==="y")){E={x:"cx",y:"cy"}[E]||E}else{if(w==="rect"&&E==="r"){bi(x,{rx:C,ry:C}),u=!0}else{if(E==="translateX"||E==="translateY"||E==="rotation"||E==="verticalAlign"||E==="scaleX"||E==="scaleY"){u=o=!0}else{if(E==="stroke"){C=v.color(C,x,E)}else{if(E==="dashstyle"){if(E="stroke-dasharray",C=C&&C.toLowerCase(),C==="solid"){C=aZ}else{if(C){C=C.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(A=C.length;A--;){C[A]=aq(C[A])*G["stroke-width"]}C=C.join(",")}}}else{if(E==="width"){C=aq(C)}else{if(E==="align"){E="text-anchor",C={left:"start",center:"middle",right:"end"}[C]}else{if(E==="title"){A=x.getElementsByTagName("title")[0],A||(A=am.createElementNS(bE,"title"),x.appendChild(A)),A.textContent=C}}}}}}}}}}}}E==="strokeWidth"&&(E="stroke-width");if(E==="stroke-width"||E==="stroke"){this[E]=C;if(this.stroke&&this["stroke-width"]){bi(x,"stroke",this.stroke),bi(x,"stroke-width",this["stroke-width"]),this.hasStroke=!0}else{if(E==="stroke-width"&&C===0&&this.hasStroke){x.removeAttribute("stroke"),this.hasStroke=!1}}u=!0}this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(E)&&(s||(this.symbolAttr(G),s=!0),u=!0);if(q&&/^(width|height|visibility|x|y|d|transform)$/.test(E)){for(A=q.length;A--;){bi(q[A],E,E==="height"?av(C-(q[A].cutHeight||0),0):C)}}if((E==="width"||E==="height")&&w==="rect"&&C<0){C=0}this[E]=C;E==="text"?(C!==this.textStr&&delete this.bBox,this.textStr=C,this.added&&v.buildText(this)):u||bi(x,E,C)}}o&&this.updateTransform()}return n},addClass:function(n){bi(this.element,"class",bi(this.element,"class")+" "+n);return this},symbolAttr:function(o){var n=this;ay("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(q){n[q]=aw(o[q],n[q])});n.attr({d:n.renderer.symbols[n.symbolName](n.x,n.y,n.width,n.height,n)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":aZ)},crisp:function(x,w,v,u,t){var s,q={},o={},n,x=x||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;n=at(x)%2/2;o.x=aT(w||this.x||0)+n;o.y=aT(v||this.y||0)+n;o.width=aT((u||this.width||0)-2*n);o.height=aT((t||this.height||0)-2*n);o.strokeWidth=x;for(s in o){this[s]!==o[s]&&(this[s]=q[s]=o[s])}return q},css:function(o){var n=this.element,n=o&&o.width&&n.nodeName.toLowerCase()==="text",t,s="",q=function(v,u){return"-"+u.toLowerCase()};if(o&&o.color){o.fill=o.color}this.styles=o=ar(this.styles,o);bB&&n&&delete o.width;if(aD&&!aM){n&&delete o.width,a1(this.element,o)}else{for(t in o){s+=t.replace(/([A-Z])/g,q)+":"+o[t]+";"}this.attr({style:s})}n&&this.added&&this.renderer.buildText(this);return this},on:function(o,n){if(bL&&o==="click"){this.element.ontouchstart=function(q){q.preventDefault();n()}}this.element["on"+o]=n;return this},setRadialReference:function(n){this.element.radialReference=n;return this},translate:function(o,n){return this.attr({translateX:o,translateY:n})},invert:function(){this.inverted=!0;this.updateTransform();return this},htmlCss:function(o){var n=this.element;if(n=o&&n.tagName==="SPAN"&&o.width){delete o.width,this.textWidth=n,this.updateTransform()}this.styles=ar(this.styles,o);a1(this.element,o);return this},htmlGetBBox:function(){var o=this.element,n=this.bBox;if(!n){if(o.nodeName==="text"){o.style.position="absolute"}n=this.bBox={x:o.offsetLeft,y:o.offsetTop,width:o.offsetWidth,height:o.offsetHeight}}return n},htmlUpdateTransform:function(){if(this.added){var M=this.renderer,L=this.element,K=this.translateX||0,J=this.translateY||0,G=this.x||0,F=this.y||0,E=this.textAlign||"left",C={left:0,center:0.5,right:1}[E],A=E&&E!=="left",z=this.shadows;if(K||J){a1(L,{marginLeft:K,marginTop:J}),z&&ay(z,function(N){a1(N,{marginLeft:K+1,marginTop:J+1})})}this.inverted&&ay(L.childNodes,function(N){M.invertChild(N,L)});if(L.tagName==="SPAN"){var x,v,z=this.rotation,w,u=0,s=1,u=0,o;w=aq(this.textWidth);var t=this.xCorr||0,n=this.yCorr||0,q=[z,E,L.innerHTML,this.textWidth].join(",");x={};if(q!==this.cTT){if(au(z)){M.isSVG?(t=aD?"-ms-transform":D?"-webkit-transform":e?"MozTransform":aG?"-o-transform":"",x[t]=x.transform="rotate("+z+"deg)"):(u=z*aX,s=aO(u),u=az(u),x.filter=z?["progid:DXImageTransform.Microsoft.Matrix(M11=",s,", M12=",-u,", M21=",u,", M22=",s,", sizingMethod='auto expand')"].join(""):aZ),a1(L,x)}x=aw(this.elemWidth,L.offsetWidth);v=aw(this.elemHeight,L.offsetHeight);if(x>w&&/[ \-]/.test(L.textContent||L.innerText)){a1(L,{width:w+"px",display:"block",whiteSpace:"normal"}),x=w}w=M.fontMetrics(L.style.fontSize).b;t=s<0&&-x;n=u<0&&-v;o=s*u<0;t+=u*w*(o?1-C:C);n-=s*w*(z?o?C:1-C:1);A&&(t-=x*C*(s<0?-1:1),z&&(n-=v*C*(u<0?-1:1)),a1(L,{textAlign:E}));this.xCorr=t;this.yCorr=n}a1(L,{left:G+t+"px",top:F+n+"px"});if(D){v=L.offsetHeight}this.cTT=q}}else{this.alignOnAdd=!0}},updateTransform:function(){var o=this.translateX||0,n=this.translateY||0,v=this.scaleX,u=this.scaleY,t=this.inverted,s=this.rotation,q=[];t&&(o+=this.attr("width"),n+=this.attr("height"));(o||n)&&q.push("translate("+o+","+n+")");t?q.push("rotate(90) scale(-1,1)"):s&&q.push("rotate("+s+" "+(this.x||0)+" "+(this.y||0)+")");(au(v)||au(u))&&q.push("scale("+aw(v,1)+" "+aw(u,1)+")");q.length&&bi(this.element,"transform",q.join(" "))},toFront:function(){var n=this.element;n.parentNode.appendChild(n);return this},align:function(o,n,w){var v,u,t,s,q={};u=this.renderer;t=u.alignedObjects;if(o){if(this.alignOptions=o,this.alignByTranslate=n,!w||bN(w)){this.alignTo=v=w||"renderer",bv(t,this),t.push(this),w=null}}else{o=this.alignOptions,n=this.alignByTranslate,v=this.alignTo}w=aw(w,u[v],u);v=o.align;u=o.verticalAlign;t=(w.x||0)+(o.x||0);s=(w.y||0)+(o.y||0);if(v==="right"||v==="center"){t+=(w.width-(o.width||0))/{right:1,center:2}[v]}q[n?"translateX":"x"]=at(t);if(u==="bottom"||u==="middle"){s+=(w.height-(o.height||0))/({bottom:1,middle:2}[u]||1)}q[n?"translateY":"y"]=at(s);this[this.placed?"animate":"attr"](q);this.placed=!0;this.alignAttr=q;return this},getBBox:function(){var o=this.bBox,n=this.renderer,v,u=this.rotation;v=this.element;var t=this.styles,s=u*aX;if(!o){if(v.namespaceURI===bE||n.forExport){try{o=v.getBBox?ar({},v.getBBox()):{width:v.offsetWidth,height:v.offsetHeight}}catch(q){}if(!o||o.width<0){o={width:0,height:0}}}else{o=this.htmlGetBBox()}if(n.isSVG){n=o.width;v=o.height;if(aD&&t&&t.fontSize==="11px"&&v.toPrecision(3)===22.7){o.height=v=14}if(u){o.width=aV(v*az(s))+aV(n*aO(s)),o.height=aV(v*aO(s))+aV(n*az(s))}}this.bBox=o}return o},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(o){var n=this;n.animate({opacity:0},{duration:o||150,complete:function(){n.hide()}})},add:function(o){var n=this.renderer,w=o||n,v=w.element||n.box,u=v.childNodes,t=this.element,s=bi(t,"zIndex"),q;if(o){this.parentGroup=o}this.parentInverted=o&&o.inverted;this.textStr!==void 0&&n.buildText(this);if(s){w.handleZ=!0,s=aq(s)}if(w.handleZ){for(w=0;w<u.length;w++){if(o=u[w],n=bi(o,"zIndex"),o!==t&&(aq(n)>s||!au(s)&&au(n))){v.insertBefore(t,o);q=!0;break}}}q||v.appendChild(t);this.added=!0;a8(this,"add");return this},safeRemoveChild:function(o){var n=o.parentNode;n&&n.removeChild(o)},destroy:function(){var o=this,n=o.element||{},t=o.shadows,s,q;n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null;bJ(o);if(o.clipPath){o.clipPath=o.clipPath.destroy()}if(o.stops){for(q=0;q<o.stops.length;q++){o.stops[q]=o.stops[q].destroy()}o.stops=null}o.safeRemoveChild(n);t&&ay(t,function(u){o.safeRemoveChild(u)});o.alignTo&&bv(o.renderer.alignedObjects,o);for(s in o){delete o[s]}return null},shadow:function(A,z,x){var w=[],v,u,t=this.element,s,q,o,n;if(A){q=aw(A.width,3);o=(A.opacity||0.15)/q;n=this.parentInverted?"(-1,-1)":"("+aw(A.offsetX,1)+", "+aw(A.offsetY,1)+")";for(v=1;v<=q;v++){u=t.cloneNode(0);s=q*2+1-2*v;bi(u,{isShadow:"true",stroke:A.color||"black","stroke-opacity":o*v,"stroke-width":s,transform:"translate"+n,fill:aZ});if(x){bi(u,"height",av(bi(u,"height")-s,0)),u.cutHeight=s}z?z.element.appendChild(u):t.parentNode.insertBefore(u,t);w.push(u)}this.shadows=w}return this}};var bw=function(){this.init.apply(this,arguments)};bw.prototype={Element:bV,init:function(o,n,v,u){var t=location,s;s=this.createElement("svg").attr({xmlns:bE,version:"1.1"});o.appendChild(s.element);this.isSVG=!0;this.box=s.element;this.boxWrapper=s;this.alignedObjects=[];this.url=(e||D)&&am.getElementsByTagName("base").length?t.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(am.createTextNode("Created with Highcharts 3.0.0"));this.defs=this.createElement("defs").add();this.forExport=u;this.gradients={};this.setSize(n,v,!1);var q;if(e&&o.getBoundingClientRect){this.subPixelFix=n=function(){a1(o,{left:0,top:0});q=o.getBoundingClientRect();a1(o,{left:ac(q.left)-q.left+"px",top:ac(q.top)-q.top+"px"})},n(),a4(bd,"resize",n)}},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var n=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();bS(this.gradients||{});this.gradients=null;if(n){this.defs=n.destroy()}this.subPixelFix&&aY(bd,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(o){var n=new this.Element;n.init(this,o);return n},draw:function(){},buildText:function(E){for(var C=E.element,A=this,z=A.forExport,x=aw(E.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),w=C.childNodes,v=/style="([^"]+)"/,u=/href="([^"]+)"/,t=bi(C,"x"),s=E.styles,q=s&&s.width&&aq(s.width),n=s&&s.lineHeight,o=w.length;o--;){C.removeChild(w[o])}q&&!E.added&&this.box.appendChild(C);x[x.length-1]===""&&x.pop();ay(x,function(J,G){var F,K=0,J=J.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");F=J.split("|||");ay(F,function(P){if(P!==""||F.length===1){var O={},R=am.createElementNS(bE,"tspan"),N;v.test(P)&&(N=P.match(v)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),bi(R,"style",N));u.test(P)&&!z&&(bi(R,"onclick",'location.href="'+P.match(u)[1]+'"'),a1(R,{cursor:"pointer"}));P=(P.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");R.appendChild(am.createTextNode(P));K?O.dx=0:O.x=t;bi(R,O);!K&&G&&(!aM&&z&&a1(R,{display:"block"}),bi(R,"dy",n||A.fontMetrics(/px$/.test(R.style.fontSize)?R.style.fontSize:s.fontSize).h,D&&R.offsetHeight));C.appendChild(R);K++;if(q){for(var P=P.replace(/([^\^])-/g,"$1- ").split(" "),M,L=[];P.length||L.length;){delete E.bBox,M=E.getBBox().width,O=M>q,!O||P.length===1?(P=L,L=[],P.length&&(R=am.createElementNS(bE,"tspan"),bi(R,{dy:n||16,x:t}),N&&bi(R,"style",N),C.appendChild(R),M>q&&(q=M))):(R.removeChild(R.firstChild),L.unshift(P.pop())),P.length&&R.appendChild(am.createTextNode(P.join(" ").replace(/- /g,"-")))}}}})})},button:function(F,E,C,A,z,x,w){var v=this.label(F,E,C,null,null,null,null,null,"button"),u=0,t,s,o,q,n,F={x1:0,y1:0,x2:0,y2:1},z=ao({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:F,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},z);o=z.style;delete z.style;x=ao(z,{stroke:"#68A",fill:{linearGradient:F,stops:[[0,"#FFF"],[1,"#ACF"]]}},x);q=x.style;delete x.style;w=ao(z,{stroke:"#68A",fill:{linearGradient:F,stops:[[0,"#9BD"],[1,"#CDF"]]}},w);n=w.style;delete w.style;a4(v.element,"mouseenter",function(){v.attr(x).css(q)});a4(v.element,"mouseleave",function(){t=[z,x,w][u];s=[o,q,n][u];v.attr(t).css(s)});v.setState=function(G){(u=G)?G===2&&v.attr(w).css(n):v.attr(z).css(o)};return v.on("click",function(){A.call(v)}).attr(z).css(ar({cursor:"default"},o))},crispLine:function(o,n){o[1]===o[4]&&(o[1]=o[4]=at(o[1])-n%2/2);o[2]===o[5]&&(o[2]=o[5]=at(o[2])+n%2/2);return o},path:function(o){var n={fill:aZ};a7(o)?n.d=o:aR(o)&&ar(n,o);return this.createElement("path").attr(n)},circle:function(o,n,q){o=aR(o)?o:{x:o,y:n,r:q};return this.createElement("circle").attr(o)},arc:function(o,n,u,t,s,q){if(aR(o)){n=o.y,u=o.r,t=o.innerR,s=o.start,q=o.end,o=o.x}return this.symbol("arc",o||0,n||0,u||0,u||0,{innerR:t||0,start:s||0,end:q||0})},rect:function(o,n,u,t,s,q){s=aR(o)?o.r:s;s=this.createElement("rect").attr({rx:s,ry:s,fill:aZ});return s.attr(aR(o)?o:s.crisp(q,o,n,av(u,0),av(t,0)))},setSize:function(o,n,t){var s=this.alignedObjects,q=s.length;this.width=o;this.height=n;for(this.boxWrapper[aw(t,!0)?"animate":"attr"]({width:o,height:n});q--;){s[q].align()}},g:function(o){var n=this.createElement("g");return au(o)?n.attr({"class":"highcharts-"+o}):n},image:function(o,n,u,t,s){var q={preserveAspectRatio:aZ};arguments.length>1&&ar(q,{x:n,y:u,width:t,height:s});q=this.createElement("image").attr(q);q.element.setAttributeNS?q.element.setAttributeNS("http://www.w3.org/1999/xlink","href",o):q.element.setAttribute("hc-svg-href",o);return q},symbol:function(A,z,x,w,v,u){var t,s=this.symbols[A],s=s&&s(at(z),at(x),w,v,u),q=/^url\((.*?)\)$/,o,n;s?(t=this.path(s),ar(t,{symbolName:A,x:z,y:x,width:w,height:v}),u&&ar(t,u)):q.test(A)&&(n=function(E,C){E.element&&(E.attr({width:C[0],height:C[1]}),E.alignByTranslate||E.translate(at((w-C[0])/2),at((v-C[1])/2)))},o=A.match(q)[1],A=l[o],t=this.image(o).attr({x:z,y:x}),A?n(t,A):(t.attr({width:0,height:0}),aS("img",{onload:function(){n(t,l[o]=[this.width,this.height])},src:o})));return t},symbols:{circle:function(o,n,t,s){var q=0.166*t;return["M",o+t/2,n,"C",o+t+q,n,o+t+q,n+s,o+t/2,n+s,"C",o-q,n+s,o-q,n,o+t/2,n,"Z"]},square:function(o,n,s,q){return["M",o,n,"L",o+s,n,o+s,n+q,o,n+q,"Z"]},triangle:function(o,n,s,q){return["M",o+s/2,n,"L",o+s,n+q,o,n+q,"Z"]},"triangle-down":function(o,n,s,q){return["M",o,n,"L",o+s,n,o+s/2,n+q,"Z"]},diamond:function(o,n,s,q){return["M",o+s/2,n,"L",o+s,n+q/2,o+s/2,n+q,o,n+q/2,"Z"]},arc:function(A,z,x,w,v){var u=v.start,x=v.r||x||w,t=v.end-0.001,w=v.innerR,s=v.open,q=aO(u),o=az(u),n=aO(t),t=az(t),v=v.end-u<aH?0:1;return["M",A+x*q,z+x*o,"A",x,x,0,v,1,A+x*n,z+x*t,s?"M":"L",A+w*n,z+w*t,"A",w,w,0,v,0,A+w*q,z+w*o,s?"":"Z"]}},clipRect:function(o,n,u,t){var s="highcharts-"+bk++,q=this.createElement("clipPath").attr({id:s}).add(this.defs),o=this.rect(o,n,u,t,0).add(q);o.id=s;o.clipPath=q;return o},color:function(F,E,C){var A=this,z,x=/^rgba/,w,v,u,t,s,o,q,n=[];F&&F.linearGradient?w="linearGradient":F&&F.radialGradient&&(w="radialGradient");if(w){C=F[w];v=A.gradients;t=F.stops;E=E.radialReference;a7(C)&&(F[w]=C={x1:C[0],y1:C[1],x2:C[2],y2:C[3],gradientUnits:"userSpaceOnUse"});w==="radialGradient"&&E&&!au(C.gradientUnits)&&(C=ao(C,{cx:E[0]-E[2]/2+C.cx*E[2],cy:E[1]-E[2]/2+C.cy*E[2],r:C.r*E[2],gradientUnits:"userSpaceOnUse"}));for(q in C){q!=="id"&&n.push(q,C[q])}for(q in t){n.push(t[q])}n=n.join(",");v[n]?F=v[n].id:(C.id=F="highcharts-"+bk++,v[n]=u=A.createElement(w).attr(C).add(A.defs),u.stops=[],ay(t,function(G){x.test(G[1])?(z=bQ(G[1]),s=z.get("rgb"),o=z.get("a")):(s=G[1],o=1);G=A.createElement("stop").attr({offset:G[0],"stop-color":s,"stop-opacity":o}).add(u);u.stops.push(G)}));return"url("+A.url+"#"+F+")"}else{return x.test(F)?(z=bQ(F),bi(E,C+"-opacity",z.get("a")),z.get("rgb")):(E.removeAttribute(C+"-opacity"),F)}},text:function(o,n,u,t){var s=aW.chart.style,q=bB||!aM&&this.forExport;if(t&&!this.forExport){return this.html(o,n,u)}n=at(aw(n,0));u=at(aw(u,0));o=this.createElement("text").attr({x:n,y:u,text:o}).css({fontFamily:s.fontFamily,fontSize:s.fontSize});q&&o.css({position:"absolute"});o.x=n;o.y=u;return o},html:function(o,n,w){var v=aW.chart.style,u=this.createElement("span"),t=u.attrSetters,s=u.element,q=u.renderer;t.text=function(x){x!==s.innerHTML&&delete this.bBox;s.innerHTML=x;return !1};t.x=t.y=t.align=function(z,x){x==="align"&&(x="textAlign");u[x]=z;u.htmlUpdateTransform();return !1};u.attr({text:o,x:at(n),y:at(w)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:v.fontFamily,fontSize:v.fontSize});u.css=u.htmlCss;if(q.isSVG){u.add=function(z){var x,C=q.box.parentNode,A=[];if(z){if(x=z.div,!x){for(;z;){A.push(z),z=z.parentGroup}ay(A.reverse(),function(E){var F;x=E.div=E.div||aS(b,{className:bi(E.element,"class")},{position:"absolute",left:(E.translateX||0)+"px",top:(E.translateY||0)+"px"},x||C);F=x.style;ar(E.attrSetters,{translateX:function(G){F.left=G+"px"},translateY:function(G){F.top=G+"px"},visibility:function(J,G){F[G]=J}})})}}else{x=C}x.appendChild(s);u.added=!0;u.alignOnAdd&&u.htmlUpdateTransform();return u}}return u},fontMetrics:function(o){var o=aq(o||11),o=o<24?o+4:at(o*1.2),n=at(o*0.8);return{h:o,b:n}},label:function(bX,bb,ba,ab,aa,Z,Y,W,V){function T(){var q,o;q=O.element.style;u=(X===void 0||U===void 0||J.styles.textAlign)&&O.getBBox();J.width=(X||u.width||0)+2*K+s;J.height=(U||u.height||0)+2*K;G=K+N.fontMetrics(q&&q.fontSize).b;if(t){if(!L){q=at(-w*K),o=W?-G:0,J.box=L=ab?N.symbol(ab,q,o,J.width,J.height):N.rect(q,o,J.width,J.height,0,E[bD]),L.add(J)}L.attr(ao({width:J.width,height:J.height},E));E=null}}function S(){var q=J.styles,q=q&&q.textAlign,o=s+K*(1-w),v;v=W?0:G;if(au(X)&&(q==="center"||q==="right")){o+={center:0.5,right:1}[q]*(X-u.width)}(o!==O.x||v!==O.y)&&O.attr({x:o,y:v});O.x=o;O.y=v}function P(q,o){L?L.attr(q,o):E[q]=o}function R(){O.add(J);J.attr({text:bX,x:bb,y:ba});L&&au(aa)&&J.attr({anchorX:aa,anchorY:Z})}var N=this,J=N.g(V),O=N.text("",0,0,Y).attr({zIndex:1}),L,u,w=0,K=3,s=0,X,U,n,x,F=0,E={},G,Y=J.attrSetters,t;a4(J,"add",R);Y.width=function(o){X=o;return !1};Y.height=function(o){U=o;return !1};Y.padding=function(o){au(o)&&o!==K&&(K=o,S());return !1};Y.paddingLeft=function(o){au(o)&&o!==s&&(s=o,S());return !1};Y.align=function(o){w={left:0,center:0.5,right:1}[o];return !1};Y.text=function(q,o){O.attr(o,q);T();S();return !1};Y[bD]=function(q,o){t=!0;F=q%2/2;P(o,q);return !1};Y.stroke=Y.fill=Y.r=function(q,o){o==="fill"&&(t=!0);P(o,q);return !1};Y.anchorX=function(q,o){aa=q;P(o,q+F-n);return !1};Y.anchorY=function(q,o){Z=q;P(o,q-x);return !1};Y.x=function(o){J.x=o;o-=w*((X||u.width)+K);n=at(o);J.attr("translateX",n);return !1};Y.y=function(o){x=J.y=at(o);J.attr("translateY",x);return !1};var M=J.css;return ar(J,{css:function(q){if(q){var o={},q=ao(q);ay("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(v){q[v]!==ap&&(o[v]=q[v],delete q[v])});O.css(o)}return M.call(J,q)},getBBox:function(){return{width:u.width+2*K,height:u.height+2*K,x:u.x-K,y:u.y-K}},shadow:function(o){L&&L.shadow(o);return J},destroy:function(){aY(J,"add",R);aY(J.element,"mouseenter");aY(J.element,"mouseleave");O&&(O=O.destroy());L&&(L=L.destroy());bV.prototype.destroy.call(J);J=N=T=S=P=R=null}})}};c=bw;var a3;if(!aM&&!bB){Highcharts.VMLElement=a3={init:function(o,n){var t=["<",n,' filled="f" stroked="f"'],s=["position: ","absolute",";"],q=n===b;(n==="shape"||q)&&s.push("left:0;top:0;width:1px;height:1px;");s.push("visibility: ",q?"hidden":"visible");t.push(' style="',s.join(""),'"/>');if(n){t=q||n==="span"||n==="img"?t.join(""):o.prepVML(t),this.element=aS(t)}this.renderer=o;this.attrSetters={}},add:function(o){var n=this.renderer,s=this.element,q=n.box,q=o?o.element||o:q;o&&o.inverted&&n.invertChild(s,q);q.appendChild(s);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();a8(this,"add");return this},updateTransform:bV.prototype.htmlUpdateTransform,attr:function(G,F){var E,C,A,z=this.element||{},x=z.style,w=z.nodeName,v=this.renderer,u=this.symbolName,t,q=this.shadows,s,o=this.attrSetters,n=this;bN(G)&&au(F)&&(E=G,G={},G[E]=F);if(bN(G)){E=G,n=E==="strokeWidth"||E==="stroke-width"?this.strokeweight:this[E]}else{for(E in G){if(C=G[E],s=!1,A=o[E]&&o[E].call(this,C,E),A!==!1&&C!==null){A!==ap&&(C=A);if(u&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(E)){t||(this.symbolAttr(G),t=!0),s=!0}else{if(E==="d"){C=C||[];this.d=C.join(" ");A=C.length;for(s=[];A--;){if(aK(C[A])){s[A]=at(C[A]*10)-5}else{if(C[A]==="Z"){s[A]="x"}else{if(s[A]=C[A],C[A]==="wa"||C[A]==="at"){s[A+5]===s[A+7]&&(s[A+7]-=1),s[A+6]===s[A+8]&&(s[A+8]-=1)}}}}C=s.join(" ")||"x";z.path=C;if(q){for(A=q.length;A--;){q[A].path=q[A].cutOff?this.cutOffPath(C,q[A].cutOff):C}}s=!0}else{if(E==="visibility"){if(q){for(A=q.length;A--;){q[A].style[E]=C}}w==="DIV"&&(C=C==="hidden"?"-999em":0,ax||(x[E]=C?"hidden":"visible"),E="top");x[E]=C;s=!0}else{if(E==="zIndex"){C&&(x[E]=C),s=!0}else{if(h(E,["x","y","width","height"])!==-1){this[E]=C,E==="x"||E==="y"?E={x:"left",y:"top"}[E]:C=av(0,C),this.updateClipping?(this[E]=C,this.updateClipping()):x[E]=C,s=!0}else{if(E==="class"&&w==="DIV"){z.className=C}else{if(E==="stroke"){C=v.color(C,z,E),E="strokecolor"}else{if(E==="stroke-width"||E==="strokeWidth"){z.stroked=C?!0:!1,E="strokeweight",this[E]=C,aK(C)&&(C+="px")}else{if(E==="dashstyle"){(z.getElementsByTagName("stroke")[0]||aS(v.prepVML(["<stroke/>"]),null,null,z))[E]=C||"solid",this.dashstyle=C,s=!0}else{if(E==="fill"){if(w==="SPAN"){x.color=C}else{if(w!=="IMG"){z.filled=C!==aZ?!0:!1,C=v.color(C,z,E,this),E="fillcolor"}}}else{if(E==="opacity"){s=!0}else{if(w==="shape"&&E==="rotation"){this[E]=C,z.style.left=-at(az(C*aX)+1)+"px",z.style.top=at(aO(C*aX))+"px"}else{if(E==="translateX"||E==="translateY"||E==="rotation"){this[E]=C,this.updateTransform(),s=!0}else{if(E==="text"){this.bBox=null,z.innerHTML=C,s=!0}}}}}}}}}}}}}}s||(ax?z[E]=C:bi(z,E,C))}}}return n},clip:function(o){var n=this,q;o?(q=o.members,bv(q,n),q.push(n),n.destroyClip=function(){bv(q,n)},o=o.getCSS(n)):(n.destroyClip&&n.destroyClip(),o={clip:ax?"inherit":"rect(auto)"});return n.css(o)},css:bV.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&y(n)},destroy:function(){this.destroyClip&&this.destroyClip();return bV.prototype.destroy.apply(this)},on:function(o,n){this.element["on"+o]=function(){var q=bd.event;q.target=q.srcElement;n(q)};return this},cutOffPath:function(o,n){var q,o=o.split(/[ ,]/);q=o.length;if(q===9||q===11){o[q-4]=o[q-2]=aq(o[q-2])-10*n}return o.join(" ")},shadow:function(G,F,E){var C=[],A,z=this.element,x=this.renderer,w,v=z.style,u,t=z.path,q,s,o,n;t&&typeof t.value!=="string"&&(t="x");s=t;if(G){o=aw(G.width,3);n=(G.opacity||0.15)/o;for(A=1;A<=3;A++){q=o*2+1-2*A;E&&(s=this.cutOffPath(t.value,q+0.5));u=['<shape isShadow="true" strokeweight="',q,'" filled="false" path="',s,'" coordsize="10 10" style="',z.style.cssText,'" />'];w=aS(x.prepVML(u),null,{left:aq(v.left)+aw(G.offsetX,1),top:aq(v.top)+aw(G.offsetY,1)});if(E){w.cutOff=q+1}u=['<stroke color="',G.color||"black",'" opacity="',n*A,'"/>'];aS(x.prepVML(u),null,null,w);F?F.element.appendChild(w):z.parentNode.insertBefore(w,z);C.push(w)}this.shadows=C}return this}};a3=f(bV,a3);var by={Element:a3,isIE8:bp.indexOf("MSIE 8.0")>-1,init:function(o,n,t){var s,q;this.alignedObjects=[];s=this.createElement(b);q=s.element;q.style.position="relative";o.appendChild(s.element);this.isVML=!0;this.box=q;this.boxWrapper=s;this.setSize(n,t,!1);if(!am.namespaces.hcv){am.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),am.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(o,n,u,t){var s=this.createElement(),q=aR(o);return ar(s,{members:[],left:q?o.x:o,top:q?o.y:n,width:q?o.width:u,height:q?o.height:t,getCSS:function(w){var v=w.element,C=v.nodeName,w=w.inverted,A=this.top-(C==="shape"?v.offsetTop:0),z=this.left,v=z+this.width,x=A+this.height,A={clip:"rect("+at(w?z:A)+"px,"+at(w?x:v)+"px,"+at(w?v:x)+"px,"+at(w?A:z)+"px)"};!w&&ax&&C==="DIV"&&ar(A,{width:v+"px",height:x+"px"});return A},updateClipping:function(){ay(s.members,function(v){v.css(s.getCSS(v))})}})},color:function(bX,bb,ba,ab){var aa=this,Z,Y=/^rgba/,X,W,V=aZ;bX&&bX.linearGradient?W="gradient":bX&&bX.radialGradient&&(W="pattern");if(W){var U,S,T=bX.linearGradient||bX.radialGradient,P,M,R,O,z,N="",bX=bX.stops,L,J=[],E=function(){X=['<fill colors="'+J.join(",")+'" opacity="',R,'" o:opacity2="',M,'" type="',W,'" ',N,'focus="100%" method="any" />'];aS(aa.prepVML(X),null,null,bb)};P=bX[0];L=bX[bX.length-1];P[0]>0&&bX.unshift([0,P[1]]);L[0]<1&&bX.push([1,L[1]]);ay(bX,function(q,o){Y.test(q[1])?(Z=bQ(q[1]),U=Z.get("rgb"),S=Z.get("a")):(U=q[1],S=1);J.push(q[0]*100+"% "+U);o?(R=S,O=U):(M=S,z=U)});if(ba==="fill"){if(W==="gradient"){ba=T.x1||T[0]||0,bX=T.y1||T[1]||0,P=T.x2||T[2]||0,T=T.y2||T[3]||0,N='angle="'+(90-a0.atan((T-bX)/(P-ba))*180/aH)+'"',E()}else{var V=T.r,G=V*2,n=V*2,C=T.cx,K=T.cy,A=bb.radialReference,F,V=function(){A&&(F=ab.getBBox(),C+=(A[0]-F.x)/F.width-0.5,K+=(A[1]-F.y)/F.height-0.5,G*=A[2]/F.width,n*=A[2]/F.height);N='src="'+aW.global.VMLRadialGradientURL+'" size="'+G+","+n+'" origin="0.5,0.5" position="'+C+","+K+'" color2="'+z+'" ';E()};ab.added?V():a4(ab,"add",V);V=O}}else{V=U}}else{if(Y.test(bX)&&bb.tagName!=="IMG"){Z=bQ(bX),X=["<",ba,' opacity="',Z.get("a"),'"/>'],aS(this.prepVML(X),null,null,bb),V=Z.get("rgb")}else{V=bb.getElementsByTagName(ba);if(V.length){V[0].opacity=1,V[0].type="solid"}V=bX}}return V},prepVML:function(o){var n=this.isIE8,o=o.join("");n?(o=o.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),o=o.indexOf('style="')===-1?o.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):o.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):o=o.replace("<","<hcv:");return o},text:bw.prototype.html,path:function(o){var n={coordsize:"10 10"};a7(o)?n.d=o:aR(o)&&ar(n,o);return this.createElement("shape").attr(n)},circle:function(o,n,q){if(aR(o)){q=o.r,n=o.y,o=o.x}return this.symbol("circle").attr({x:o-q,y:n-q,width:2*q,height:2*q})},g:function(o){var n;o&&(n={className:"highcharts-"+o,"class":"highcharts-"+o});return this.createElement(b).attr(n)},image:function(o,n,u,t,s){var q=this.createElement("img").attr({src:o});arguments.length>1&&q.attr({x:n,y:u,width:t,height:s});return q},rect:function(o,n,v,u,t,s){if(aR(o)){n=o.y,v=o.width,u=o.height,s=o.strokeWidth,o=o.x}var q=this.symbol("rect");q.r=t;return q.attr(q.crisp(s,o,n,av(v,0),av(u,0)))},invertChild:function(o,n){var q=n.style;a1(o,{flip:"x",left:aq(q.width)-1,top:aq(q.height)-1,rotation:-90})},symbols:{arc:function(A,z,x,w,v){var u=v.start,t=v.end,s=v.r||x||w,x=v.innerR,w=aO(u),q=az(u),o=aO(t),n=az(t);if(t-u===0){return["x"]}u=["wa",A-s,z-s,A+s,z+s,A+s*w,z+s*q,A+s*o,z+s*n];v.open&&!x&&u.push("e","M",A,z);u.push("at",A-x,z-x,A+x,z+x,A+x*o,z+x*n,A+x*w,z+x*q,"x","e");return u},circle:function(o,n,s,q){return["wa",o,n,o+s,n+q,o+s,n+q/2,o+s,n+q/2,"e"]},rect:function(o,n,w,v,u){var t=o+w,s=n+v,q;!au(u)||!u.r?t=bw.prototype.symbols.square.apply(0,arguments):(q=bc(u.r,w,v),t=["M",o+q,n,"L",t-q,n,"wa",t-2*q,n,t,n+2*q,t-q,n,t,n+q,"L",t,s-q,"wa",t-2*q,s-2*q,t,s,t,s-q,t-q,s,"L",o+q,s,"wa",o,s-2*q,o+2*q,s,o+q,s,o,s-q,"L",o,n+q,"wa",o,n,o+2*q,n+2*q,o,n+q,o+q,n,"x","e"]);return t}}};Highcharts.VMLRenderer=a3=function(){this.init.apply(this,arguments)};a3.prototype=ao(bw.prototype,by);c=a3}var aj;if(bB){Highcharts.CanVGRenderer=a3=function(){bE="http://www.w3.org/1999/xhtml"},a3.prototype.symbols={},aj=function(){function o(){var q=n.length,s;for(s=0;s<q;s++){n[s]()}n=[]}var n=[];return{push:function(s,q){n.length===0&&a(q,o);n.push(s)}}}(),c=a3}bg.prototype={addLabel:function(){var C=this.axis,A=C.options,z=C.chart,x=C.horiz,w=C.categories,v=C.series[0]&&C.series[0].names,u=this.pos,t=A.labels,s=C.tickPositions,x=x&&w&&!t.step&&!t.staggerLines&&!t.rotation&&z.plotWidth/s.length||!x&&z.plotWidth/2,q=u===s[0],o=u===s[s.length-1],v=w?aw(w[u],v&&v[u],u):u,w=this.label,s=s.info,n;C.isDatetimeAxis&&s&&(n=A.dateTimeLabelFormats[s.higherRanks[u]||s.unitName]);this.isFirst=q;this.isLast=o;A=C.labelFormatter.call({axis:C,chart:z,isFirst:q,isLast:o,dateTimeLabelFormat:n,value:C.isLog?aC(H(v)):v});u=x&&{width:av(1,at(x-2*(t.padding||10)))+"px"};u=ar(u,t.style);if(au(w)){w&&w.attr({text:A}).css(u)}else{x={align:t.align};if(aK(t.rotation)){x.rotation=t.rotation}this.label=au(A)&&t.enabled?z.renderer.text(A,0,0,t.useHTML).attr(x).css(u).add(C.labelGroup):null}},getLabelSize:function(){var o=this.label,n=this.axis;return o?(this.labelBBox=o.getBBox())[n.horiz?"height":"width"]:0},getLabelSides:function(){var o=this.axis.options.labels,n=this.labelBBox.width,o=n*{left:0,center:0.5,right:1}[o.align]-o.x;return[-o,n-o]},handleOverflow:function(E,C){var A=!0,z=this.axis,x=z.chart,w=this.isFirst,v=this.isLast,u=C.x,t=z.reversed,s=z.tickPositions;if(w||v){var q=this.getLabelSides(),n=q[0],q=q[1],x=x.plotLeft,o=x+z.len,s=(z=z.ticks[s[E+(w?1:-1)]])&&z.label.xy&&z.label.xy.x+z.getLabelSides()[w?0:1];w&&!t||v&&t?u+n<x&&(u=x-n,z&&u+q>s&&(A=!1)):u+q>o&&(u=o-q,z&&u+n<s&&(A=!1));C.x=u}return A},getPosition:function(o,n,v,u){var t=this.axis,s=t.chart,q=u&&s.oldChartHeight||s.chartHeight;return{x:o?t.translate(n+v,null,null,u)+t.transB:t.left+t.offset+(t.opposite?(u&&s.oldChartWidth||s.chartWidth)-t.right-t.left:0),y:o?q-t.bottom+t.offset-(t.opposite?t.height:0):q-t.translate(n+v,null,null,u)-t.transB}},getLabelPosition:function(A,z,x,w,v,u,t,s){var q=this.axis,o=q.transA,n=q.reversed,q=q.staggerLines,A=A+v.x-(u&&w?u*o*(n?-1:1):0),z=z+v.y-(u&&!w?u*o*(n?1:-1):0);au(v.y)||(z+=aq(x.styles.lineHeight)*0.9-x.getBBox().height/2);q&&(z+=t/(s||1)%q*16);return{x:A,y:z}},getMarkPath:function(o,n,u,t,s,q){return q.crispLine(["M",o,n,"L",o+(s?0:-u),n+(s?u:0)],t)},render:function(ba,ab,aa){var Z=this.axis,Y=Z.options,X=Z.chart.renderer,W=Z.horiz,V=this.type,U=this.label,T=this.pos,S=Y.labels,P=this.gridLine,R=V?V+"Grid":"grid",N=V?V+"Tick":"tick",K=Y[R+"LineWidth"],O=Y[R+"LineColor"],M=Y[R+"LineDashStyle"],w=Y[N+"Length"],R=Y[N+"Width"]||0,L=Y[N+"Color"],J=Y[N+"Position"],N=this.mark,F=S.step,E=!0,C=Z.tickmarkOffset,o=this.getPosition(W,T,C,ab),A=o.x,o=o.y,G=W&&A===Z.pos||!W&&o===Z.pos+Z.len?-1:1,z=Z.staggerLines;this.isActive=!0;if(K){T=Z.getPlotLinePath(T+C,K*G,ab,!0);if(P===ap){P={stroke:O,"stroke-width":K};if(M){P.dashstyle=M}if(!V){P.zIndex=1}if(ab){P.opacity=0}this.gridLine=P=K?X.path(T).attr(P).add(Z.gridGroup):null}if(!ab&&P&&T){P[this.isNew?"attr":"animate"]({d:T,opacity:aa})}}if(R&&w){J==="inside"&&(w=-w),Z.opposite&&(w=-w),ab=this.getMarkPath(A,o,w,R*G,W,X),N?N.animate({d:ab,opacity:aa}):this.mark=X.path(ab).attr({stroke:L,"stroke-width":R,opacity:aa}).add(Z.axisGroup)}if(U&&!isNaN(A)){U.xy=o=this.getLabelPosition(A,o,U,W,S,C,ba,F),this.isFirst&&!aw(Y.showFirstLabel,1)||this.isLast&&!aw(Y.showLastLabel,1)?E=!1:!z&&W&&S.overflow==="justify"&&!this.handleOverflow(ba,o)&&(E=!1),F&&ba%F&&(E=!1),E&&!isNaN(o.y)?(o.opacity=aa,U[this.isNew?"attr":"animate"](o),this.isNew=!1):U.attr("y",-9999)}},destroy:function(){bS(this,this.axis)}};aE.prototype={render:function(){var P=this,O=P.axis,N=O.horiz,M=(O.pointRange||0)/2,L=P.options,K=L.label,J=P.label,G=L.width,F=L.to,E=L.from,C=au(E)&&au(F),z=L.value,A=L.dashStyle,w=P.svgElem,u=[],x,v=L.color,o=L.zIndex,q=L.events,s=O.chart.renderer;O.isLog&&(E=bf(E),F=bf(F),z=bf(z));if(G){if(u=O.getPlotLinePath(z,G),M={stroke:v,"stroke-width":G},A){M.dashstyle=A}}else{if(C){if(E=av(E,O.min-M),F=bc(F,O.max+M),u=O.getPlotBandPath(E,F,L),M={fill:v},L.borderWidth){M.stroke=L.borderColor,M["stroke-width"]=L.borderWidth}}else{return}}if(au(o)){M.zIndex=o}if(w){u?w.animate({d:u},null,w.onGetPath):(w.hide(),w.onGetPath=function(){w.show()})}else{if(u&&u.length&&(P.svgElem=w=s.path(u).attr(M).add(),q)){for(x in L=function(n){w.on(n,function(t){q[n].apply(P,[t])})},q){L(x)}}}if(K&&au(K.text)&&u&&u.length&&O.width>0&&O.height>0){K=ao({align:N&&C&&"center",x:N?!C&&4:10,verticalAlign:!N&&C&&"middle",y:N?C?16:10:C?6:-4,rotation:N&&!C&&90},K);if(!J){P.label=J=s.text(K.text,0,0).attr({align:K.textAlign||K.align,rotation:K.rotation,zIndex:o}).css(K.style).add()}O=[u[1],u[4],aw(u[6],u[1])];u=[u[2],u[5],aw(u[7],u[2])];N=j(O);C=j(u);J.align(K,!1,{x:N,y:C,width:ag(O)-N,height:ag(u)-C});J.show()}else{J&&J.hide()}return P},destroy:function(){bv(this.axis.plotLinesAndBands,this);bS(this,this.axis)}};be.prototype={destroy:function(){bS(this,this.axis)},setTotal:function(n){this.cum=this.total=n},render:function(o){var n=this.options,q=n.formatter.call(this);this.label?this.label.attr({text:q,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(q,0,0,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:"hidden"}).add(o)},setOffset:function(x,w){var v=this.axis,u=v.chart,t=u.inverted,s=this.isNegative,q=v.translate(this.percent?100:this.total,0,0,0,1),v=v.translate(0),v=aV(q-v),o=u.xAxis[0].translate(this.x)+x,n=u.plotHeight,s={x:t?s?q:q-v:o,y:t?n-o-w:s?n-q-v:n-q,width:t?v:w,height:t?w:v};if(t=this.label){t.align(this.alignOptions,null,s),s=t.alignAttr,t.attr({visibility:this.options.crop===!1||u.isInsidePlot(s.x,s.y)?aM?"inherit":"visible":"hidden"})}}};br.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:a2,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:a2.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(o,n){var u=n.isX;this.horiz=o.inverted?!u:u;this.xOrY=(this.isXAxis=u)?"x":"y";this.opposite=n.opposite;this.side=this.horiz?this.opposite?0:2:this.opposite?1:3;this.setOptions(n);var t=this.options,s=t.type;this.labelFormatter=t.labels.formatter||this.defaultLabelFormatter;this.staggerLines=this.horiz&&t.labels.staggerLines;this.userOptions=n;this.minPixelPadding=0;this.chart=o;this.reversed=t.reversed;this.zoomEnabled=t.zoomEnabled!==!1;this.categories=t.categories||s==="category";this.isLog=s==="logarithmic";this.isDatetimeAxis=s==="datetime";this.isLinked=au(t.linkedTo);this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"?0.5:0;this.ticks={};this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=t.minRange||t.maxZoom;this.range=t.range;this.offset=t.offset||0;this.stacks={};this._stacksTouched=0;this.min=this.max=null;var q,t=this.options.events;h(this,o.axes)===-1&&(o.axes.push(this),o[u?"xAxis":"yAxis"].push(this));this.series=this.series||[];if(o.inverted&&u&&this.reversed===ap){this.reversed=!0}this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(q in t){a4(this,q,t[q])}if(this.isLog){this.val2lin=bf,this.lin2val=H}},setOptions:function(n){this.options=ao(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],ao(aW[this.isXAxis?"xAxis":"yAxis"],n))},update:function(o,n){var q=this.chart,o=q.options[this.xOrY+"Axis"][this.options.index]=ao(this.userOptions,o);this.destroy();this._addedPlotLB=!1;this.init(q,o);q.isDirtyBox=!0;aw(n,!0)&&q.redraw()},remove:function(o){var n=this.chart,q=this.xOrY+"Axis";ay(this.series,function(s){s.remove(!1)});bv(n.axes,this);bv(n[q],this);n.options[q].splice(this.options.index,1);this.destroy();n.isDirtyBox=!0;aw(o,!0)&&n.redraw()},defaultLabelFormatter:function(){var o=this.axis,n=this.value,w=o.categories,v=this.dateTimeLabelFormat,u=aW.lang.numericSymbols,t=u&&u.length,s,q=o.options.labels.format,o=o.isLog?n:o.tickInterval;if(q){s=ad(q,this)}else{if(w){s=n}else{if(v){s=bq(v,n)}else{if(t&&o>=1000){for(;t--&&s===ap;){w=Math.pow(1000,t+1),o>=w&&u[t]!==null&&(s=bF(n/w,-1)+u[t])}}}}}s===ap&&(s=n>=1000?bF(n,0):bF(n,-1));return s},getSeriesExtremes:function(){var o=this,n=o.chart,w=o.stacks,v=[],u=[],t=o._stacksTouched+=1,s,q;o.hasVisibleSeries=!1;o.dataMin=o.dataMax=null;ay(o.series,function(ab){if(ab.visible||!n.options.chart.ignoreHiddenSeries){var aa=ab.options,Z,X,Y,V,S,W,T,G,J,O=aa.threshold,N,M=[],K=0;o.hasVisibleSeries=!0;if(o.isLog&&O<=0){O=aa.threshold=null}if(o.isXAxis){if(aa=ab.xData,aa.length){o.dataMin=bc(aw(o.dataMin,aa[0]),j(aa)),o.dataMax=av(aw(o.dataMax,aa[0]),ag(aa))}}else{var E,L,P,R=ab.cropped,F=ab.xAxis.getExtremes(),U=!!ab.modifyValue;Z=aa.stacking;o.usePercentage=Z==="percent";if(Z){S=aa.stack,V=ab.type+aw(S,""),W="-"+V,ab.stackKey=V,X=v[V]||[],v[V]=X,Y=u[W]||[],u[W]=Y}if(o.usePercentage){o.dataMin=0,o.dataMax=99}aa=ab.processedXData;T=ab.processedYData;N=T.length;for(q=0;q<N;q++){G=aa[q];J=T[q];if(Z){L=(E=J<O)?Y:X,P=E?W:V,au(L[G])?(L[G]=aC(L[G]+J),J=[J,L[G]]):L[G]=J,w[P]||(w[P]={}),w[P][G]||(w[P][G]=new be(o,o.options.stackLabels,E,G,S,Z)),w[P][G].setTotal(L[G]),w[P][G].touched=t}if(J!==null&&J!==ap&&(!o.isLog||J>0)){if(U&&(J=ab.modifyValue(J)),ab.getExtremesFromAll||R||(aa[q+1]||G)>=F.min&&(aa[q-1]||G)<=F.max){if(G=J.length){for(;G--;){J[G]!==null&&(M[K++]=J[G])}}else{M[K++]=J}}}}if(!o.usePercentage&&M.length){ab.dataMin=Z=j(M),ab.dataMax=ab=ag(M),o.dataMin=bc(aw(o.dataMin,Z),Z),o.dataMax=av(aw(o.dataMax,ab),ab)}if(au(O)){if(o.dataMin>=O){o.dataMin=O,o.ignoreMinPadding=!0}else{if(o.dataMax<O){o.dataMax=O,o.ignoreMaxPadding=!0}}}}}});for(s in w){for(q in w[s]){w[s][q].touched<t&&(w[s][q].destroy(),delete w[s][q])}}},translate:function(A,z,x,w,v,u){var t=this.len,s=1,q=0,o=w?this.oldTransA:this.transA,w=w?this.oldMin:this.min,n=this.minPixelPadding,v=(this.options.ordinal||this.isLog&&v)&&this.lin2val;if(!o){o=this.transA}x&&(s*=-1,q=t);this.reversed&&(s*=-1,q-=s*t);z?(A=A*s+q,A-=n,A=A/o+w,v&&(A=this.lin2val(A))):(v&&(A=this.val2lin(A)),A=s*(A-w)*o+q+s*n+(u?o*this.pointRange/2:0));return A},toPixels:function(o,n){return this.translate(o,!1,!this.horiz,null,!0)+(n?0:this.pos)},toValue:function(o,n){return this.translate(o-(n?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(E,C,A,z){var x=this.chart,w=this.left,v=this.top,u,t,s,E=this.translate(E,null,null,A),q=A&&x.oldChartHeight||x.chartHeight,n=A&&x.oldChartWidth||x.chartWidth,o;u=this.transB;A=t=at(E+u);u=s=at(q-E-u);if(isNaN(E)){o=!0}else{if(this.horiz){if(u=v,s=q-this.bottom,A<w||A>w+this.width){o=!0}}else{if(A=w,t=n-this.right,u<v||u>v+this.height){o=!0}}}return o&&!z?null:x.renderer.crispLine(["M",A,u,"L",t,s],C||0)},getPlotBandPath:function(o,n){var s=this.getPlotLinePath(n),q=this.getPlotLinePath(o);q&&s?q.push(s[4],s[5],s[1],s[2]):q=null;return q},getLinearTickPositions:function(o,n,t){for(var s,n=aC(aT(n/o)*o),t=aC(ac(t/o)*o),q=[];n<=t;){q.push(n);n=aC(n+o);if(n===s){break}s=n}return q},getLogTickPositions:function(C,A,z,x){var w=this.options,v=this.len,u=[];if(!x){this._minorAutoInterval=null}if(C>=0.5){C=at(C),u=this.getLinearTickPositions(C,A,z)}else{if(C>=0.08){for(var v=aT(A),t,s,q,o,n,w=C>0.3?[1,2,4]:C>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];v<z+1&&!n;v++){s=w.length;for(t=0;t<s&&!n;t++){q=bf(H(v)*w[t]),q>A&&o<=z&&u.push(o),o>z&&(n=!0),o=q}}}else{if(A=H(A),z=H(z),C=w[x?"minorTickInterval":"tickInterval"],C=aw(C==="auto"?null:C,this._minorAutoInterval,(z-A)*(w.tickPixelInterval/(x?5:1))/((x?v/this.tickPositions.length:v)||1)),C=aA(C,null,a0.pow(10,aT(a0.log(C)/a0.LN10))),u=ah(this.getLinearTickPositions(C,A,z),bf),!x){this._minorAutoInterval=C/5}}}if(!x){this.tickInterval=C}return u},getMinorTickPositions:function(){var o=this.options,n=this.tickPositions,t=this.minorTickInterval,s=[],q;if(this.isLog){q=n.length;for(o=1;o<q;o++){s=s.concat(this.getLogTickPositions(t,n[o-1],n[o],!0))}}else{if(this.isDatetimeAxis&&o.minorTickInterval==="auto"){s=s.concat(bM(bG(t),this.min,this.max,o.startOfWeek)),s[0]<this.min&&s.shift()}else{for(n=this.min+(n[0]-this.min)%t;n<=this.max;n+=t){s.push(n)}}}return s},adjustForMinRange:function(){var A=this.options,z=this.min,x=this.max,w,v=this.dataMax-this.dataMin>=this.minRange,u,t,s,q,o;if(this.isXAxis&&this.minRange===ap&&!this.isLog){au(A.min)||au(A.max)?this.minRange=null:(ay(this.series,function(C){q=C.xData;for(t=o=C.xIncrement?1:q.length-1;t>0;t--){if(s=q[t]-q[t-1],u===ap||s<u){u=s}}}),this.minRange=bc(u*5,this.dataMax-this.dataMin))}if(x-z<this.minRange){var n=this.minRange;w=(n-x+z)/2;w=[z-w,aw(A.min,z-w)];if(v){w[2]=this.dataMin}z=ag(w);x=[z+n,aw(A.max,z+n)];if(v){x[2]=this.dataMax}x=j(x);x-z<n&&(w[0]=x-n,w[1]=aw(A.min,x-n),z=ag(w))}this.min=z;this.max=x},setAxisTranslation:function(o){var n=this.max-this.min,w=0,v,u=0,t=0,s=this.linkedParent,q=this.transA;if(this.isXAxis){s?(u=s.minPointOffset,t=s.pointRangePadding):ay(this.series,function(z){var C=z.pointRange,A=z.options.pointPlacement,x=z.closestPointRange;C>n&&(C=0);w=av(w,C);u=av(u,A?0:C/2);t=av(t,A==="on"?0:C);!z.noSharedTooltip&&au(x)&&(v=au(v)?bc(v,x):x)}),this.minPointOffset=u,this.pointRangePadding=t,this.pointRange=bc(w,n),this.closestPointRange=v}if(o){this.oldTransA=q}this.translationSlope=this.transA=q=this.len/(n+t||1);this.transB=this.horiz?this.left:this.bottom;this.minPixelPadding=q*u},setTickPositions:function(G){var F=this,E=F.chart,C=F.options,A=F.isLog,z=F.isDatetimeAxis,x=F.isXAxis,w=F.isLinked,v=F.options.tickPositioner,u=C.maxPadding,t=C.minPadding,q=C.tickInterval,s=C.minTickInterval,o=C.tickPixelInterval,n=F.categories;w?(F.linkedParent=E[x?"xAxis":"yAxis"][C.linkedTo],E=F.linkedParent.getExtremes(),F.min=aw(E.min,E.dataMin),F.max=aw(E.max,E.dataMax),C.type!==F.linkedParent.options.type&&m(11,1)):(F.min=aw(F.userMin,C.min,F.dataMin),F.max=aw(F.userMax,C.max,F.dataMax));if(A){!G&&bc(F.min,aw(F.dataMin,F.min))<=0&&m(10,1),F.min=aC(bf(F.min)),F.max=aC(bf(F.max))}if(F.range&&(F.userMin=F.min=av(F.min,F.max-F.range),F.userMax=F.max,G)){F.range=null}F.beforePadding&&F.beforePadding();F.adjustForMinRange();if(!n&&!F.usePercentage&&!w&&au(F.min)&&au(F.max)&&(E=F.max-F.min)){if(!au(C.min)&&!au(F.userMin)&&t&&(F.dataMin<0||!F.ignoreMinPadding)){F.min-=E*t}if(!au(C.max)&&!au(F.userMax)&&u&&(F.dataMax>0||!F.ignoreMaxPadding)){F.max+=E*u}}F.tickInterval=F.min===F.max||F.min===void 0||F.max===void 0?1:w&&!q&&o===F.linkedParent.options.tickPixelInterval?F.linkedParent.tickInterval:aw(q,n?1:(F.max-F.min)*o/(F.len||1));x&&!G&&ay(F.series,function(J){J.processData(F.min!==F.oldMin||F.max!==F.oldMax)});F.setAxisTranslation(!0);F.beforeSetTickPositions&&F.beforeSetTickPositions();if(F.postProcessTickInterval){F.tickInterval=F.postProcessTickInterval(F.tickInterval)}if(!q&&F.tickInterval<s){F.tickInterval=s}if(!z&&!A&&(G=a0.pow(10,aT(a0.log(F.tickInterval)/a0.LN10)),!q)){F.tickInterval=aA(F.tickInterval,null,G,C)}F.minorTickInterval=C.minorTickInterval==="auto"&&F.tickInterval?F.tickInterval/5:C.minorTickInterval;F.tickPositions=v=C.tickPositions?[].concat(C.tickPositions):v&&v.apply(F,[F.min,F.max]);if(!v){v=z?(F.getNonLinearTimeTicks||bM)(bG(F.tickInterval,C.units),F.min,F.max,C.startOfWeek,F.ordinalPositions,F.closestPointRange,!0):A?F.getLogTickPositions(F.tickInterval,F.min,F.max):F.getLinearTickPositions(F.tickInterval,F.min,F.max),F.tickPositions=v}if(!w){A=v[0],z=v[v.length-1],w=F.minPointOffset||0,C.startOnTick?F.min=A:F.min-w>A&&v.shift(),C.endOnTick?F.max=z:F.max+w<z&&v.pop(),v.length===1&&(F.min-=0.001,F.max+=0.001)}},setMaxTicks:function(){var o=this.chart,n=o.maxTicks||{},s=this.tickPositions,q=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&s&&s.length>(n[q]||0)&&this.options.alignTicks!==!1){n[q]=s.length}o.maxTicks=n},adjustTickAmount:function(){var o=this._maxTicksKey,n=this.tickPositions,t=this.chart.maxTicks;if(t&&t[o]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var s=this.tickAmount,q=n.length;this.tickAmount=o=t[o];if(q<o){for(;n.length<o;){n.push(aC(n[n.length-1]+this.tickInterval))}this.transA*=(q-1)/(o-1);this.max=n[n.length-1]}if(au(s)&&o!==s){this.isDirty=!0}}},setScale:function(){var o=this.stacks,n,t,s,q;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();q=this.len!==this.oldAxisLength;ay(this.series,function(u){if(u.isDirtyData||u.isDirty||u.xAxis.isDirty){s=!0}});if(q||s||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty){this.isDirty=q||this.min!==this.oldMin||this.max!==this.oldMax}}if(!this.isXAxis){for(n in o){for(t in o[n]){o[n][t].cum=o[n][t].total}}}this.setMaxTicks()},setExtremes:function(o,n,v,u,t){var s=this,q=s.chart,v=aw(v,!0),t=ar(t,{min:o,max:n});a8(s,"setExtremes",t,function(){s.userMin=o;s.userMax=n;s.isDirtyExtremes=!0;v&&q.redraw(u)})},zoom:function(o,n){o<=this.dataMin&&(o=ap);n>=this.dataMax&&(n=ap);this.displayBtn=o!==ap||n!==ap;this.setExtremes(o,n,!1,ap,{trigger:"zoom"});return !0},setAxisSize:function(){var o=this.chart,n=this.options,v=n.offsetLeft||0,u=n.offsetRight||0,t=this.horiz,s,q;this.left=q=aw(n.left,o.plotLeft+v);this.top=s=aw(n.top,o.plotTop);this.width=v=aw(n.width,o.plotWidth-v+u);this.height=n=aw(n.height,o.plotHeight);this.bottom=o.chartHeight-n-s;this.right=o.chartWidth-v-q;this.len=av(t?v:n,0);this.pos=t?q:s},getExtremes:function(){var n=this.isLog;return{min:n?aC(H(this.min)):this.min,max:n?aC(H(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(o){var n=this.isLog,q=n?H(this.min):this.min,n=n?H(this.max):this.max;q>o||o===null?o=q:n<o&&(o=n);return this.translate(o,0,1,0,1)},addPlotBand:function(n){this.addPlotBandOrLine(n,"plotBands")},addPlotLine:function(n){this.addPlotBandOrLine(n,"plotLines")},addPlotBandOrLine:function(o,n){var s=(new aE(this,o)).render(),q=this.userOptions;n&&(q[n]=q[n]||[],q[n].push(o));this.plotLinesAndBands.push(s);return s},getOffset:function(){var P=this,O=P.chart,N=O.renderer,M=P.options,L=P.tickPositions,K=P.ticks,J=P.horiz,G=P.side,F=O.inverted?[1,0,3,2][G]:G,E,C=0,z,A=0,x=M.title,v=M.labels,s=0,w=O.axisOffset,n=O.clipOffset,o=[-1,1,1,-1][G],q;P.hasData=O=P.hasVisibleSeries||au(P.min)&&au(P.max)&&!!L;P.showAxis=E=O||aw(M.showEmpty,!0);if(!P.axisGroup){P.gridGroup=N.g("grid").attr({zIndex:M.gridZIndex||1}).add(),P.axisGroup=N.g("axis").attr({zIndex:M.zIndex||2}).add(),P.labelGroup=N.g("axis-labels").attr({zIndex:v.zIndex||7}).add()}if(O||P.isLinked){ay(L,function(t){K[t]?K[t].addLabel():K[t]=new bg(P,t)}),ay(L,function(t){if(G===0||G===2||{1:"left",3:"right"}[G]===v.align){s=av(K[t].getLabelSize(),s)}}),P.staggerLines&&(s+=(P.staggerLines-1)*16)}else{for(q in K){K[q].destroy(),delete K[q]}}if(x&&x.text&&x.enabled!==!1){if(!P.axisTitle){P.axisTitle=N.text(x.text,0,0,x.useHTML).attr({zIndex:7,rotation:x.rotation||0,align:x.textAlign||{low:"left",middle:"center",high:"right"}[x.align]}).css(x.style).add(P.axisGroup),P.axisTitle.isNew=!0}if(E){C=P.axisTitle.getBBox()[J?"height":"width"],A=aw(x.margin,J?5:10),z=x.offset}P.axisTitle[E?"show":"hide"]()}P.offset=o*aw(M.offset,w[G]);P.axisTitleMargin=aw(z,s+A+(G!==2&&s&&o*M.labels[J?"y":"x"]));w[G]=av(w[G],P.axisTitleMargin+C+o*P.offset);n[F]=av(n[F],M.lineWidth)},getLinePath:function(o){var n=this.chart,u=this.opposite,t=this.offset,s=this.horiz,q=this.left+(u?this.width:0)+t;this.lineTop=t=n.chartHeight-this.bottom-(u?this.height:0)+t;u||(o*=-1);return n.renderer.crispLine(["M",s?this.left:q,s?t:this.top,"L",s?n.chartWidth-this.right:q,s?t:n.chartHeight-this.bottom],o)},getTitlePosition:function(){var x=this.horiz,w=this.left,v=this.top,u=this.len,t=this.options.title,s=x?w:v,q=this.opposite,o=this.offset,n=aq(t.style.fontSize||12),u={low:s+(x?0:u),middle:s+u/2,high:s+(x?u:0)}[t.align],w=(x?v+this.height:w)+(x?1:-1)*(q?-1:1)*this.axisTitleMargin+(this.side===2?n:0);return{x:x?u:w+(q?this.width:0)+o+(t.x||0),y:x?w-(q?this.height:0)+o:u+(t.y||0)}},render:function(){var Y=this,X=Y.chart,W=X.renderer,V=Y.options,U=Y.isLog,T=Y.isLinked,S=Y.tickPositions,R=Y.axisTitle,P=Y.stacks,O=Y.ticks,N=Y.minorTicks,L=Y.alternateBands,M=V.stackLabels,J=V.alternateGridColor,E=Y.tickmarkOffset,K=V.lineWidth,G,F=X.hasRendered&&au(Y.oldMin)&&!isNaN(Y.oldMin),z=Y.showAxis,w,s;if(Y.hasData||T){if(ay([O,N,L],function(q){for(var o in q){q[o].isActive=!1}}),Y.minorTickInterval&&!Y.categories&&ay(Y.getMinorTickPositions(),function(o){N[o]||(N[o]=new bg(Y,o,"minor"));F&&N[o].isNew&&N[o].render(null,!0);N[o].render(null,!1,1)}),S.length&&(ay(S.slice(1).concat([S[0]]),function(o,q){q=q===S.length-1?0:q+1;if(!T||o>=Y.min&&o<=Y.max){O[o]||(O[o]=new bg(Y,o)),F&&O[o].isNew&&O[o].render(q,!0),O[o].render(q,!1,1)}}),E&&Y.min===0&&(O[-1]||(O[-1]=new bg(Y,-1,null,!0)),O[-1].render(-1))),J&&ay(S,function(o,q){if(q%2===0&&o<Y.max){L[o]||(L[o]=new aE(Y)),w=o+E,s=S[q+1]!==ap?S[q+1]+E:Y.max,L[o].options={from:U?H(w):w,to:U?H(s):s,color:J},L[o].render(),L[o].isActive=!0}}),!Y._addedPlotLB){ay((V.plotLines||[]).concat(V.plotBands||[]),function(o){Y.addPlotBandOrLine(o)}),Y._addedPlotLB=!0}}ay([O,N,L],function(o){var x,v,u=[],t=bI?bI.duration||500:0,q=function(){for(v=u.length;v--;){o[u[v]]&&!o[u[v]].isActive&&(o[u[v]].destroy(),delete o[u[v]])}};for(x in o){if(!o[x].isActive){o[x].render(x,!1,0),o[x].isActive=!1,u.push(x)}}o===L||!X.hasRendered||!t?q():t&&setTimeout(q,t)});if(K){G=Y.getLinePath(K),Y.axisLine?Y.axisLine.animate({d:G}):Y.axisLine=W.path(G).attr({stroke:V.lineColor,"stroke-width":K,zIndex:7}).add(Y.axisGroup),Y.axisLine[z?"show":"hide"]()}if(R&&z){R[R.isNew?"attr":"animate"](Y.getTitlePosition()),R.isNew=!1}if(M&&M.enabled){var n,A,V=Y.stackTotalGroup;if(!V){Y.stackTotalGroup=V=W.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()}V.translate(X.plotLeft,X.plotTop);for(n in P){for(A in W=P[n],W){W[A].render(V)}}}Y.isDirty=!1},removePlotBandOrLine:function(o){for(var n=this.plotLinesAndBands,q=n.length;q--;){n[q].id===o&&n[q].destroy()}},setTitle:function(o,n){this.update({title:o},n)},redraw:function(){var n=this.chart.pointer;n.reset&&n.reset(!0);this.render();ay(this.plotLinesAndBands,function(o){o.render()});ay(this.series,function(o){o.isDirty=!0})},setCategories:function(o,n){this.update({categories:o},n)},destroy:function(){var o=this,n=o.stacks,q;aY(o);for(q in n){bS(n[q]),n[q]=null}ay([o.ticks,o.minorTicks,o.alternateBands,o.plotLinesAndBands],function(s){bS(s)});ay("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(s){o[s]&&(o[s]=o[s].destroy())})}};ae.prototype={init:function(o,n){var t=n.borderWidth,s=n.style,q=aq(s.padding);this.chart=o;this.options=n;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=o.renderer.label("",0,0,n.shape,null,null,n.useHTML,null,"tooltip").attr({padding:q,fill:n.backgroundColor,"stroke-width":t,r:n.borderRadius,zIndex:8}).css(s).css({padding:0}).hide().add();bB||this.label.shadow(n.shadow);this.shared=n.shared},destroy:function(){ay(this.crosshairs,function(n){n&&n.destroy()});if(this.label){this.label=this.label.destroy()}},move:function(o,n,v,u){var t=this,s=t.now,q=t.options.animation!==!1&&!t.isHidden;ar(s,{x:q?(2*s.x+o)/3:o,y:q?(s.y+n)/2:n,anchorX:q?(2*s.anchorX+v)/3:v,anchorY:q?(s.anchorY+u)/2:u});t.label.attr(s);if(q&&(aV(o-s.x)>1||aV(n-s.y)>1)){clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){t&&t.move(o,n,v,u)},32)}},hide:function(){var o=this,n;if(!this.isHidden){n=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){o.label.fadeOut();o.isHidden=!0},aw(this.options.hideDelay,500)),n&&ay(n,function(q){q.setState()}),this.chart.hoverPoints=null}},hideCrosshairs:function(){ay(this.crosshairs,function(n){n&&n.hide()})},getAnchor:function(x,w){var v,u=this.chart,t=u.inverted,s=u.plotTop,q=0,o=0,n,x=a6(x);v=x[0].tooltipPos;this.followPointer&&w&&(w.chartX===ap&&(w=u.pointer.normalize(w)),v=[w.chartX-u.plotLeft,w.chartY-s]);v||(ay(x,function(z){n=z.series.yAxis;q+=z.plotX;o+=(z.plotLow?(z.plotLow+z.plotHigh)/2:z.plotY)+(!t&&n?n.top-s:0)}),q/=x.length,o/=x.length,v=[t?u.plotWidth-o:q,this.shared&&!t&&x.length>1&&w?w.chartY-s:t?u.plotHeight-q:o]);return ah(v,at)},getPosition:function(C,A,z){var x=this.chart,w=x.plotLeft,v=x.plotTop,u=x.plotWidth,t=x.plotHeight,s=aw(this.options.distance,12),q=z.plotX,z=z.plotY,x=q+w+(x.inverted?s:-C-s),o=z-A+v+15,n;x<7&&(x=w+av(q,0)+s);x+C>w+u&&(x-=x+C-(w+u),o=z-A+v-s,n=!0);o<v+5&&(o=v+5,n&&z>=o&&z<=o+A&&(o=z+v+s));o+A>v+t&&(o=av(v,v+t-A-s));return{x:x,y:o}},defaultFormatter:function(o){var n=this.points||a6(this),s=n[0].series,q;q=[s.tooltipHeaderFormatter(n[0])];ay(n,function(t){s=t.series;q.push(s.tooltipFormatter&&s.tooltipFormatter(t)||t.point.tooltipFormatter(s.tooltipOptions.pointFormat))});q.push(o.options.footerFormat||"");return q.join("")},refresh:function(E,C){var A=this.chart,z=this.label,x=this.options,w,v,u,t={},s,q=[];s=x.formatter||this.defaultFormatter;var t=A.hoverPoints,n,o=x.crosshairs;u=this.shared;clearTimeout(this.hideTimer);this.followPointer=a6(E)[0].series.tooltipOptions.followPointer;v=this.getAnchor(E,C);w=v[0];v=v[1];u&&(!E.series||!E.series.noSharedTooltip)?(A.hoverPoints=E,t&&ay(t,function(F){F.setState()}),ay(E,function(F){F.setState("hover");q.push(F.getLabelConfig())}),t={x:E[0].category,y:E[0].y},t.points=q,E=E[0]):t=E.getLabelConfig();s=s.call(t,this);t=E.series;u=u||!t.isCartesian||t.tooltipOutsidePlot||A.isInsidePlot(w,v);s===!1||!u?this.hide():(this.isHidden&&(bJ(z),z.attr("opacity",1).show()),z.attr({text:s}),n=x.borderColor||E.color||t.color||"#606060",z.attr({stroke:n}),this.updatePosition({plotX:w,plotY:v}),this.isHidden=!1);if(o){o=a6(o);for(z=o.length;z--;){if(x=E.series[z?"yAxis":"xAxis"],o[z]&&x){if(x=x.getPlotLinePath(z?aw(E.stackY,E.y):E.x,1),this.crosshairs[z]){this.crosshairs[z].attr({d:x,visibility:"visible"})}else{u={"stroke-width":o[z].width||1,stroke:o[z].color||"#C0C0C0",zIndex:o[z].zIndex||2};if(o[z].dashStyle){u.dashstyle=o[z].dashStyle}this.crosshairs[z]=A.renderer.path(x).attr(u).add()}}}}a8(A,"tooltipRefresh",{text:s,x:w+A.plotLeft,y:v+A.plotTop,borderColor:n})},updatePosition:function(o){var n=this.chart,q=this.label,q=(this.options.positioner||this.getPosition).call(this,q.width,q.height,o);this.move(at(q.x),at(q.y),o.plotX+n.plotLeft,o.plotY+n.plotTop)}};k.prototype={init:function(o,n){var t=bB?"":n.chart.zoomType,s=o.inverted,q;this.options=n;this.chart=o;this.zoomX=q=/x/.test(t);this.zoomY=t=/y/.test(t);this.zoomHor=q&&!s||t&&s;this.zoomVert=t&&!s||q&&s;this.pinchDown=[];this.lastValidTouch={};if(n.tooltip.enabled){o.tooltip=new ae(o,n.tooltip)}this.setDOMEvents()},normalize:function(o){var n,s,q,o=o||bd.event;if(!o.target){o.target=o.srcElement}o=aJ(o);q=o.touches?o.touches.item(0):o;this.chartPosition=n=bH(this.chart.container);q.pageX===ap?(s=o.x,n=o.y):(s=q.pageX-n.left,n=q.pageY-n.top);return ar(o,{chartX:at(s),chartY:at(n)})},getCoordinates:function(o){var n={xAxis:[],yAxis:[]};ay(this.chart.axes,function(q){n[q.isXAxis?"xAxis":"yAxis"].push({axis:q,value:q.toValue(o[q.horiz?"chartX":"chartY"])})});return n},getIndex:function(o){var n=this.chart;return n.inverted?n.plotHeight+n.plotTop-o.chartY:o.chartX-n.plotLeft},runPointActions:function(A){var z=this.chart,x=z.series,w=z.tooltip,v,u=z.hoverPoint,t=z.hoverSeries,s,q,o=z.chartWidth,n=this.getIndex(A);if(w&&this.options.tooltip.shared&&(!t||!t.noSharedTooltip)){v=[];s=x.length;for(q=0;q<s;q++){if(x[q].visible&&x[q].options.enableMouseTracking!==!1&&!x[q].noSharedTooltip&&x[q].tooltipPoints.length&&(z=x[q].tooltipPoints[n],z.series)){z._dist=aV(n-z.clientX),o=bc(o,z._dist),v.push(z)}}for(s=v.length;s--;){v[s]._dist>o&&v.splice(s,1)}if(v.length&&v[0].clientX!==this.hoverX){w.refresh(v,A),this.hoverX=v[0].clientX}}if(t&&t.tracker){if((z=t.tooltipPoints[n])&&z!==u){z.onMouseOver(A)}}else{w&&w.followPointer&&!w.isHidden&&(A=w.getAnchor([{}],A),w.updatePosition({plotX:A[0],plotY:A[1]}))}},reset:function(o){var n=this.chart,t=n.hoverSeries,s=n.hoverPoint,q=n.tooltip,n=q&&q.shared?n.hoverPoints:s;(o=o&&q&&n)&&a6(n)[0].plotX===ap&&(o=!1);if(o){q.refresh(n)}else{if(s){s.onMouseOut()}if(t){t.onMouseOut()}q&&(q.hide(),q.hideCrosshairs());this.hoverX=null}},scaleGroups:function(o,n){var q=this.chart;ay(q.series,function(s){s.xAxis.zoomEnabled&&(s.group.attr(o),s.markerGroup&&(s.markerGroup.attr(o),s.markerGroup.clip(n?q.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(o))});q.clipRect.attr(n||q.clipBox)},pinchTranslateDirection:function(ab,aa,Z,Y,X,W,V){var U=this.chart,T=ab?"x":"y",S=ab?"X":"Y",R="chart"+S,O=ab?"width":"height",P=U["plot"+(ab?"Left":"Top")],L,J,M=1,N=U.inverted,K=U.bounds[ab?"h":"v"],F=aa.length===1,G=aa[0][R],E=Z[0][R],C=!F&&aa[1][R],A=!F&&Z[1][R],z,Z=function(){!F&&aV(G-C)>20&&(M=aV(E-A)/aV(G-C));J=(P-E)/M+G;L=U["plot"+(ab?"Width":"Height")]/M};Z();aa=J;aa<K.min?(aa=K.min,z=!0):aa+L>K.max&&(aa=K.max-L,z=!0);z?(E-=0.8*(E-V[T][0]),F||(A-=0.8*(A-V[T][1])),Z()):V[T]=[E,A];N||(W[T]=J-P,W[O]=L);W=N?1/M:M;X[O]=L;X[T]=aa;Y[N?ab?"scaleY":"scaleX":"scale"+S]=M;Y["translate"+S]=W*P+(E-W*G)},pinch:function(A){var z=this,x=z.chart,w=z.pinchDown,v=A.touches,u=z.lastValidTouch,t=z.zoomHor||z.pinchHor,s=z.zoomVert||z.pinchVert,q=z.selectionMarker,o={},n={};A.type==="touchstart"&&(z.inClass(A.target,"highcharts-tracker")?x.runTrackerClick||A.preventDefault():x.runChartClick||A.preventDefault());ah(v,function(C){return z.normalize(C)});if(A.type==="touchstart"){ay(v,function(E,C){w[C]={chartX:E.chartX,chartY:E.chartY}}),u.x=[w[0].chartX,w[1]&&w[1].chartX],u.y=[w[0].chartY,w[1]&&w[1].chartY],ay(x.axes,function(E){if(E.zoomEnabled){var C=x.bounds[E.horiz?"h":"v"],K=E.minPixelPadding,J=E.toPixels(E.dataMin),G=E.toPixels(E.dataMax),F=bc(J,G),J=av(J,G);C.min=bc(E.pos,F-K);C.max=av(E.pos+E.len,J+K)}})}else{if(w.length){if(!q){z.selectionMarker=q=ar({destroy:bm},x.plotBox)}t&&z.pinchTranslateDirection(!0,w,v,o,q,n,u);s&&z.pinchTranslateDirection(!1,w,v,o,q,n,u);z.hasPinched=t||s;z.scaleGroups(o,n)}}},dragStart:function(o){var n=this.chart;n.mouseIsDown=o.type;n.cancelClick=!1;n.mouseDownX=this.mouseDownX=o.chartX;this.mouseDownY=o.chartY},drag:function(E){var C=this.chart,A=C.options.chart,z=E.chartX,E=E.chartY,x=this.zoomHor,w=this.zoomVert,v=C.plotLeft,u=C.plotTop,t=C.plotWidth,s=C.plotHeight,q,n=this.mouseDownX,o=this.mouseDownY;z<v?z=v:z>v+t&&(z=v+t);E<u?E=u:E>u+s&&(E=u+s);this.hasDragged=Math.sqrt(Math.pow(n-z,2)+Math.pow(o-E,2));if(this.hasDragged>10){q=C.isInsidePlot(n-v,o-u);if(C.hasCartesianSeries&&(this.zoomX||this.zoomY)&&q&&!this.selectionMarker){this.selectionMarker=C.renderer.rect(v,u,x?1:t,w?1:s,0).attr({fill:A.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}this.selectionMarker&&x&&(x=z-n,this.selectionMarker.attr({width:aV(x),x:(x>0?0:x)+n}));this.selectionMarker&&w&&(x=E-o,this.selectionMarker.attr({height:aV(x),y:(x>0?0:x)+o}));q&&!this.selectionMarker&&A.panning&&C.pan(z)}},drop:function(o){var n=this.chart,w=this.hasPinched;if(this.selectionMarker){var v={xAxis:[],yAxis:[],originalEvent:o.originalEvent||o},u=this.selectionMarker,t=u.x,s=u.y,q;if(this.hasDragged||w){ay(n.axes,function(A){if(A.zoomEnabled){var z=A.horiz,C=A.minPixelPadding,x=A.toValue((z?t:s)+C),z=A.toValue((z?t+u.width:s+u.height)-C);!isNaN(x)&&!isNaN(z)&&(v[A.xOrY+"Axis"].push({axis:A,min:bc(x,z),max:av(x,z)}),q=!0)}}),q&&a8(n,"selection",v,function(x){n.zoom(ar(x,w?{animation:!1}:null))})}this.selectionMarker=this.selectionMarker.destroy();w&&this.scaleGroups({translateX:n.plotLeft,translateY:n.plotTop,scaleX:1,scaleY:1})}if(n){a1(n.container,{cursor:"auto"}),n.cancelClick=this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]}},onContainerMouseDown:function(n){n=this.normalize(n);n.preventDefault&&n.preventDefault();this.dragStart(n)},onDocumentMouseUp:function(n){this.drop(n)},onDocumentMouseMove:function(o){var n=this.chart,s=this.chartPosition,q=n.hoverSeries,o=aJ(o);s&&q&&q.isCartesian&&!n.isInsidePlot(o.pageX-s.left-n.plotLeft,o.pageY-s.top-n.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset();this.chartPosition=null},onContainerMouseMove:function(o){var n=this.chart,o=this.normalize(o);o.returnValue=!1;n.mouseIsDown==="mousedown"&&this.drag(o);n.isInsidePlot(o.chartX-n.plotLeft,o.chartY-n.plotTop)&&this.runPointActions(o)},inClass:function(o,n){for(var q;o;){if(q=bi(o,"class")){if(q.indexOf(n)!==-1){return !0}else{if(q.indexOf("highcharts-container")!==-1){return !1}}}o=o.parentNode}},onTrackerMouseOut:function(o){var n=this.chart.hoverSeries;if(n&&!n.options.stickyTracking&&!this.inClass(o.toElement||o.relatedTarget,"highcharts-tooltip")){n.onMouseOut()}},onContainerClick:function(x){var w=this.chart,v=w.hoverPoint,u=w.plotLeft,t=w.plotTop,s=w.inverted,q,o,n,x=this.normalize(x);x.cancelBubble=!0;if(!w.cancelClick){v&&this.inClass(x.target,"highcharts-tracker")?(q=this.chartPosition,o=v.plotX,n=v.plotY,ar(v,{pageX:q.left+u+(s?w.plotWidth-n:o),pageY:q.top+t+(s?w.plotHeight-o:n)}),a8(v.series,"click",ar(x,{point:v})),v.firePointEvent("click",x)):(ar(x,this.getCoordinates(x)),w.isInsidePlot(x.chartX-u,x.chartY-t)&&a8(w,"click",x))}},onContainerTouchStart:function(o){var n=this.chart;o.touches.length===1?(o=this.normalize(o),n.isInsidePlot(o.chartX-n.plotLeft,o.chartY-n.plotTop)&&(this.runPointActions(o),this.pinch(o))):o.touches.length===2&&this.pinch(o)},onContainerTouchMove:function(n){(n.touches.length===1||n.touches.length===2)&&this.pinch(n)},onDocumentTouchEnd:function(n){this.drop(n)},setDOMEvents:function(){var o=this,n=o.chart.container,q;this._events=q=[[n,"onmousedown","onContainerMouseDown"],[n,"onmousemove","onContainerMouseMove"],[n,"onclick","onContainerClick"],[n,"mouseleave","onContainerMouseLeave"],[am,"mousemove","onDocumentMouseMove"],[am,"mouseup","onDocumentMouseUp"]];bL&&q.push([n,"ontouchstart","onContainerTouchStart"],[n,"ontouchmove","onContainerTouchMove"],[am,"touchend","onDocumentTouchEnd"]);ay(q,function(s){o["_"+s[2]]=function(t){o[s[2]](t)};s[1].indexOf("on")===0?s[0][s[1]]=o["_"+s[2]]:a4(s[0],s[1],o["_"+s[2]])})},destroy:function(){var n=this;ay(n._events,function(o){o[1].indexOf("on")===0?o[0][o[1]]=null:aY(o[0],o[1],n["_"+o[2]])});delete n._events;clearInterval(n.tooltipTimeout)}};bT.prototype={init:function(o,n){var u=this,t=n.itemStyle,s=aw(n.padding,8),q=n.itemMarginTop||0;this.options=n;if(n.enabled){u.baseline=aq(t.fontSize)+3+q,u.itemStyle=t,u.itemHiddenStyle=ao(t,n.itemHiddenStyle),u.itemMarginTop=q,u.padding=s,u.initialItemX=s,u.initialItemY=s-5,u.maxItemWidth=0,u.chart=o,u.itemHeight=0,u.lastLineHeight=0,u.render(),a4(u.chart,"endResize",function(){u.positionCheckboxes()})}},colorizeItem:function(z,x){var w=this.options,v=z.legendItem,u=z.legendLine,t=z.legendSymbol,s=this.itemHiddenStyle.color,w=x?w.itemStyle.color:s,q=x?z.color:s,s=z.options&&z.options.marker,o={stroke:q,fill:q},n;v&&v.css({fill:w,color:w});u&&u.attr({stroke:q});if(t){if(s){for(n in s=z.convertAttribs(s),s){v=s[n],v!==ap&&(o[n]=v)}}t.attr(o)}},positionItem:function(o){var n=this.options,u=n.symbolPadding,n=!n.rtl,t=o._legendItemPos,s=t[0],t=t[1],q=o.checkbox;o.legendGroup&&o.legendGroup.translate(n?s:this.legendWidth-s-2*u-4,t);if(q){q.x=s,q.y=t}},destroyItem:function(o){var n=o.checkbox;ay(["legendItem","legendLine","legendSymbol","legendGroup"],function(q){o[q]&&o[q].destroy()});n&&y(o.checkbox)},destroy:function(){var o=this.group,n=this.box;if(n){this.box=n.destroy()}if(o){this.group=o.destroy()}},positionCheckboxes:function(o){var n=this.group.alignAttr,s,q=this.clipHeight||this.legendHeight;if(n){s=n.translateY,ay(this.allItems,function(v){var u=v.checkbox,t;u&&(t=s+u.y+(o||0)+3,a1(u,{left:n.translateX+v.legendItemWidth+u.x-20+"px",top:t+"px",display:t>s-6&&t<s+q-6?"":aZ}))})}},renderTitle:function(){var o=this.padding,n=this.options.title,q=0;if(n.text){if(!this.title){this.title=this.chart.renderer.label(n.text,o-3,o-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)}q=this.title.getBBox().height;this.contentGroup.attr({translateY:q})}this.titleHeight=q},renderItem:function(W){var q;var V=this,U=V.chart,T=U.renderer,S=V.options,R=S.layout==="horizontal",P=S.symbolWidth,O=S.symbolPadding,N=V.itemStyle,M=V.itemHiddenStyle,L=V.padding,J=!S.rtl,K=S.width,E=S.itemMarginBottom||0,C=V.itemMarginTop,F=V.initialItemX,G=W.legendItem,z=W.series||W,A=z.options,x=A.showCheckbox,w=S.useHTML;if(!G&&(W.legendGroup=T.g("legend-item").attr({zIndex:1}).add(V.scrollGroup),z.drawLegendSymbol(V,W),W.legendItem=G=T.text(S.labelFormat?ad(S.labelFormat,W):S.labelFormatter.call(W),J?P+O:-O,V.baseline,w).css(ao(W.visible?N:M)).attr({align:J?"left":"right",zIndex:2}).add(W.legendGroup),(w?G:W.legendGroup).on("mouseover",function(){W.setState("hover");G.css(V.options.itemHoverStyle)}).on("mouseout",function(){G.css(W.visible?N:M);W.setState()}).on("click",function(n){var o=function(){W.setVisible()},n={browserEvent:n};W.firePointEvent?W.firePointEvent("legendItemClick",n,o):a8(W,"legendItemClick",n,o)}),V.colorizeItem(W,W.visible),A&&x)){W.checkbox=aS("input",{type:"checkbox",checked:W.selected,defaultChecked:W.selected},S.itemCheckboxStyle,U.container),a4(W.checkbox,"click",function(n){a8(W,"checkboxClick",{checked:n.target.checked},function(){W.select()})})}T=G.getBBox();q=W.legendItemWidth=S.itemWidth||P+O+T.width+L+(x?20:0),S=q;V.itemHeight=P=T.height;if(R&&V.itemX-F+S>(K||U.chartWidth-2*L-F)){V.itemX=F,V.itemY+=C+V.lastLineHeight+E,V.lastLineHeight=0}V.maxItemWidth=av(V.maxItemWidth,S);V.lastItemY=C+V.itemY+E;V.lastLineHeight=av(P,V.lastLineHeight);W._legendItemPos=[V.itemX,V.itemY];R?V.itemX+=S:(V.itemY+=C+P+E,V.lastLineHeight=P);V.offsetWidth=K||av(R?V.itemX-F:S,V.offsetWidth)},render:function(){var E=this,C=E.chart,A=C.renderer,z=E.group,x,w,v,u,t=E.box,s=E.options,q=E.padding,n=s.borderWidth,o=s.backgroundColor;E.itemX=E.initialItemX;E.itemY=E.initialItemY;E.offsetWidth=0;E.lastItemY=0;if(!z){E.group=z=A.g("legend").attr({zIndex:7}).add(),E.contentGroup=A.g().attr({zIndex:1}).add(z),E.scrollGroup=A.g().add(E.contentGroup),E.clipRect=A.clipRect(0,0,9999,C.chartHeight),E.contentGroup.clip(E.clipRect)}E.renderTitle();x=[];ay(C.series,function(G){var F=G.options;F.showInLegend&&!au(F.linkedTo)&&(x=x.concat(G.legendItems||(F.legendType==="point"?G.data:G)))});bR(x,function(G,F){return(G.options&&G.options.legendIndex||0)-(F.options&&F.options.legendIndex||0)});s.reversed&&x.reverse();E.allItems=x;E.display=w=!!x.length;ay(x,function(F){E.renderItem(F)});v=s.width||E.offsetWidth;u=E.lastItemY+E.lastLineHeight+E.titleHeight;u=E.handleOverflow(u);if(n||o){v+=q;u+=q;if(t){if(v>0&&u>0){t[t.isNew?"attr":"animate"](t.crisp(null,null,null,v,u)),t.isNew=!1}}else{E.box=t=A.rect(0,0,v,u,s.borderRadius,n||0).attr({stroke:s.borderColor,"stroke-width":n||0,fill:o||aZ}).add(z).shadow(s.shadow),t.isNew=!0}t[w?"show":"hide"]()}E.legendWidth=v;E.legendHeight=u;ay(x,function(F){E.positionItem(F)});w&&z.align(ar({width:v,height:u},s),!0,"spacingBox");C.isResizing||this.positionCheckboxes()},handleOverflow:function(C){var A=this,z=this.chart,x=z.renderer,w=this.options,v=w.y,v=z.spacingBox.height+(w.verticalAlign==="top"?-v:v)-this.padding,u=w.maxHeight,t=this.clipRect,s=w.navigation,q=aw(s.animation,!0),o=s.arrowSize||12,n=this.nav;w.layout==="horizontal"&&(v/=2);u&&(v=bc(v,u));if(C>v&&!w.useHTML){this.clipHeight=z=v-20-this.titleHeight;this.pageCount=ac(C/z);this.currentPage=aw(this.currentPage,1);this.fullHeight=C;t.attr({height:z});if(!n){this.nav=n=x.g().attr({zIndex:1}).add(this.group),this.up=x.symbol("triangle",0,0,o,o).on("click",function(){A.scroll(-1,q)}).add(n),this.pager=x.text("",15,10).css(s.style).add(n),this.down=x.symbol("triangle-down",0,0,o,o).on("click",function(){A.scroll(1,q)}).add(n)}A.scroll(0);C=v}else{if(n){t.attr({height:z.chartHeight}),n.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0}}return C},scroll:function(x,w){var v=this.pageCount,u=this.currentPage+x,t=this.clipHeight,s=this.options.navigation,q=s.activeColor,o=s.inactiveColor,s=this.pager,n=this.padding;u>v&&(u=v);if(u>0){w!==ap&&bA(w,this.chart),this.nav.attr({translateX:n,translateY:t+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:u===1?o:q}).css({cursor:u===1?"default":"pointer"}),s.attr({text:u+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:u===v?o:q}).css({cursor:u===v?"default":"pointer"}),t=-bc(t*(u-1),this.fullHeight-t+n)+1,this.scrollGroup.animate({translateY:t}),s.attr({text:u+"/"+v}),this.currentPage=u,this.positionCheckboxes(t)}}};bC.prototype={init:function(o,n){var v,u=o.series;o.series=null;v=ao(aW,o);v.series=o.series=u;var u=v.chart,t=u.margin,t=aR(t)?t:[t,t,t,t];this.optionsMarginTop=aw(u.marginTop,t[0]);this.optionsMarginRight=aw(u.marginRight,t[1]);this.optionsMarginBottom=aw(u.marginBottom,t[2]);this.optionsMarginLeft=aw(u.marginLeft,t[3]);this.runChartClick=(t=u.events)&&!!t.click;this.bounds={h:{},v:{}};this.callback=n;this.isResizing=0;this.options=v;this.axes=[];this.series=[];this.hasCartesianSeries=u.showAxes;var s=this,q;s.index=bO.length;bO.push(s);u.reflow!==!1&&a4(s,"load",function(){s.initReflow()});if(t){for(q in t){a4(s,q,t[q])}}s.xAxis=[];s.yAxis=[];s.animation=bB?!1:aw(u.animation,!0);s.pointCount=0;s.counters=new i;s.firstRender()},initSeries:function(o){var n=this.options.chart;(n=bs[o.type||n.type||n.defaultSeriesType])||m(17,!0);n=new n;n.init(this,o);return n},addSeries:function(o,n,t){var s,q=this;o&&(n=aw(n,!0),a8(q,"addSeries",{options:o},function(){s=q.initSeries(o);q.isDirtyLegend=!0;n&&q.redraw(t)}));return s},addAxis:function(o,n,t,s){var n=n?"xAxis":"yAxis",q=this.options;new br(this,ao(o,{index:this[n].length}));q[n]=a6(q[n]||{});q[n].push(o);aw(t,!0)&&this.redraw(s)},isInsidePlot:function(o,n,s){var q=s?n:o,o=s?o:n;return q>=0&&q<=this.plotWidth&&o>=0&&o<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&ay(this.axes,function(n){n.adjustTickAmount()});this.maxTicks=null},redraw:function(E){var C=this.axes,A=this.series,z=this.pointer,x=this.legend,w=this.isDirtyLegend,v,u=this.isDirtyBox,t=A.length,s=t,q=this.renderer,n=q.isHidden(),o=[];bA(E,this);for(n&&this.cloneRenderTo();s--;){if(E=A[s],E.isDirty&&E.options.stacking){v=!0;break}}if(v){for(s=t;s--;){if(E=A[s],E.options.stacking){E.isDirty=!0}}}ay(A,function(F){F.isDirty&&F.options.legendType==="point"&&(w=!0)});if(w&&x.options.enabled){x.render(),this.isDirtyLegend=!1}if(this.hasCartesianSeries){if(!this.isResizing){this.maxTicks=null,ay(C,function(F){F.setScale()})}this.adjustTickAmounts();this.getMargins();ay(C,function(F){if(F.isDirtyExtremes){F.isDirtyExtremes=!1,o.push(function(){a8(F,"afterSetExtremes",F.getExtremes())})}if(F.isDirty||u||v){F.redraw(),u=!0}})}u&&this.drawChartBox();ay(A,function(F){F.isDirty&&F.visible&&(!F.isCartesian||F.xAxis)&&F.redraw()});z&&z.reset&&z.reset(!0);q.draw();a8(this,"redraw");n&&this.cloneRenderTo(!0);ay(o,function(F){F.call()})},showLoading:function(o){var n=this.options,s=this.loadingDiv,q=n.loading;if(!s){this.loadingDiv=s=aS(b,{className:"highcharts-loading"},ar(q.style,{left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px",zIndex:10,display:aZ}),this.container),this.loadingSpan=aS("span",null,q.labelStyle,s)}this.loadingSpan.innerHTML=o||n.lang.loading;if(!this.loadingShown){a1(s,{opacity:0,display:""}),ai(s,{opacity:q.style.opacity},{duration:q.showDuration||0}),this.loadingShown=!0}},hideLoading:function(){var o=this.options,n=this.loadingDiv;n&&ai(n,{opacity:0},{duration:o.loading.hideDuration||100,complete:function(){a1(n,{display:aZ})}});this.loadingShown=!1},get:function(o){var n=this.axes,t=this.series,s,q;for(s=0;s<n.length;s++){if(n[s].options.id===o){return n[s]}}for(s=0;s<t.length;s++){if(t[s].options.id===o){return t[s]}}for(s=0;s<t.length;s++){q=t[s].points||[];for(n=0;n<q.length;n++){if(q[n].id===o){return q[n]}}}return null},getAxes:function(){var o=this,n=this.options,q=n.xAxis=a6(n.xAxis||{}),n=n.yAxis=a6(n.yAxis||{});ay(q,function(t,s){t.index=s;t.isX=!0});ay(n,function(t,s){t.index=s});q=q.concat(n);ay(q,function(s){new br(o,s)});o.adjustTickAmounts()},getSelectedPoints:function(){var n=[];ay(this.series,function(o){n=n.concat(bl(o.points,function(q){return q.selected}))});return n},getSelectedSeries:function(){return bl(this.series,function(n){return n.selected})},showResetZoom:function(){var o=this,n=aW.lang,u=o.options.chart.resetZoomButton,t=u.theme,s=t.states,q=u.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=o.renderer.button(n.resetZoom,null,null,function(){o.zoomOut()},t,s&&s.hover).attr({align:u.position.align,title:n.resetZoomTitle}).add().align(u.position,!1,q)},zoomOut:function(){var n=this;a8(n,"selection",{resetSelection:!0},function(){n.zoom()})},zoom:function(o){var n,t=this.pointer,s=!1,q;!o||o.resetSelection?ay(this.axes,function(u){n=u.zoom()}):ay(o.xAxis.concat(o.yAxis),function(u){var w=u.axis,v=w.isXAxis;if(t[v?"zoomX":"zoomY"]||t[v?"pinchX":"pinchY"]){n=w.zoom(u.min,u.max),w.displayBtn&&(s=!0)}});q=this.resetZoomButton;if(s&&!q){this.showResetZoom()}else{if(!s&&aR(q)){this.resetZoomButton=q.destroy()}}n&&this.redraw(aw(this.options.chart.animation,o&&o.animation,this.pointCount<100))},pan:function(o){var n=this.xAxis[0],u=this.mouseDownX,t=n.pointRange/2,s=n.getExtremes(),q=n.translate(u-o,!0)+t,u=n.translate(u+this.plotWidth-o,!0)-t;(t=this.hoverPoints)&&ay(t,function(v){v.setState()});n.series.length&&q>bc(s.dataMin,s.min)&&u<av(s.dataMax,s.max)&&n.setExtremes(q,u,!0,!1,{trigger:"pan"});this.mouseDownX=o;a1(this.container,{cursor:"move"})},setTitle:function(o,n){var q;var u=this,t=u.options,s;s=t.title=ao(t.title,o);q=t.subtitle=ao(t.subtitle,n),t=q;ay([["title",o,s],["subtitle",n,t]],function(w){var v=w[0],z=u[v],x=w[1],w=w[2];z&&x&&(u[v]=z=z.destroy());w&&w.text&&!z&&(u[v]=u.renderer.text(w.text,0,0,w.useHTML).attr({align:w.align,"class":"highcharts-"+v,zIndex:w.zIndex||4}).css(w.style).add().align(w,!1,"spacingBox"))})},getChartSize:function(){var o=this.options.chart,n=this.renderToClone||this.renderTo;this.containerWidth=bt(n,"width");this.containerHeight=bt(n,"height");this.chartWidth=av(0,o.width||this.containerWidth||600);this.chartHeight=av(0,aw(o.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(o){var n=this.renderToClone,q=this.container;o?n&&(this.renderTo.appendChild(q),y(n),delete this.renderToClone):(q&&this.renderTo.removeChild(q),this.renderToClone=n=this.renderTo.cloneNode(0),a1(n,{position:"absolute",top:"-9999px",display:"block"}),am.body.appendChild(n),q&&n.appendChild(q))},getContainer:function(){var o,n=this.options.chart,t,s,q;this.renderTo=o=n.renderTo;q="highcharts-"+bk++;if(bN(o)){this.renderTo=o=am.getElementById(o)}o||m(13,!0);t=aq(bi(o,"data-highcharts-chart"));!isNaN(t)&&bO[t]&&bO[t].destroy();bi(o,"data-highcharts-chart",this.index);o.innerHTML="";o.offsetWidth||this.cloneRenderTo();this.getChartSize();t=this.chartWidth;s=this.chartHeight;this.container=o=aS(b,{className:"highcharts-container"+(n.className?" "+n.className:""),id:q},ar({position:"relative",overflow:"hidden",width:t+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0},n.style),this.renderToClone||o);this.renderer=n.forExport?new bw(o,t,s,!0):new c(o,t,s);bB&&this.renderer.create(this,o,t,s)},getMargins:function(){var M=this.options.chart,L=M.spacingTop,K=M.spacingRight,J=M.spacingBottom,M=M.spacingLeft,G,F=this.legend,E=this.optionsMarginTop,C=this.optionsMarginLeft,A=this.optionsMarginRight,z=this.optionsMarginBottom,x=this.options.title,v=this.options.subtitle,w=this.options.legend,u=aw(w.margin,10),q=w.x,o=w.y,s=w.align,n=w.verticalAlign;this.resetMargins();G=this.axisOffset;if((this.title||this.subtitle)&&!au(this.optionsMarginTop)){if(v=av(this.title&&!x.floating&&!x.verticalAlign&&x.y||0,this.subtitle&&!v.floating&&!v.verticalAlign&&v.y||0)){this.plotTop=av(this.plotTop,v+aw(x.margin,15)+L)}}if(F.display&&!w.floating){if(s==="right"){if(!au(A)){this.marginRight=av(this.marginRight,F.legendWidth-q+u+K)}}else{if(s==="left"){if(!au(C)){this.plotLeft=av(this.plotLeft,F.legendWidth+q+u+M)}}else{if(n==="top"){if(!au(E)){this.plotTop=av(this.plotTop,F.legendHeight+o+u+L)}}else{if(n==="bottom"&&!au(z)){this.marginBottom=av(this.marginBottom,F.legendHeight-o+u+J)}}}}}this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&ay(this.axes,function(t){t.getOffset()});au(C)||(this.plotLeft+=G[3]);au(E)||(this.plotTop+=G[0]);au(z)||(this.marginBottom+=G[2]);au(A)||(this.marginRight+=G[1]);this.setChartSize()},initReflow:function(){function o(u){var w=t.width||bt(s,"width"),v=t.height||bt(s,"height"),u=u?u.target:bd;if(!n.hasUserSize&&w&&v&&(u===bd||u===am)){if(w!==n.containerWidth||v!==n.containerHeight){clearTimeout(q),n.reflowTimeout=q=setTimeout(function(){if(n.container){n.setSize(w,v,!1),n.hasUserSize=null}},100)}n.containerWidth=w;n.containerHeight=v}}var n=this,t=n.options.chart,s=n.renderTo,q;a4(bd,"resize",o);a4(n,"destroy",function(){aY(bd,"resize",o)})},setSize:function(o,n,v){var u=this,t,s,q;u.isResizing+=1;q=function(){u&&a8(u,"endResize",null,function(){u.isResizing-=1})};bA(v,u);u.oldChartHeight=u.chartHeight;u.oldChartWidth=u.chartWidth;if(au(o)){u.chartWidth=t=av(0,at(o)),u.hasUserSize=!!t}if(au(n)){u.chartHeight=s=av(0,at(n))}a1(u.container,{width:t+"px",height:s+"px"});u.setChartSize(!0);u.renderer.setSize(t,s,v);u.maxTicks=null;ay(u.axes,function(w){w.isDirty=!0;w.setScale()});ay(u.series,function(w){w.isDirty=!0});u.isDirtyLegend=!0;u.isDirtyBox=!0;u.getMargins();u.redraw(v);u.oldChartHeight=null;a8(u,"resize");bI===!1?q():setTimeout(q,bI&&bI.duration||500)},setChartSize:function(J){var G=this.inverted,F=this.renderer,E=this.chartWidth,C=this.chartHeight,A=this.options.chart,z=A.spacingTop,x=A.spacingRight,w=A.spacingBottom,v=A.spacingLeft,u=this.clipOffset,s,t,n,q;this.plotLeft=s=at(this.plotLeft);this.plotTop=t=at(this.plotTop);this.plotWidth=n=av(0,at(E-s-this.marginRight));this.plotHeight=q=av(0,at(C-t-this.marginBottom));this.plotSizeX=G?q:n;this.plotSizeY=G?n:q;this.plotBorderWidth=G=A.plotBorderWidth||0;this.spacingBox=F.spacingBox={x:v,y:z,width:E-v-x,height:C-z-w};this.plotBox=F.plotBox={x:s,y:t,width:n,height:q};F=ac(av(G,u[3])/2);E=ac(av(G,u[0])/2);this.clipBox={x:F,y:E,width:aT(this.plotSizeX-av(G,u[1])/2-F),height:aT(this.plotSizeY-av(G,u[2])/2-E)};J||ay(this.axes,function(o){o.setAxisSize();o.setAxisTranslation()})},resetMargins:function(){var o=this.options.chart,n=o.spacingRight,s=o.spacingBottom,q=o.spacingLeft;this.plotTop=aw(this.optionsMarginTop,o.spacingTop);this.marginRight=aw(this.optionsMarginRight,n);this.marginBottom=aw(this.optionsMarginBottom,s);this.plotLeft=aw(this.optionsMarginLeft,q);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var W=this.options.chart,V=this.renderer,U=this.chartWidth,T=this.chartHeight,S=this.chartBackground,R=this.plotBackground,P=this.plotBorder,O=this.plotBGImage,N=W.borderWidth||0,M=W.backgroundColor,L=W.plotBackgroundColor,J=W.plotBackgroundImage,K=W.plotBorderWidth||0,E,F=this.plotLeft,G=this.plotTop,z=this.plotWidth,C=this.plotHeight,A=this.plotBox,x=this.clipRect,w=this.clipBox;E=N+(W.shadow?8:0);if(N||M){if(S){S.animate(S.crisp(null,null,null,U-E,T-E))}else{S={fill:M||aZ};if(N){S.stroke=W.borderColor,S["stroke-width"]=N}this.chartBackground=V.rect(E/2,E/2,U-E,T-E,W.borderRadius,N).attr(S).add().shadow(W.shadow)}}if(L){R?R.animate(A):this.plotBackground=V.rect(F,G,z,C,0).attr({fill:L}).add().shadow(W.plotShadow)}if(J){O?O.animate(A):this.plotBGImage=V.image(J,F,G,z,C).add()}x?x.animate({width:w.width,height:w.height}):this.clipRect=V.clipRect(w);if(K){P?P.animate(P.crisp(null,F,G,z,C)):this.plotBorder=V.rect(F,G,z,C,0,K).attr({stroke:W.plotBorderColor,"stroke-width":K,zIndex:1}).add()}this.isDirtyBox=!1},propFromSeries:function(){var o=this,n=o.options.chart,u,t=o.options.series,s,q;ay(["inverted","angular","polar"],function(v){u=bs[n.type||n.defaultSeriesType];q=o[v]||n[v]||u&&u.prototype[v];for(s=t&&t.length;!q&&s--;){(u=bs[t[s].type])&&u.prototype[v]&&(q=!0)}o[v]=q})},render:function(){var o=this,n=o.axes,v=o.renderer,u=o.options,t=u.labels,s=u.credits,q;o.setTitle();o.legend=new bT(o,u.legend);ay(n,function(w){w.setScale()});o.getMargins();o.maxTicks=null;ay(n,function(w){w.setTickPositions(!0);w.setMaxTicks()});o.adjustTickAmounts();o.getMargins();o.drawChartBox();o.hasCartesianSeries&&ay(n,function(w){w.render()});if(!o.seriesGroup){o.seriesGroup=v.g("series-group").attr({zIndex:3}).add()}ay(o.series,function(w){w.translate();w.setTooltipPoints();w.render()});t.items&&ay(t.items,function(w){var A=ar(t.style,w.style),z=aq(A.left)+o.plotLeft,x=aq(A.top)+o.plotTop+12;delete A.left;delete A.top;v.text(w.html,z,x).attr({zIndex:2}).css(A).add()});if(s.enabled&&!o.credits){q=s.href,o.credits=v.text(s.text,0,0).on("click",function(){if(q){location.href=q}}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position)}o.hasRendered=!0},destroy:function(){var o=this,n=o.axes,u=o.series,t=o.container,s,q=t&&t.parentNode;a8(o,"destroy");bO[o.index]=ap;o.renderTo.removeAttribute("data-highcharts-chart");aY(o);for(s=n.length;s--;){n[s]=n[s].destroy()}for(s=u.length;s--;){u[s]=u[s].destroy()}ay("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(v){var w=o[v];w&&w.destroy&&(o[v]=w.destroy())});if(t){t.innerHTML="",aY(t),q&&y(t)}for(s in o){delete o[s]}},isReadyToRender:function(){var n=this;return !aM&&bd==bd.top&&am.readyState!=="complete"||bB&&!bd.canvg?(bB?aj.push(function(){n.firstRender()},n.options.global.canvasToolsURL):am.attachEvent("onreadystatechange",function(){am.detachEvent("onreadystatechange",n.firstRender);am.readyState==="complete"&&n.firstRender()}),!1):!0},firstRender:function(){var o=this,n=o.options,q=o.callback;if(o.isReadyToRender()){o.getContainer(),a8(o,"init"),o.resetMargins(),o.setChartSize(),o.propFromSeries(),o.getAxes(),ay(n.series||[],function(s){o.initSeries(s)}),a8(o,"beforeRender"),o.pointer=new k(o,n),o.render(),o.renderer.draw(),q&&q.apply(o,[o]),ay(o.callbacks,function(s){s.apply(o,[o])}),o.cloneRenderTo(!0),a8(o,"load")}}};bC.prototype.callbacks=[];var bW=function(){};bW.prototype={init:function(o,n,q){this.series=o;this.applyOptions(n,q);this.pointAttr={};if(o.options.colorByPoint&&(n=o.options.colors||o.chart.options.colors,this.color=this.color||n[o.colorCounter++],o.colorCounter===n.length)){o.colorCounter=0}o.chart.pointCount++;return this},applyOptions:function(o,n){var s=this.series,q=s.pointValKey,o=bW.prototype.optionsToObject.call(this,o);ar(this,o);this.options=this.options?ar(this.options,o):o;if(q){this.y=this[q]}if(this.x===ap&&s){this.x=n===ap?s.autoIncrement():n}return this},optionsToObject:function(o){var n,v=this.series,u=v.pointArrayMap||["y"],t=u.length,s=0,q=0;if(typeof o==="number"||o===null){n={y:o}}else{if(a7(o)){n={};if(o.length>t){v=typeof o[0];if(v==="string"){n.name=o[0]}else{if(v==="number"){n.x=o[0]}}s++}for(;q<t;){n[u[q++]]=o[s++]}}else{if(typeof o==="object"){n=o;if(o.dataLabels){v._hasPointLabels=!0}if(o.marker){v._hasPointMarkers=!0}}}}return n},destroy:function(){var o=this.series.chart,n=o.hoverPoints,q;o.pointCount--;if(n&&(this.setState(),bv(n,this),!n.length)){o.hoverPoints=null}if(this===o.hoverPoint){this.onMouseOut()}if(this.graphic||this.dataLabel){aY(this),this.destroyElements()}this.legendItem&&o.legend.destroyItem(this);for(q in this){this[q]=null}},destroyElements:function(){for(var o="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n,q=6;q--;){n=o[q],this[n]&&(this[n]=this[n].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(o,n){var t=this,s=t.series,q=s.chart,o=aw(o,!t.selected);t.firePointEvent(o?"select":"unselect",{accumulate:n},function(){t.selected=t.options.selected=o;s.options.data[h(t,s.data)]=t.options;t.setState(o&&"select");n||ay(q.getSelectedPoints(),function(u){if(u.selected&&u!==t){u.selected=u.options.selected=!1,s.options.data[h(u,s.data)]=u.options,u.setState(""),u.firePointEvent("unselect")}})})},onMouseOver:function(o){var n=this.series,t=n.chart,s=t.tooltip,q=t.hoverPoint;if(q&&q!==this){q.onMouseOut()}this.firePointEvent("mouseOver");s&&(!s.shared||n.noSharedTooltip)&&s.refresh(this,o);this.setState("hover");t.hoverPoint=this},onMouseOut:function(){var o=this.series.chart,n=o.hoverPoints;if(!n||h(this,n)===-1){this.firePointEvent("mouseOut"),this.setState(),o.hoverPoint=null}},tooltipFormatter:function(o){var n=this.series,u=n.tooltipOptions,t=u.valueDecimals,s=u.valuePrefix||"",q=u.valueSuffix||"";ay(n.pointArrayMap||["y"],function(v){v="{point."+v;if(s||q){o=o.replace(v+"}",s+v+"}"+q)}aK(t)&&(o=o.replace(v+"}",v+":,."+t+"f}"))});return ad(o,{point:this,series:this.series})},update:function(x,w,v){var u=this,t=u.series,s=u.graphic,q,o=t.data,n=t.chart,w=aw(w,!0);u.firePointEvent("update",{options:x},function(){u.applyOptions(x);aR(x)&&(t.getAttribs(),s&&s.attr(u.pointAttr[t.state]));q=h(u,o);t.xData[q]=u.x;t.yData[q]=t.toYData?t.toYData(u):u.y;t.zData[q]=u.z;t.options.data[q]=u.options;t.isDirty=!0;t.isDirtyData=!0;w&&n.redraw(v)})},remove:function(o,n){var v=this,u=v.series,t=u.chart,s,q=u.data;bA(n,t);o=aw(o,!0);v.firePointEvent("remove",null,function(){s=h(v,q);q.splice(s,1);u.options.data.splice(s,1);u.xData.splice(s,1);u.yData.splice(s,1);u.zData.splice(s,1);v.destroy();u.isDirty=!0;u.isDirtyData=!0;o&&t.redraw()})},firePointEvent:function(o,n,t){var s=this,q=this.series.options;(q.point.events[o]||s.options&&s.options.events&&s.options.events[o])&&this.importEvents();o==="click"&&q.allowPointSelect&&(t=function(u){s.select(null,u.ctrlKey||u.metaKey||u.shiftKey)});a8(this,o,n,t)},importEvents:function(){if(!this.hasImportedEvents){var o=ao(this.series.options.point,this.options).events,n;this.events=o;for(n in o){a4(this,n,o[n])}this.hasImportedEvents=!0}},setState:function(E){var C=this.plotX,A=this.plotY,z=this.series,x=z.options.states,w=aP[z.type].marker&&z.options.marker,v=w&&!w.enabled,u=w&&w.states[E],t=u&&u.enabled===!1,s=z.stateMarkerGraphic,q=this.marker||{},n=z.chart,o=this.pointAttr,E=E||"";if(!(E===this.state||this.selected&&E!=="select"||x[E]&&x[E].enabled===!1||E&&(t||v&&!u.enabled))){if(this.graphic){x=w&&this.graphic.symbolName&&o[E].r,this.graphic.attr(ao(o[E],x?{x:C-x,y:A-x,width:2*x,height:2*x}:{}))}else{if(E&&u){x=u.radius,q=q.symbol||z.symbol,s&&s.currentSymbol!==q&&(s=s.destroy()),s?s.attr({x:C-x,y:A-x}):(z.stateMarkerGraphic=s=n.renderer.symbol(q,C-x,A-x,2*x,2*x).attr(o[E]).add(z.markerGroup),s.currentSymbol=q)}if(s){s[E&&n.isInsidePlot(C,A)?"show":"hide"]()}}this.state=E}}};var aU=function(){};aU.prototype={isCartesian:!0,type:"line",pointClass:bW,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(o,n){var t,s,q=o.series;this.chart=o;this.options=n=this.setOptions(n);this.bindAxes();ar(this,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0});if(bB){n.animation=!1}s=n.events;for(t in s){a4(this,t,s[t])}if(s&&s.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect){o.runTrackerClick=!0}this.getColor();this.getSymbol();this.setData(n.data,!1);if(this.isCartesian){o.hasCartesianSeries=!0}q.push(this);this._i=q.length-1;bR(q,function(v,u){return aw(v.options.index,v._i)-aw(u.options.index,v._i)});ay(q,function(v,u){v.index=u;v.name=v.name||"Series "+(u+1)});t=n.linkedTo;this.linkedSeries=[];if(bN(t)&&(t=t===":previous"?q[this.index-1]:o.get(t))){t.linkedSeries.push(this),this.linkedParent=t}},bindAxes:function(){var o=this,n=o.options,s=o.chart,q;o.isCartesian&&ay(["xAxis","yAxis"],function(t){ay(s[t],function(u){q=u.options;if(n[t]===q.index||n[t]!==ap&&n[t]===q.id||n[t]===ap&&q.index===0){u.series.push(o),o[t]=u,u.isDirty=!0}});o[t]||m(17,!0)})},autoIncrement:function(){var o=this.options,n=this.xIncrement,n=aw(n,o.pointStart,0);this.pointInterval=aw(this.pointInterval,o.pointInterval,1);this.xIncrement=n+this.pointInterval;return n},getSegments:function(){var o=-1,n=[],t,s=this.points,q=s.length;if(q){if(this.options.connectNulls){for(t=q;t--;){s[t].y===null&&s.splice(t,1)}s.length&&(n=[s])}else{ay(s,function(v,u){v.y===null?(u>o+1&&n.push(s.slice(o+1,u)),o=u):u===q-1&&n.push(s.slice(o+1,u+1))})}}this.segments=n},setOptions:function(o){var n=this.chart.options,s=n.plotOptions,q=s[this.type];this.userOptions=o;o=ao(q,s.series,o);this.tooltipOptions=ao(n.tooltip,o.tooltip);q.marker===null&&delete o.marker;return o},getColor:function(){var o=this.options,n=this.userOptions,t=this.chart.options.colors,s=this.chart.counters,q;q=o.color||aP[this.type].color;if(!q&&!o.colorByPoint){au(n._colorIndex)?o=n._colorIndex:(n._colorIndex=s.color,o=s.color++),q=t[o]}this.color=q;s.wrapColor(t.length)},getSymbol:function(){var o=this.userOptions,n=this.options.marker,s=this.chart,q=s.options.symbols,s=s.counters;this.symbol=n.symbol;if(!this.symbol){au(o._symbolIndex)?o=o._symbolIndex:(o._symbolIndex=s.symbol,o=s.symbol++),this.symbol=q[o]}if(/^url/.test(this.symbol)){n.radius=0}s.wrapSymbol(q.length)},drawLegendSymbol:function(o){var n=this.options,v=n.marker,u=o.options.symbolWidth,t=this.chart.renderer,s=this.legendGroup,o=o.baseline,q;if(n.lineWidth){q={"stroke-width":n.lineWidth};if(n.dashStyle){q.dashstyle=n.dashStyle}this.legendLine=t.path(["M",0,o-4,"L",u,o-4]).attr(q).add(s)}if(v&&v.enabled){n=v.radius,this.legendSymbol=t.symbol(this.symbol,u/2-n,o-4-n,2*n,2*n).add(s)}},addPoint:function(J,G,F,E){var C=this.options,A=this.data,z=this.graph,x=this.area,w=this.chart,v=this.xData,u=this.yData,s=this.zData,t=this.names,o=z&&z.shift||0,q=C.data;bA(E,w);if(z&&F){z.shift=o+1}if(x){if(F){x.shift=o+1}x.isArea=!0}G=aw(G,!0);E={series:this};this.pointClass.prototype.applyOptions.apply(E,[J]);v.push(E.x);u.push(this.toYData?this.toYData(E):E.y);s.push(E.z);if(t){t[E.x]=E.name}q.push(J);C.legendType==="point"&&this.generatePoints();F&&(A[0]&&A[0].remove?A[0].remove(!1):(A.shift(),v.shift(),u.shift(),s.shift(),q.shift()));this.getAttribs();this.isDirtyData=this.isDirty=!0;G&&w.redraw()},setData:function(J,G){var F=this.points,E=this.options,C=this.chart,A=null,z=this.xAxis,x=z&&z.categories&&!z.categories.length?[]:null,w;this.xIncrement=null;this.pointRange=z&&z.categories?1:E.pointRange;this.colorCounter=0;var v=[],u=[],s=[],t=J?J.length:[],o=(w=this.pointArrayMap)&&w.length,q=!!this.toYData;if(t>(E.turboThreshold||1000)){for(w=0;A===null&&w<t;){A=J[w],w++}if(aK(A)){A=aw(E.pointStart,0);E=aw(E.pointInterval,1);for(w=0;w<t;w++){v[w]=A,u[w]=J[w],A+=E}this.xIncrement=A}else{if(a7(A)){if(o){for(w=0;w<t;w++){E=J[w],v[w]=E[0],u[w]=E.slice(1,o+1)}}else{for(w=0;w<t;w++){E=J[w],v[w]=E[0],u[w]=E[1]}}}}}else{for(w=0;w<t;w++){if(J[w]!==ap&&(E={series:this},this.pointClass.prototype.applyOptions.apply(E,[J[w]]),v[w]=E.x,u[w]=q?this.toYData(E):E.y,s[w]=E.z,x&&E.name)){x[w]=E.name}}}this.requireSorting&&v.length>1&&v[1]<v[0]&&m(15);bN(u[0])&&m(14,!0);this.data=[];this.options.data=J;this.xData=v;this.yData=u;this.zData=s;this.names=x;for(w=F&&F.length||0;w--;){F[w]&&F[w].destroy&&F[w].destroy()}if(z){z.minRange=z.userMinRange}this.isDirty=this.isDirtyData=C.isDirtyBox=!0;aw(G,!0)&&C.redraw(!1)},remove:function(o,n){var s=this,q=s.chart,o=aw(o,!0);if(!s.isRemoving){s.isRemoving=!0,a8(s,"remove",null,function(){s.destroy();q.isDirtyLegend=q.isDirtyBox=!0;o&&q.redraw(n)})}s.isRemoving=!1},processData:function(C){var A=this.xData,z=this.yData,x=A.length,w=0,v=x,u,t,s=this.xAxis,q=this.options,o=q.cropThreshold,n=this.isCartesian;if(n&&!this.isDirty&&!s.isDirty&&!this.yAxis.isDirty&&!C){return !1}if(n&&this.sorted&&(!o||x>o||this.forceCrop)){if(C=s.getExtremes(),s=C.min,o=C.max,A[x-1]<s||A[0]>o){A=[],z=[]}else{if(A[0]<s||A[x-1]>o){for(C=0;C<x;C++){if(A[C]>=s){w=av(0,C-1);break}}for(;C<x;C++){if(A[C]>o){v=C+1;break}}A=A.slice(w,v);z=z.slice(w,v);u=!0}}}for(C=A.length-1;C>0;C--){if(x=A[C]-A[C-1],x>0&&(t===ap||x<t)){t=x}}this.cropped=u;this.cropStart=w;this.processedXData=A;this.processedYData=z;if(q.pointRange===null){this.pointRange=t||1}this.closestPointRange=t},generatePoints:function(){var E=this.options.data,C=this.data,A,z=this.processedXData,x=this.processedYData,w=this.pointClass,v=z.length,u=this.cropStart||0,t,s=this.hasGroupedData,q,n=[],o;if(!C&&!s){C=[],C.length=E.length,C=this.data=C}for(o=0;o<v;o++){t=u+o,s?n[o]=(new w).init(this,[z[o]].concat(a6(x[o]))):(C[t]?q=C[t]:E[t]!==ap&&(C[t]=q=(new w).init(this,E[t],z[o])),n[o]=q)}if(C&&(v!==(A=C.length)||s)){for(o=0;o<A;o++){if(o===u&&!s&&(o+=v),C[o]){C[o].destroyElements(),C[o].plotX=ap}}}this.data=C;this.points=n},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var L=this.options,K=L.stacking,J=this.xAxis,G=J.categories,F=this.yAxis,E=this.points,C=E.length,A=!!this.modifyValue,z,x=F.series,w=x.length,u=L.pointPlacement==="between",L=L.threshold;w--;){if(x[w].visible){x[w]===this&&(z=!0);break}}for(w=0;w<C;w++){var x=E[w],v=x.x,s=x.y,t=x.low,o=F.stacks[(s<L?"-":"")+this.stackKey];if(F.isLog&&s<=0){x.y=s=null}x.plotX=J.translate(v,0,0,0,1,u);if(K&&this.visible&&o&&o[v]){t=o[v],o=t.total,t.cum=t=t.cum-s,s=t+s,z&&(t=aw(L,F.min)),F.isLog&&t<=0&&(t=null),K==="percent"&&(t=o?t*100/o:0,s=o?s*100/o:0),x.percentage=o?x.y*100/o:0,x.total=x.stackTotal=o,x.stackY=s}x.yBottom=au(t)?F.translate(t,0,1,0,1):null;A&&(s=this.modifyValue(s,x));x.plotY=typeof s==="number"&&s!==Infinity?at(F.translate(s,0,1,0,1)*10)/10:ap;x.clientX=u?J.translate(v,0,0,0,1):x.plotX;x.negative=x.y<(L||0);x.category=G&&G[x.x]!==ap?G[x.x]:x.x}this.getSegments()},setTooltipPoints:function(o){var n=[],w,v,u=(w=this.xAxis)?w.tooltipLen||w.len:this.chart.plotSizeX,t,s,q=[];if(this.options.enableMouseTracking!==!1){if(o){this.tooltipPoints=null}ay(this.segments||this.points,function(x){n=n.concat(x)});w&&w.reversed&&(n=n.reverse());o=n.length;for(s=0;s<o;s++){t=n[s];w=n[s-1]?v+1:0;for(v=n[s+1]?av(0,aT((t.clientX+(n[s+1]?n[s+1].clientX:u))/2)):u;w>=0&&w<=v;){q[w++]=t}}this.tooltipPoints=q}},tooltipHeaderFormatter:function(o){var n=this.tooltipOptions,v=n.xDateFormat,u=this.xAxis,t=u&&u.options.type==="datetime",s=n.headerFormat,q;if(t&&!v){for(q in bj){if(bj[q]>=u.closestPointRange){v=n.dateTimeLabelFormats[q];break}}}t&&v&&aK(o.key)&&(s=s.replace("{point.key}","{point.key:"+v+"}"));return ad(s,{point:o,series:this})},onMouseOver:function(){var o=this.chart,n=o.hoverSeries;if(n&&n!==this){n.onMouseOut()}this.options.events.mouseOver&&a8(this,"mouseOver");this.setState("hover");o.hoverSeries=this},onMouseOut:function(){var o=this.options,n=this.chart,s=n.tooltip,q=n.hoverPoint;if(q){q.onMouseOut()}this&&o.events.mouseOut&&a8(this,"mouseOut");s&&!o.stickyTracking&&(!s.shared||this.noSharedTooltip)&&s.hide();this.setState();n.hoverSeries=null},animate:function(o){var n=this,w=n.chart,v=w.renderer,u;u=n.options.animation;var t=w.clipBox,s=w.inverted,q;if(u&&!aR(u)){u=aP[n.type].animation}q="_sharedClip"+u.duration+u.easing;if(o){o=w[q],u=w[q+"m"],o||(w[q]=o=v.clipRect(ar(t,{width:0})),w[q+"m"]=u=v.clipRect(-99,s?-w.plotLeft:-w.plotTop,99,s?w.chartWidth:w.chartHeight)),n.group.clip(o),n.markerGroup.clip(u),n.sharedClipKey=q}else{if(o=w[q]){o.animate({width:w.plotSizeX},u),w[q+"m"].animate({width:w.plotSizeX+99},u)}n.animate=null;n.animationTimeout=setTimeout(function(){n.afterAnimate()},u.duration)}},afterAnimate:function(){var o=this.chart,n=this.sharedClipKey,q=this.group;q&&this.options.clip!==!1&&(q.clip(o.clipRect),this.markerGroup.clip());setTimeout(function(){n&&o[n]&&(o[n]=o[n].destroy(),o[n+"m"]=o[n+"m"].destroy())},100)},drawPoints:function(){var G,F=this.points,E=this.chart,C,A,z,x,w,v,u,t,q=this.options.marker,s,o=this.markerGroup;if(q.enabled||this._hasPointMarkers){for(z=F.length;z--;){if(x=F[z],C=x.plotX,A=x.plotY,t=x.graphic,v=x.marker||{},G=q.enabled&&v.enabled===ap||v.enabled,s=E.isInsidePlot(C,A,E.inverted),G&&A!==ap&&!isNaN(A)&&x.y!==null){if(G=x.pointAttr[x.selected?"select":""],w=G.r,v=aw(v.symbol,this.symbol),u=v.indexOf("url")===0,t){t.attr({visibility:s?aM?"inherit":"visible":"hidden"}).animate(ar({x:C-w,y:A-w},t.symbolName?{width:2*w,height:2*w}:{}))}else{if(s&&(w>0||u)){x.graphic=E.renderer.symbol(v,C-w,A-w,2*w,2*w).attr(G).add(o)}}}else{if(t){x.graphic=t.destroy()}}}}},convertAttribs:function(o,n,w,v){var u=this.pointAttrToOptions,t,s,q={},o=o||{},n=n||{},w=w||{},v=v||{};for(t in u){s=u[t],q[t]=aw(o[s],n[t],w[t],v[t])}return q},getAttribs:function(){var G=this,F=G.options,E=aP[G.type].marker?F.marker:F,C=E.states,A=C.hover,z,x=G.color,w={stroke:x,fill:x},v=G.points||[],u=[],t,q=G.pointAttrToOptions,s=F.negativeColor,n;F.marker?(A.radius=A.radius||E.radius+2,A.lineWidth=A.lineWidth||E.lineWidth+1):A.color=A.color||bQ(A.color||x).brighten(A.brightness).get();u[""]=G.convertAttribs(E,w);ay(["hover","select"],function(o){u[o]=G.convertAttribs(C[o],u[""])});G.pointAttr=u;for(x=v.length;x--;){w=v[x];if((E=w.options&&w.options.marker||w.options)&&E.enabled===!1){E.radius=0}if(w.negative){w.color=w.fillColor=s}z=F.colorByPoint||w.color;if(w.options){for(n in q){au(E[q[n]])&&(z=!0)}}if(z){E=E||{};t=[];C=E.states||{};z=C.hover=C.hover||{};if(!F.marker){z.color=bQ(z.color||w.color).brighten(z.brightness||A.brightness).get()}t[""]=G.convertAttribs(ar({color:w.color},E),u[""]);t.hover=G.convertAttribs(C.hover,u.hover,t[""]);t.select=G.convertAttribs(C.select,u.select,t[""]);if(w.negative&&F.marker){t[""].fill=t.hover.fill=t.select.fill=G.convertAttribs({fillColor:s}).fill}}else{t=u}w.pointAttr=t}},update:function(o,n){var s=this.chart,q=this.type,o=ao(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},o);this.remove(!1);ar(this,bs[o.type||q].prototype);this.init(s,o);aw(n,!0)&&s.redraw(!1)},destroy:function(){var x=this,w=x.chart,v=/AppleWebKit\/533/.test(bp),u,t,s=x.data||[],q,o,n;a8(x,"destroy");aY(x);ay(["xAxis","yAxis"],function(z){if(n=x[z]){bv(n.series,x),n.isDirty=n.forceRedraw=!0}});x.legendItem&&x.chart.legend.destroyItem(x);for(t=s.length;t--;){(q=s[t])&&q.destroy&&q.destroy()}x.points=null;clearTimeout(x.animationTimeout);ay("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(z){x[z]&&(u=v&&z==="group"?"hide":"destroy",x[z][u]())});if(w.hoverSeries===x){w.hoverSeries=null}bv(w.series,x);for(o in x){delete x[o]}},drawDataLabels:function(){var o=this,n=o.options.dataLabels,v=o.points,u,t,s,q;if(n.enabled||o._hasPointLabels){o.dlProcessOptions&&o.dlProcessOptions(n),q=o.plotGroup("dataLabelsGroup","data-labels",o.visible?"visible":"hidden",n.zIndex||6),t=n,ay(v,function(F){var C,A=F.dataLabel,z,w,x=F.connector,E=!0;u=F.options&&F.options.dataLabels;C=t.enabled||u&&u.enabled;if(A&&!C){F.dataLabel=A.destroy()}else{if(C){C=n.rotation;n=ao(t,u);z=F.getLabelConfig();s=n.format?ad(n.format,z):n.formatter.call(z,n);n.style.color=aw(n.color,n.style.color,o.color,"black");if(A){if(au(s)){A.attr({text:s}),E=!1}else{if(F.dataLabel=A=A.destroy(),x){F.connector=x.destroy()}}}else{if(au(s)){A={fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,r:n.borderRadius||0,rotation:C,padding:n.padding,zIndex:1};for(w in A){A[w]===ap&&delete A[w]}A=F.dataLabel=o.chart.renderer[C?"text":"label"](s,0,-999,null,null,null,n.useHTML).attr(A).css(n.style).add(q).shadow(n.shadow)}}A&&o.alignDataLabel(F,A,n,null,E)}}})}},alignDataLabel:function(x,w,v,u,t){var s=this.chart,q=s.inverted,o=aw(x.plotX,-999),x=aw(x.plotY,-999),n=w.getBBox(),u=ar({x:q?s.plotWidth-x:o,y:at(q?s.plotHeight-o:x),width:0,height:0},u);ar(v,{width:n.width,height:n.height});v.rotation?(u={align:v.align,x:u.x+v.x+u.width/2,y:u.y+v.y+u.height/2},w[t?"attr":"animate"](u)):w.align(v,null,u);w.attr({visibility:v.crop===!1||s.isInsidePlot(o,x,q)?s.renderer.isSVG?"inherit":"visible":"hidden"})},getSegmentPath:function(o){var n=this,s=[],q=n.options.step;ay(o,function(x,w){var v=x.plotX,u=x.plotY,t;n.getPointSpline?s.push.apply(s,n.getPointSpline(o,x,w)):(s.push(w?"L":"M"),q&&w&&(t=o[w-1],q==="right"?s.push(t.plotX,u):q==="center"?s.push((t.plotX+v)/2,t.plotY,(t.plotX+v)/2,u):s.push(v,t.plotY)),s.push(x.plotX,x.plotY))});return s},getGraphPath:function(){var o=this,n=[],s,q=[];ay(o.segments,function(t){s=o.getSegmentPath(t);t.length>1?n=n.concat(s):q.push(t[0])});o.singlePoints=q;return o.graphPath=n},drawGraph:function(){var o=this,n=this.options,v=[["graph",n.lineColor||this.color]],u=n.lineWidth,t=n.dashStyle,s=this.getGraphPath(),q=n.negativeColor;q&&v.push(["graphNeg",q]);ay(v,function(A,z){var x=A[0],w=o[x];if(w){bJ(w),w.animate({d:s})}else{if(u&&s.length){w={stroke:A[1],"stroke-width":u,zIndex:1};if(t){w.dashstyle=t}o[x]=o.chart.renderer.path(s).attr(w).add(o.group).shadow(!z&&n.shadow)}}})},clipNeg:function(){var x=this.options,w=this.chart,v=w.renderer,u=x.negativeColor,t,s=this.posClip,q=this.negClip;t=w.chartWidth;var o=w.chartHeight,n=av(t,o);if(u&&this.graph){u=ac(this.yAxis.len-this.yAxis.translate(x.threshold||0)),x={x:0,y:0,width:n,height:u},n={x:0,y:u,width:n,height:n-u},w.inverted&&v.isVML&&(x={x:w.plotWidth-u-w.plotLeft,y:0,width:t,height:o},n={x:u+w.plotLeft-t,y:0,width:w.plotLeft+u,height:t}),this.yAxis.reversed?(w=n,t=x):(w=x,t=n),s?(s.animate(w),q.animate(t)):(this.posClip=s=v.clipRect(w),this.graph.clip(s),this.negClip=q=v.clipRect(t),this.graphNeg.clip(q),this.area&&(this.area.clip(s),this.areaNeg.clip(q)))}},invertGroups:function(){function o(){var s={width:n.yAxis.len,height:n.xAxis.len};ay(["group","markerGroup"],function(t){n[t]&&n[t].attr(s).invert()})}var n=this,q=n.chart;a4(q,"resize",o);a4(n,"destroy",function(){aY(q,"resize",o)});o();n.invertGroups=o},plotGroup:function(z,x,w,v,u){var t=this[z],s=!t,q=this.chart,o=this.xAxis,n=this.yAxis;s&&(this[z]=t=q.renderer.g(x).attr({visibility:w,zIndex:v||0.1}).add(u));t[s?"attr":"animate"]({translateX:o?o.left:q.plotLeft,translateY:n?n.top:q.plotTop});return t},render:function(){var o=this.chart,n,w=this.options,v=w.animation&&!!this.animate&&o.renderer.isSVG,u=this.visible?"visible":"hidden",t=w.zIndex,s=this.hasRendered,q=o.seriesGroup;n=this.plotGroup("group","series",u,t,q);this.markerGroup=this.plotGroup("markerGroup","markers",u,t,q);v&&this.animate(!0);this.getAttribs();n.inverted=o.inverted;this.drawGraph&&(this.drawGraph(),this.clipNeg());this.drawDataLabels();this.drawPoints();this.options.enableMouseTracking!==!1&&this.drawTracker();o.inverted&&this.invertGroups();w.clip!==!1&&!this.sharedClipKey&&!s&&n.clip(o.clipRect);v?this.animate():s||this.afterAnimate();this.isDirty=this.isDirtyData=!1;this.hasRendered=!0},redraw:function(){var o=this.chart,n=this.isDirtyData,t=this.group,s=this.xAxis,q=this.yAxis;t&&(o.inverted&&t.attr({width:o.plotWidth,height:o.plotHeight}),t.animate({translateX:aw(s&&s.left,o.plotLeft),translateY:aw(q&&q.top,o.plotTop)}));this.translate();this.setTooltipPoints(!0);this.render();n&&a8(this,"updatedData")},setState:function(o){var n=this.options,t=this.graph,s=this.graphNeg,q=n.states,n=n.lineWidth,o=o||"";if(this.state!==o){this.state=o,q[o]&&q[o].enabled===!1||(o&&(n=q[o].lineWidth||n+1),t&&!t.dashstyle&&(o={"stroke-width":n},t.attr(o),s&&s.attr(o)))}},setVisible:function(o,n){var w=this,v=w.chart,u=w.legendItem,t,s=v.options.chart.ignoreHiddenSeries,q=w.visible;t=(w.visible=o=w.userOptions.visible=o===ap?!q:o)?"show":"hide";ay(["group","dataLabelsGroup","markerGroup","tracker"],function(x){if(w[x]){w[x][t]()}});if(v.hoverSeries===w){w.onMouseOut()}u&&v.legend.colorizeItem(w,o);w.isDirty=!0;w.options.stacking&&ay(v.series,function(x){if(x.options.stacking&&x.visible){x.isDirty=!0}});ay(w.linkedSeries,function(x){x.setVisible(o,!1)});if(s){v.isDirtyBox=!0}n!==!1&&v.redraw();a8(w,t)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){this.selected=n=n===ap?!this.selected:n;if(this.checkbox){this.checkbox.checked=n}a8(this,n?"select":"unselect")},drawTracker:function(){var G=this,F=G.options,E=F.trackByArea,C=[].concat(E?G.areaPath:G.graphPath),A=C.length,z=G.chart,x=z.pointer,w=z.renderer,v=z.options.tooltip.snap,u=G.tracker,t=F.cursor,t=t&&{cursor:t},q=G.singlePoints,s,o=function(){if(z.hoverSeries!==G){G.onMouseOver()}};if(A&&!E){for(s=A+1;s--;){C[s]==="M"&&C.splice(s+1,0,C[s+1]-v,C[s+2],"L"),(s&&C[s]==="M"||s===A)&&C.splice(s,0,"L",C[s-2]+v,C[s-1])}}for(s=0;s<q.length;s++){A=q[s],C.push("M",A.plotX-v,A.plotY,"L",A.plotX+v,A.plotY)}if(u){u.attr({d:C})}else{if(G.tracker=u=w.path(C).attr({"class":"highcharts-tracker","stroke-linejoin":"round",visibility:G.visible?"visible":"hidden",stroke:bU,fill:E?bU:aZ,"stroke-width":F.lineWidth+(E?0:2*v),zIndex:2}).addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(n){x.onTrackerMouseOut(n)}).css(t).add(G.markerGroup),bL){u.on("touchstart",o)}}}};a2=f(aU);bs.line=a2;aP.area=ao(aQ,{threshold:0});a2=f(aU,{type:"area",getSegments:function(){var o=[],n=this.yAxis.stacks[this.stackKey],u={},t,s;t=this.points;var q;if(this.options.stacking&&!this.cropped){for(s=0;s<t.length;s++){u[t[s].x]=t[s]}for(q in n){u[q]?o.push(u[q]):(t=this.xAxis.translate(q),s=this.yAxis.toPixels(n[q].cum,!0),o.push({y:null,plotX:t,clientX:t,plotY:s,yBottom:s,onMouseOver:bm}))}o=[o]}else{aU.prototype.getSegments.call(this),o=this.segments}this.segments=o},getSegmentPath:function(o){var n=aU.prototype.getSegmentPath.call(this,o),t=[].concat(n),s,q=this.options;n.length===3&&t.push("L",n[1],n[2]);if(q.stacking&&!this.closedStacks){for(s=o.length-1;s>=0;s--){s<o.length-1&&q.step&&t.push(o[s+1].plotX,o[s].yBottom),t.push(o[s].plotX,o[s].yBottom)}}else{this.closeSegment(t,o)}this.areaPath=this.areaPath.concat(t);return n},closeSegment:function(o,n){var q=this.yAxis.getThreshold(this.options.threshold);o.push("L",n[n.length-1].plotX,q,"L",n[0].plotX,q)},drawGraph:function(){this.areaPath=[];aU.prototype.drawGraph.apply(this);var o=this,n=this.areaPath,s=this.options,q=[["area",this.color,s.fillColor]];s.negativeColor&&q.push(["areaNeg",s.negativeColor,s.negativeFillColor]);ay(q,function(v){var u=v[0],t=o[u];t?t.animate({d:n}):o[u]=o.chart.renderer.path(n).attr({fill:aw(v[2],bQ(v[1]).setOpacity(s.fillOpacity||0.75).get()),zIndex:0}).add(o.group)})},drawLegendSymbol:function(o,n){n.legendSymbol=this.chart.renderer.rect(0,o.baseline-11,o.options.symbolWidth,12,2).attr({zIndex:3}).add(n.legendGroup)}});bs.area=a2;aP.spline=ao(aQ);a3=f(aU,{type:"spline",getPointSpline:function(C,A,z){var x=A.plotX,w=A.plotY,v=C[z-1],u=C[z+1],t,s,q,o;if(v&&u){C=v.plotY;q=u.plotX;var u=u.plotY,n;t=(1.5*x+v.plotX)/2.5;s=(1.5*w+C)/2.5;q=(1.5*x+q)/2.5;o=(1.5*w+u)/2.5;n=(o-s)*(q-x)/(q-t)+w-o;s+=n;o+=n;s>C&&s>w?(s=av(C,w),o=2*w-s):s<C&&s<w&&(s=bc(C,w),o=2*w-s);o>u&&o>w?(o=av(u,w),s=2*w-o):o<u&&o<w&&(o=bc(u,w),s=2*w-o);A.rightContX=q;A.rightContY=o}z?(A=["C",v.rightContX||v.plotX,v.rightContY||v.plotY,t||x,s||w,x,w],v.rightContX=v.rightContY=null):A=["M",x,w];return A}});bs.spline=a3;aP.areaspline=ao(aP.area);by=a2.prototype;a3=f(a3,{type:"areaspline",closedStacks:!0,getSegmentPath:by.getSegmentPath,closeSegment:by.closeSegment,drawGraph:by.drawGraph});bs.areaspline=a3;aP.column=ao(aQ,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});a3=f(aU,{type:"column",tooltipOutsidePlot:!0,requireSorting:!1,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},trackerGroups:["group","dataLabelsGroup"],init:function(){aU.prototype.init.apply(this,arguments);var o=this,n=o.chart;n.hasRendered&&ay(n.series,function(q){if(q.type===o.type){q.isDirty=!0}})},getColumnMetrics:function(){var A=this,z=A.chart,x=A.options,w=this.xAxis,v=w.reversed,u,t={},s,q=0;x.grouping===!1?q=1:ay(z.series,function(C){var E=C.options;if(C.type===A.type&&C.visible&&A.options.group===E.group){E.stacking?(u=C.stackKey,t[u]===ap&&(t[u]=q++),s=t[u]):E.grouping!==!1&&(s=q++),C.columnIndex=s}});var z=bc(aV(w.transA)*(w.ordinalSlope||x.pointRange||w.closestPointRange||1),w.len),w=z*x.groupPadding,o=(z-2*w)/q,n=x.pointWidth,x=au(n)?(o-n)/2:o*x.pointPadding,n=aw(n,o-2*x);return A.columnMetrics={width:n,offset:x+(w+((v?q-(A.columnIndex||0):A.columnIndex)||0)*o-z/2)*(v?-1:1)}},translate:function(){var A=this,z=A.chart,x=A.options,w=x.stacking,v=x.borderWidth,u=A.yAxis,t=A.translatedThreshold=u.getThreshold(x.threshold),s=aw(x.minPointLength,5),x=A.getColumnMetrics(),q=x.width,o=ac(av(q,1+2*v)),n=x.offset;aU.prototype.translate.apply(A);ay(A.points,function(K){var C=bc(av(-999,K.plotY),u.len+999),J=aw(K.yBottom,t),G=K.plotX+n,E=ac(bc(C,J)),C=ac(av(C,J)-E),F=u.stacks[(K.y<0?"-":"")+A.stackKey];w&&A.visible&&F&&F[K.x]&&F[K.x].setOffset(n,o);aV(C)<s&&s&&(C=s,E=aV(E-t)>s?J-s:t-(u.translate(K.y,0,1,0,1)<=t?s:0));K.barX=G;K.pointWidth=q;K.shapeType="rect";K.shapeArgs=K=z.renderer.Element.prototype.crisp.call(0,v,G,E,o,C);v%2&&(K.y-=1,K.height+=1)})},getSymbol:bm,drawLegendSymbol:a2.prototype.drawLegendSymbol,drawGraph:bm,drawPoints:function(){var o=this,n=o.options,s=o.chart.renderer,q;ay(o.points,function(v){var u=v.plotY,t=v.graphic;if(u!==ap&&!isNaN(u)&&v.y!==null){q=v.shapeArgs,t?(bJ(t),t.animate(ao(q))):v.graphic=s[v.shapeType](q).attr(v.pointAttr[v.selected?"select":""]).add(o.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius)}else{if(t){v.graphic=t.destroy()}}})},drawTracker:function(){var o=this,n=o.chart.pointer,t=o.options.cursor,s=t&&{cursor:t},q=function(u){var w=u.target,v;for(o.onMouseOver();w&&!v;){v=w.point,w=w.parentNode}if(v!==ap){v.onMouseOver(u)}};ay(o.points,function(u){if(u.graphic){u.graphic.element.point=u}if(u.dataLabel){u.dataLabel.element.point=u}});o._hasTracking?o._hasTracking=!0:ay(o.trackerGroups,function(u){if(o[u]&&(o[u].addClass("highcharts-tracker").on("mouseover",q).on("mouseout",function(v){n.onTrackerMouseOut(v)}).css(s),bL)){o[u].on("touchstart",q)}})},alignDataLabel:function(z,x,w,v,u){var t=this.chart,s=t.inverted,q=z.dlBox||z.shapeArgs,o=z.below||z.plotY>aw(this.translatedThreshold,t.plotSizeY),n=aw(w.inside,!!this.options.stacking);if(q&&(v=ao(q),s&&(v={x:t.plotWidth-v.y-v.height,y:t.plotHeight-v.x-v.width,width:v.height,height:v.width}),!n)){s?(v.x+=o?0:v.width,v.width=0):(v.y+=o?v.height:0,v.height=0)}w.align=aw(w.align,!s||n?"center":o?"right":"left");w.verticalAlign=aw(w.verticalAlign,s||n?"middle":o?"top":"bottom");aU.prototype.alignDataLabel.call(this,z,x,w,v,u)},animate:function(o){var n=this.yAxis,t=this.options,s=this.chart.inverted,q={};if(aM){o?(q.scaleY=0.001,o=bc(n.pos+n.len,av(n.pos,n.toPixels(t.threshold))),s?q.translateX=o-n.len:q.translateY=o,this.group.attr(q)):(q.scaleY=1,q[s?"translateX":"translateY"]=n.pos,this.group.animate(q,this.options.animation),this.animate=null)}},remove:function(){var o=this,n=o.chart;n.hasRendered&&ay(n.series,function(q){if(q.type===o.type){q.isDirty=!0}});aU.prototype.remove.apply(o,arguments)}});bs.column=a3;aP.bar=ao(aP.column);by=f(a3,{type:"bar",inverted:!0});bs.bar=by;aP.scatter=ao(aQ,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});by=f(aU,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],drawTracker:a3.prototype.drawTracker,setTooltipPoints:bm});bs.scatter=by;aP.pie=ao(aQ,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});aQ={type:"pie",isCartesian:!1,pointClass:f(bW,{init:function(){bW.prototype.init.apply(this,arguments);var o=this,n;if(o.y<0){o.y=null}ar(o,{visible:o.visible!==!1,name:aw(o.name,"Slice")});n=function(){o.slice()};a4(o,"select",n);a4(o,"unselect",n);return o},setVisible:function(o){var n=this,t=n.series,s=t.chart,q;n.visible=n.options.visible=o=o===ap?!n.visible:o;t.options.data[h(n,t.data)]=n.options;q=o?"show":"hide";ay(["graphic","dataLabel","connector","shadowGroup"],function(u){if(n[u]){n[u][q]()}});n.legendItem&&s.legend.colorizeItem(n,o);if(!t.isDirty&&t.options.ignoreHiddenPoint){t.isDirty=!0,s.redraw()}},slice:function(o,n,s){var q=this.series;bA(s,q.chart);aw(n,!0);this.sliced=this.options.sliced=o=au(o)?o:!this.sliced;q.options.data[h(this,q.data)]=this.options;o=o?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(o);this.shadowGroup&&this.shadowGroup.animate(o)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:bm,animate:function(o){var n=this,s=n.points,q=n.startAngleRad;if(!o){ay(s,function(t){var u=t.graphic,t=t.shapeArgs;u&&(u.attr({r:n.center[3]/2,start:q,end:q}),u.animate({r:t.r,start:t.start,end:t.end},n.options.animation))}),n.animate=null}},setData:function(o,n){aU.prototype.setData.call(this,o,!1);this.processData();this.generatePoints();aw(n,!0)&&this.chart.redraw()},getCenter:function(){var o=this.options,n=this.chart,v=2*(o.dataLabels&&o.dataLabels.enabled?0:o.slicedOffset||0),u=n.plotWidth-2*v,t=n.plotHeight-2*v,n=o.center,o=[aw(n[0],"50%"),aw(n[1],"50%"),o.size||"100%",o.innerSize||0],s=bc(u,t),q;return ah(o,function(x,w){q=/%$/.test(x);return(q?[u,t,s,s][w]*aq(x)/100:x)+(w<3?v:0)})},translate:function(N){this.generatePoints();var M=0,L=0,K=this.options,J=K.slicedOffset,G=J+K.borderWidth,F,E,C,A=this.startAngleRad=aH/180*((K.startAngle||0)%360-90),z=this.points,w=2*aH,x=K.dataLabels.distance,v=K.ignoreHiddenPoint,u,t=z.length,O;if(!N){this.center=N=this.getCenter()}this.getX=function(n,o){C=a0.asin((n-N[1])/(N[2]/2+x));return N[0]+(o?-1:1)*aO(C)*(N[2]/2+x)};for(u=0;u<t;u++){O=z[u],M+=v&&!O.visible?0:O.y}for(u=0;u<t;u++){O=z[u];K=M?O.y/M:0;F=at((A+L*w)*1000)/1000;if(!v||O.visible){L+=K}E=at((A+L*w)*1000)/1000;O.shapeType="arc";O.shapeArgs={x:N[0],y:N[1],r:N[2]/2,innerR:N[3]/2,start:F,end:E};C=(E+F)/2;C>0.75*w&&(C-=2*aH);O.slicedTranslation={translateX:at(aO(C)*J),translateY:at(az(C)*J)};F=aO(C)*N[2]/2;E=az(C)*N[2]/2;O.tooltipPos=[N[0]+F*0.7,N[1]+E*0.7];O.half=C<w/4?0:1;O.angle=C;O.labelPos=[N[0]+F+aO(C)*x,N[1]+E+az(C)*x,N[0]+F+aO(C)*G,N[1]+E+az(C)*G,N[0]+F,N[1]+E,x<0?"center":O.half?"right":"left",C];O.percentage=K*100;O.total=M}this.setTooltipPoints()},drawGraph:null,drawPoints:function(){var o=this,n=o.chart.renderer,v,u,t=o.options.shadow,s,q;if(t&&!o.shadowGroup){o.shadowGroup=n.g("shadow").add(o.group)}ay(o.points,function(w){u=w.graphic;q=w.shapeArgs;s=w.shadowGroup;if(t&&!s){s=w.shadowGroup=n.g("shadow").add(o.shadowGroup)}v=w.sliced?w.slicedTranslation:{translateX:0,translateY:0};s&&s.attr(v);u?u.animate(ar(q,v)):w.graphic=u=n.arc(q).setRadialReference(o.center).attr(w.pointAttr[w.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(v).add(o.group).shadow(t,s);w.visible===!1&&w.setVisible(!1)})},drawDataLabels:function(){var ce=this,cd=ce.data,cc,cb=ce.chart,ca=ce.options.dataLabels,b9=aw(ca.connectorPadding,10),b8=aw(ca.connectorWidth,1),b7=cb.plotWidth,cb=cb.plotHeight,b6,b5,b4=aw(ca.softConnector,!0),b2=ca.distance,b3=ce.center,b1=b3[2]/2,bZ=b3[1],bX=b2>0,ab,Z,X,V,bY=[[],[]],T,b0,Y,W,bb,aa=[0,0,0,0],R=function(u,s){return s.y-u.y},t=function(u,s){u.sort(function(v,w){return v.angle!==void 0&&(w.angle-v.angle)*s})};if(ca.enabled||ce._hasPointLabels){aU.prototype.drawDataLabels.apply(ce);ay(cd,function(s){s.dataLabel&&bY[s.half].push(s)});for(W=0;!V&&cd[W];){V=cd[W]&&cd[W].dataLabel&&(cd[W].dataLabel.getBBox().height||21),W++}for(W=2;W--;){var cd=[],q=[],U=bY[W],S=U.length,ba;t(U,W-0.5);if(b2>0){for(bb=bZ-b1-b2;bb<=bZ+b1+b2;bb+=V){cd.push(bb)}Z=cd.length;if(S>Z){cc=[].concat(U);cc.sort(R);for(bb=S;bb--;){cc[bb].rank=bb}for(bb=S;bb--;){U[bb].rank>=Z&&U.splice(bb,1)}S=U.length}for(bb=0;bb<S;bb++){cc=U[bb];X=cc.labelPos;cc=9999;var n,o;for(o=0;o<Z;o++){n=aV(cd[o]-X[1]),n<cc&&(cc=n,ba=o)}if(ba<bb&&cd[bb]!==null){ba=bb}else{for(Z<S-bb+ba&&cd[bb]!==null&&(ba=Z-S+bb);cd[ba]===null;){ba++}}q.push({i:ba,y:cd[ba]});cd[ba]=null}q.sort(R)}for(bb=0;bb<S;bb++){cc=U[bb];X=cc.labelPos;ab=cc.dataLabel;Y=cc.visible===!1?"hidden":"visible";cc=X[1];if(b2>0){if(Z=q.pop(),ba=Z.i,b0=Z.y,cc>b0&&cd[ba+1]!==null||cc<b0&&cd[ba-1]!==null){b0=cc}}else{b0=cc}T=ca.justify?b3[0]+(W?-1:1)*(b1+b2):ce.getX(ba===0||ba===cd.length-1?cc:b0,W);ab._attr={visibility:Y,align:X[6]};ab._pos={x:T+ca.x+({left:b9,right:-b9}[X[6]]||0),y:b0+ca.y-10};ab.connX=T;ab.connY=b0;if(this.options.size===null){Z=ab.width,T-Z<b9?aa[3]=av(at(Z-T+b9),aa[3]):T+Z>b7-b9&&(aa[1]=av(at(T+Z-b7+b9),aa[1])),b0-V/2<0?aa[0]=av(at(-b0+V/2),aa[0]):b0+V/2>cb&&(aa[2]=av(at(b0+V/2-cb),aa[2]))}}}if(ag(aa)===0||this.verifyDataLabelOverflow(aa)){this.placeDataLabels(),bX&&b8&&ay(this.points,function(s){b6=s.connector;X=s.labelPos;if((ab=s.dataLabel)&&ab._pos){T=ab.connX,b0=ab.connY,b5=b4?["M",T+(X[6]==="left"?5:-5),b0,"C",T,b0,2*X[2]-X[4],2*X[3]-X[5],X[2],X[3],"L",X[4],X[5]]:["M",T+(X[6]==="left"?5:-5),b0,"L",X[2],X[3],"L",X[4],X[5]],b6?(b6.animate({d:b5}),b6.attr("visibility",Y)):s.connector=b6=ce.chart.renderer.path(b5).attr({"stroke-width":b8,stroke:ca.connectorColor||s.color||"#606060",visibility:Y}).add(ce.group)}else{if(b6){s.connector=b6.destroy()}}})}}},verifyDataLabelOverflow:function(o){var n=this.center,u=this.options,t=u.center,s=u=u.minSize||80,q;t[0]!==null?s=av(n[2]-av(o[1],o[3]),u):(s=av(n[2]-o[1]-o[3],u),n[0]+=(o[3]-o[1])/2);t[1]!==null?s=av(bc(s,n[2]-av(o[0],o[2])),u):(s=av(bc(s,n[2]-o[0]-o[2]),u),n[1]+=(o[0]-o[2])/2);s<n[2]?(n[2]=s,this.translate(n),ay(this.points,function(v){if(v.dataLabel){v.dataLabel._pos=null}}),this.drawDataLabels()):q=!0;return q},placeDataLabels:function(){ay(this.points,function(o){var o=o.dataLabel,n;if(o){(n=o._pos)?(o.attr(o._attr),o[o.moved?"animate":"attr"](n),o.moved=!0):o&&o.attr({y:-999})}})},alignDataLabel:bm,drawTracker:a3.prototype.drawTracker,drawLegendSymbol:a2.prototype.drawLegendSymbol,getSymbol:bm};aQ=f(aU,aQ);bs.pie=aQ;ar(Highcharts,{Axis:br,Chart:bC,Color:bQ,Legend:bT,Pointer:k,Point:bW,Tick:bg,Tooltip:ae,Renderer:c,Series:aU,SVGElement:bV,SVGRenderer:bw,arrayMin:j,arrayMax:ag,charts:bO,dateFormat:bq,format:ad,pathAnim:aI,getOptions:function(){return aW},hasBidiBug:r,isTouchDevice:af,numberFormat:bF,seriesTypes:bs,setOptions:function(n){aW=ao(aW,n);bz();return aW},addEvent:a4,removeEvent:aY,createElement:aS,discardElement:y,css:a1,each:ay,extend:ar,map:ah,merge:ao,pick:aw,splat:a6,extendClass:f,pInt:aq,wrap:function(o,n,s){var q=o[n];o[n]=function(){var t=Array.prototype.slice.call(arguments);t.unshift(q);return s.apply(this,t)}},svg:aM,canvas:bB,vml:!aM&&!bB,product:"Highcharts",version:"3.0.0"})})();(function(){var g,i,b,d,a,e,k,j,f=[].slice,h={}.hasOwnProperty,c=function(o,m){for(var l in m){if(h.call(m,l)){o[l]=m[l]}}function n(){this.constructor=o}n.prototype=m.prototype;o.prototype=new n();o.__super__=m.prototype;return o};k=function(){};i=(function(){function l(){}l.prototype.addEventListener=l.prototype.on;l.prototype.on=function(n,m){this._callbacks=this._callbacks||{};if(!this._callbacks[n]){this._callbacks[n]=[]}this._callbacks[n].push(m);return this};l.prototype.emit=function(){var n,r,p,o,q,m;o=arguments[0],n=2<=arguments.length?f.call(arguments,1):[];this._callbacks=this._callbacks||{};p=this._callbacks[o];if(p){for(q=0,m=p.length;q<m;q++){r=p[q];r.apply(this,n)}}return this};l.prototype.removeListener=l.prototype.off;l.prototype.removeAllListeners=l.prototype.off;l.prototype.removeEventListener=l.prototype.off;l.prototype.off=function(q,o){var s,p,n,r,m;if(!this._callbacks||arguments.length===0){this._callbacks={};return this}p=this._callbacks[q];if(!p){return this}if(arguments.length===1){delete this._callbacks[q];return this}for(n=r=0,m=p.length;r<m;n=++r){s=p[n];if(s===o){p.splice(n,1);break}}return this};return l})();g=(function(n){var o,l;c(m,n);m.prototype.Emitter=i;m.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];m.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1000,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(q,p){return p()},init:function(){return k},forceFallback:false,fallback:function(){var u,q,r,t,p,s;this.element.className=""+this.element.className+" dz-browser-not-supported";s=this.element.getElementsByTagName("div");for(t=0,p=s.length;t<p;t++){u=s[t];if(/(^| )dz-message($| )/.test(u.className)){q=u;u.className="dz-message";continue}}if(!q){q=m.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(q)}r=q.getElementsByTagName("span")[0];if(r){if(r.textContent!=null){r.textContent=this.options.dictFallbackMessage}else{if(r.innerText!=null){r.innerText=this.options.dictFallbackMessage}}}return this.element.appendChild(this.getFallbackForm())},resize:function(q){var s,r,p;s={srcX:0,srcY:0,srcWidth:q.width,srcHeight:q.height};r=q.width/q.height;s.optWidth=this.options.thumbnailWidth;s.optHeight=this.options.thumbnailHeight;if((s.optWidth==null)&&(s.optHeight==null)){s.optWidth=s.srcWidth;s.optHeight=s.srcHeight}else{if(s.optWidth==null){s.optWidth=r*s.optHeight}else{if(s.optHeight==null){s.optHeight=(1/r)*s.optWidth}}}p=s.optWidth/s.optHeight;if(q.height<s.optHeight||q.width<s.optWidth){s.trgHeight=s.srcHeight;s.trgWidth=s.srcWidth}else{if(r>p){s.srcHeight=q.height;s.srcWidth=s.srcHeight*p}else{s.srcWidth=q.width;s.srcHeight=s.srcWidth/p}}s.srcX=(q.width-s.srcWidth)/2;s.srcY=(q.height-s.srcHeight)/2;return s},drop:function(p){return this.element.classList.remove("dz-drag-hover")},dragstart:k,dragend:function(p){return this.element.classList.remove("dz-drag-hover")},dragenter:function(p){return this.element.classList.add("dz-drag-hover")},dragover:function(p){return this.element.classList.add("dz-drag-hover")},dragleave:function(p){return this.element.classList.remove("dz-drag-hover")},paste:k,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(s){var r,A,B,y,x,u,C,q,p,z,w,t,v;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}if(this.previewsContainer){s.previewElement=m.createElement(this.options.previewTemplate.trim());s.previewTemplate=s.previewElement;this.previewsContainer.appendChild(s.previewElement);z=s.previewElement.querySelectorAll("[data-dz-name]");for(y=0,C=z.length;y<C;y++){r=z[y];r.textContent=s.name}w=s.previewElement.querySelectorAll("[data-dz-size]");for(x=0,q=w.length;x<q;x++){r=w[x];r.innerHTML=this.filesize(s.size)}if(this.options.addRemoveLinks){s._removeLink=m.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");s.previewElement.appendChild(s._removeLink)}A=(function(D){return function(E){E.preventDefault();E.stopPropagation();if(s.status===m.UPLOADING){return m.confirm(D.options.dictCancelUploadConfirmation,function(){return D.removeFile(s)})}else{if(D.options.dictRemoveFileConfirmation){return m.confirm(D.options.dictRemoveFileConfirmation,function(){return D.removeFile(s)})}else{return D.removeFile(s)}}}})(this);t=s.previewElement.querySelectorAll("[data-dz-remove]");v=[];for(u=0,p=t.length;u<p;u++){B=t[u];v.push(B.addEventListener("click",A))}return v}},removedfile:function(p){var q;if(p.previewElement){if((q=p.previewElement)!=null){q.parentNode.removeChild(p.previewElement)}}return this._updateMaxFilesReachedClass()},thumbnail:function(r,u){var q,t,p,s;if(r.previewElement){r.previewElement.classList.remove("dz-file-preview");s=r.previewElement.querySelectorAll("[data-dz-thumbnail]");for(t=0,p=s.length;t<p;t++){q=s[t];q.alt=r.name;q.src=u}return setTimeout(((function(v){return function(){return r.previewElement.classList.add("dz-image-preview")}})(this)),1)}},error:function(r,t){var s,v,q,u,p;if(r.previewElement){r.previewElement.classList.add("dz-error");if(typeof t!=="String"&&t.error){t=t.error}u=r.previewElement.querySelectorAll("[data-dz-errormessage]");p=[];for(v=0,q=u.length;v<q;v++){s=u[v];p.push(s.textContent=t)}return p}},errormultiple:k,processing:function(p){if(p.previewElement){p.previewElement.classList.add("dz-processing");if(p._removeLink){return p._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:k,uploadprogress:function(t,r,s){var u,w,q,v,p;if(t.previewElement){v=t.previewElement.querySelectorAll("[data-dz-uploadprogress]");p=[];for(w=0,q=v.length;w<q;w++){u=v[w];if(u.nodeName==="PROGRESS"){p.push(u.value=r)}else{p.push(u.style.width=""+r+"%")}}return p}},totaluploadprogress:k,sending:k,sendingmultiple:k,success:function(p){if(p.previewElement){return p.previewElement.classList.add("dz-success")}},successmultiple:k,canceled:function(p){return this.emit("error",p,"Upload canceled.")},canceledmultiple:k,complete:function(p){if(p._removeLink){p._removeLink.textContent=this.options.dictRemoveFile}if(p.previewElement){return p.previewElement.classList.add("dz-complete")}},completemultiple:k,maxfilesexceeded:k,maxfilesreached:k,queuecomplete:k,addedfiles:k,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'};o=function(){var r,q,t,u,v,s,p;u=arguments[0],t=2<=arguments.length?f.call(arguments,1):[];for(s=0,p=t.length;s<p;s++){q=t[s];for(r in q){v=q[r];u[r]=v}}return u};function m(r,q){var p,t,s;this.element=r;this.version=m.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}m.instances.push(this);this.element.dropzone=this;p=(s=m.optionsForElement(this.element))!=null?s:{};this.options=o({},this.defaultOptions,p,q!=null?q:{});if(this.options.forceFallback||!m.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((t=this.getExistingFallback())&&t.parentNode){t.parentNode.removeChild(t)}if(this.options.previewsContainer!==false){if(this.options.previewsContainer){this.previewsContainer=m.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=m.getElements(this.options.clickable,"clickable")}}this.init()}m.prototype.getAcceptedFiles=function(){var r,t,q,s,p;s=this.files;p=[];for(t=0,q=s.length;t<q;t++){r=s[t];if(r.accepted){p.push(r)}}return p};m.prototype.getRejectedFiles=function(){var r,t,q,s,p;s=this.files;p=[];for(t=0,q=s.length;t<q;t++){r=s[t];if(!r.accepted){p.push(r)}}return p};m.prototype.getFilesWithStatus=function(r){var s,u,q,t,p;t=this.files;p=[];for(u=0,q=t.length;u<q;u++){s=t[u];if(s.status===r){p.push(s)}}return p};m.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(m.QUEUED)};m.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(m.UPLOADING)};m.prototype.getAddedFiles=function(){return this.getFilesWithStatus(m.ADDED)};m.prototype.getActiveFiles=function(){var r,t,q,s,p;s=this.files;p=[];for(t=0,q=s.length;t<q;t++){r=s[t];if(r.status===m.UPLOADING||r.status===m.QUEUED){p.push(r)}}return p};m.prototype.init=function(){var r,v,u,t,q,s,p;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(m.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){u=(function(w){return function(){if(w.hiddenFileInput){w.hiddenFileInput.parentNode.removeChild(w.hiddenFileInput)}w.hiddenFileInput=document.createElement("input");w.hiddenFileInput.setAttribute("type","file");if((w.options.maxFiles==null)||w.options.maxFiles>1){w.hiddenFileInput.setAttribute("multiple","multiple")}w.hiddenFileInput.className="dz-hidden-input";if(w.options.acceptedFiles!=null){w.hiddenFileInput.setAttribute("accept",w.options.acceptedFiles)}if(w.options.capture!=null){w.hiddenFileInput.setAttribute("capture",w.options.capture)}w.hiddenFileInput.style.visibility="hidden";w.hiddenFileInput.style.position="absolute";w.hiddenFileInput.style.top="0";w.hiddenFileInput.style.left="0";w.hiddenFileInput.style.height="0";w.hiddenFileInput.style.width="0";document.querySelector(w.options.hiddenInputContainer).appendChild(w.hiddenFileInput);return w.hiddenFileInput.addEventListener("change",function(){var y,z,A,x;z=w.hiddenFileInput.files;if(z.length){for(A=0,x=z.length;A<x;A++){y=z[A];w.addFile(y)}}w.emit("addedfiles",z);return u()})}})(this);u()}this.URL=(s=window.URL)!=null?s:window.webkitURL;p=this.events;for(t=0,q=p.length;t<q;t++){r=p[t];this.on(r,this.options[r])}this.on("uploadprogress",(function(w){return function(){return w.updateTotalUploadProgress()}})(this));this.on("removedfile",(function(w){return function(){return w.updateTotalUploadProgress()}})(this));this.on("canceled",(function(w){return function(x){return w.emit("complete",x)}})(this));this.on("complete",(function(w){return function(x){if(w.getAddedFiles().length===0&&w.getUploadingFiles().length===0&&w.getQueuedFiles().length===0){return setTimeout((function(){return w.emit("queuecomplete")}),0)}}})(this));v=function(w){w.stopPropagation();if(w.preventDefault){return w.preventDefault()}else{return w.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:(function(w){return function(x){return w.emit("dragstart",x)}})(this),dragenter:(function(w){return function(x){v(x);return w.emit("dragenter",x)}})(this),dragover:(function(w){return function(y){var x;try{x=y.dataTransfer.effectAllowed}catch(z){}y.dataTransfer.dropEffect="move"===x||"linkMove"===x?"move":"copy";v(y);return w.emit("dragover",y)}})(this),dragleave:(function(w){return function(x){return w.emit("dragleave",x)}})(this),drop:(function(w){return function(x){v(x);return w.drop(x)}})(this),dragend:(function(w){return function(x){return w.emit("dragend",x)}})(this)}}];this.clickableElements.forEach((function(w){return function(x){return w.listeners.push({element:x,events:{click:function(y){if((x!==w.element)||(y.target===w.element||m.elementInside(y.target,w.element.querySelector(".dz-message")))){w.hiddenFileInput.click()}return true}}})}})(this));this.enable();return this.options.init.call(this)};m.prototype.destroy=function(){var p;this.disable();this.removeAllFiles(true);if((p=this.hiddenFileInput)!=null?p.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return m.instances.splice(m.instances.indexOf(this),1)};m.prototype.updateTotalUploadProgress=function(){var r,s,w,p,v,u,q,t;p=0;w=0;r=this.getActiveFiles();if(r.length){t=this.getActiveFiles();for(u=0,q=t.length;u<q;u++){s=t[u];p+=s.upload.bytesSent;w+=s.upload.total}v=100*p/w}else{v=100}return this.emit("totaluploadprogress",v,w,p)};m.prototype._getParamName=function(p){if(typeof this.options.paramName==="function"){return this.options.paramName(p)}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+p+"]":"")}};m.prototype.getFallbackForm=function(){var q,p,s,r;if(q=this.getExistingFallback()){return q}s='<div class="dz-fallback">';if(this.options.dictFallbackText){s+="<p>"+this.options.dictFallbackText+"</p>"}s+='<input type="file" name="'+(this._getParamName(0))+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';p=m.createElement(s);if(this.element.tagName!=="FORM"){r=m.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');r.appendChild(p)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return r!=null?r:p};m.prototype.getExistingFallback=function(){var u,r,q,t,p,s;r=function(y){var w,x,v;for(x=0,v=y.length;x<v;x++){w=y[x];if(/(^| )fallback($| )/.test(w.className)){return w}}};s=["div","form"];for(t=0,p=s.length;t<p;t++){q=s[t];if(u=r(this.element.getElementsByTagName(q))){return u}}};m.prototype.setupEventListeners=function(){var s,r,v,u,q,t,p;t=this.listeners;p=[];for(u=0,q=t.length;u<q;u++){s=t[u];p.push((function(){var w,x;w=s.events;x=[];for(r in w){v=w[r];x.push(s.element.addEventListener(r,v,false))}return x})())}return p};m.prototype.removeEventListeners=function(){var s,r,v,u,q,t,p;t=this.listeners;p=[];for(u=0,q=t.length;u<q;u++){s=t[u];p.push((function(){var w,x;w=s.events;x=[];for(r in w){v=w[r];x.push(s.element.removeEventListener(r,v,false))}return x})())}return p};m.prototype.disable=function(){var r,t,q,s,p;this.clickableElements.forEach(function(u){return u.classList.remove("dz-clickable")});this.removeEventListeners();s=this.files;p=[];for(t=0,q=s.length;t<q;t++){r=s[t];p.push(this.cancelUpload(r))}return p};m.prototype.enable=function(){this.clickableElements.forEach(function(p){return p.classList.add("dz-clickable")});return this.setupEventListeners()};m.prototype.filesize=function(x){var q,t,r,p,w,u,s,v;r=0;p="b";if(x>0){u=["TB","GB","MB","KB","b"];for(t=s=0,v=u.length;s<v;t=++s){w=u[t];q=Math.pow(this.options.filesizeBase,4-t)/10;if(x>=q){r=x/Math.pow(this.options.filesizeBase,4-t);p=w;break}}r=Math.round(10*r)/10}return"<strong>"+r+"</strong> "+p};m.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};m.prototype.drop=function(r){var q,p;if(!r.dataTransfer){return}this.emit("drop",r);q=r.dataTransfer.files;this.emit("addedfiles",q);if(q.length){p=r.dataTransfer.items;if(p&&p.length&&(p[0].webkitGetAsEntry!=null)){this._addFilesFromItems(p)}else{this.handleFiles(q)}}};m.prototype.paste=function(r){var p,q;if((r!=null?(q=r.clipboardData)!=null?q.items:void 0:void 0)==null){return}this.emit("paste",r);p=r.clipboardData.items;if(p.length){return this._addFilesFromItems(p)}};m.prototype.handleFiles=function(s){var r,t,q,p;p=[];for(t=0,q=s.length;t<q;t++){r=s[t];p.push(this.addFile(r))}return p};m.prototype._addFilesFromItems=function(r){var t,s,u,q,p;p=[];for(u=0,q=r.length;u<q;u++){s=r[u];if((s.webkitGetAsEntry!=null)&&(t=s.webkitGetAsEntry())){if(t.isFile){p.push(this.addFile(s.getAsFile()))}else{if(t.isDirectory){p.push(this._addFilesFromDirectory(t,t.name))}else{p.push(void 0)}}}else{if(s.getAsFile!=null){if((s.kind==null)||s.kind==="file"){p.push(this.addFile(s.getAsFile()))}else{p.push(void 0)}}else{p.push(void 0)}}}return p};m.prototype._addFilesFromDirectory=function(p,r){var q,s;q=p.createReader();s=(function(t){return function(u){var w,x,v;for(x=0,v=u.length;x<v;x++){w=u[x];if(w.isFile){w.file(function(y){if(t.options.ignoreHiddenFiles&&y.name.substring(0,1)==="."){return}y.fullPath=""+r+"/"+y.name;return t.addFile(y)})}else{if(w.isDirectory){t._addFilesFromDirectory(w,""+r+"/"+w.name)}}}}})(this);return q.readEntries(s,function(t){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(t):void 0:void 0})};m.prototype.accept=function(q,p){if(q.size>this.options.maxFilesize*1024*1024){return p(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(q.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!m.isValidFile(q,this.options.acceptedFiles)){return p(this.options.dictInvalidFileType)}else{if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){p(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",q)}else{return this.options.accept.call(this,q,p)}}}};m.prototype.addFile=function(p){p.upload={progress:0,total:p.size,bytesSent:0};this.files.push(p);p.status=m.ADDED;this.emit("addedfile",p);this._enqueueThumbnail(p);return this.accept(p,(function(q){return function(r){if(r){p.accepted=false;q._errorProcessing([p],r)}else{p.accepted=true;if(q.options.autoQueue){q.enqueueFile(p)}}return q._updateMaxFilesReachedClass()}})(this))};m.prototype.enqueueFiles=function(r){var q,s,p;for(s=0,p=r.length;s<p;s++){q=r[s];this.enqueueFile(q)}return null};m.prototype.enqueueFile=function(p){if(p.status===m.ADDED&&p.accepted===true){p.status=m.QUEUED;if(this.options.autoProcessQueue){return setTimeout(((function(q){return function(){return q.processQueue()}})(this)),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};m.prototype._thumbnailQueue=[];m.prototype._processingThumbnail=false;m.prototype._enqueueThumbnail=function(p){if(this.options.createImageThumbnails&&p.type.match(/image.*/)&&p.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(p);return setTimeout(((function(q){return function(){return q._processThumbnailQueue()}})(this)),0)}};m.prototype._processThumbnailQueue=function(){if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),(function(p){return function(){p._processingThumbnail=false;return p._processThumbnailQueue()}})(this))};m.prototype.removeFile=function(p){if(p.status===m.UPLOADING){this.cancelUpload(p)}this.files=j(this.files,p);this.emit("removedfile",p);if(this.files.length===0){return this.emit("reset")}};m.prototype.removeAllFiles=function(t){var q,s,p,r;if(t==null){t=false}r=this.files.slice();for(s=0,p=r.length;s<p;s++){q=r[s];if(q.status!==m.UPLOADING||t){this.removeFile(q)}}return null};m.prototype.createThumbnail=function(q,r){var p;p=new FileReader;p.onload=(function(s){return function(){if(q.type==="image/svg+xml"){s.emit("thumbnail",q,p.result);if(r!=null){r()}return}return s.createThumbnailFromUrl(q,p.result,r)}})(this);return p.readAsDataURL(q)};m.prototype.createThumbnailFromUrl=function(s,r,t,q){var p;p=document.createElement("img");if(q){p.crossOrigin=q}p.onload=(function(u){return function(){var x,w,A,C,y,v,B,z;s.width=p.width;s.height=p.height;A=u.options.resize.call(u,s);if(A.trgWidth==null){A.trgWidth=A.optWidth}if(A.trgHeight==null){A.trgHeight=A.optHeight}x=document.createElement("canvas");w=x.getContext("2d");x.width=A.trgWidth;x.height=A.trgHeight;e(w,p,(y=A.srcX)!=null?y:0,(v=A.srcY)!=null?v:0,A.srcWidth,A.srcHeight,(B=A.trgX)!=null?B:0,(z=A.trgY)!=null?z:0,A.trgWidth,A.trgHeight);C=x.toDataURL("image/png");u.emit("thumbnail",s,C);if(t!=null){return t()}}})(this);if(t!=null){p.onerror=t}return p.src=r};m.prototype.processQueue=function(){var q,s,p,r;s=this.options.parallelUploads;p=this.getUploadingFiles().length;q=p;if(p>=s){return}r=this.getQueuedFiles();if(!(r.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(r.slice(0,s-p))}else{while(q<s){if(!r.length){return}this.processFile(r.shift());q++}}};m.prototype.processFile=function(p){return this.processFiles([p])};m.prototype.processFiles=function(r){var q,s,p;for(s=0,p=r.length;s<p;s++){q=r[s];q.processing=true;q.status=m.UPLOADING;this.emit("processing",q)}if(this.options.uploadMultiple){this.emit("processingmultiple",r)}return this.uploadFiles(r)};m.prototype._getFilesWithXhr=function(r){var p,q;return q=(function(){var v,t,u,s;u=this.files;s=[];for(v=0,t=u.length;v<t;v++){p=u[v];if(p.xhr===r){s.push(p)}}return s}).call(this)};m.prototype.cancelUpload=function(t){var r,s,w,u,q,p,v;if(t.status===m.UPLOADING){s=this._getFilesWithXhr(t.xhr);for(w=0,q=s.length;w<q;w++){r=s[w];r.status=m.CANCELED}t.xhr.abort();for(u=0,p=s.length;u<p;u++){r=s[u];this.emit("canceled",r)}if(this.options.uploadMultiple){this.emit("canceledmultiple",s)}}else{if((v=t.status)===m.ADDED||v===m.QUEUED){t.status=m.CANCELED;this.emit("canceled",t);if(this.options.uploadMultiple){this.emit("canceledmultiple",[t])}}}if(this.options.autoProcessQueue){return this.processQueue()}};l=function(){var p,q;q=arguments[0],p=2<=arguments.length?f.call(arguments,1):[];if(typeof q==="function"){return q.apply(this,p)}return q};m.prototype.uploadFile=function(p){return this.uploadFiles([p])};m.prototype.uploadFiles=function(D){var S,Q,I,N,F,y,R,L,H,O,X,B,M,E,r,J,C,P,G,x,v,t,q,U,W,V,T,p,K,A,z,w,u,s;G=new XMLHttpRequest();for(x=0,U=D.length;x<U;x++){S=D[x];S.xhr=G}B=l(this.options.method,D);C=l(this.options.url,D);G.open(B,C,true);G.withCredentials=!!this.options.withCredentials;r=null;I=(function(Y){return function(){var ab,aa,Z;Z=[];for(ab=0,aa=D.length;ab<aa;ab++){S=D[ab];Z.push(Y._errorProcessing(D,r||Y.options.dictResponseError.replace("{{statusCode}}",G.status),G))}return Z}})(this);J=(function(Y){return function(ai){var ad,aa,ah,af,ae,ac,ab,Z,ag;if(ai!=null){aa=100*ai.loaded/ai.total;for(ah=0,ac=D.length;ah<ac;ah++){S=D[ah];S.upload={progress:aa,total:ai.total,bytesSent:ai.loaded}}}else{ad=true;aa=100;for(af=0,ab=D.length;af<ab;af++){S=D[af];if(!(S.upload.progress===100&&S.upload.bytesSent===S.upload.total)){ad=false}S.upload.progress=aa;S.upload.bytesSent=S.upload.total}if(ad){return}}ag=[];for(ae=0,Z=D.length;ae<Z;ae++){S=D[ae];ag.push(Y.emit("uploadprogress",S,aa,S.upload.bytesSent))}return ag}})(this);G.onload=(function(Y){return function(aa){var Z;if(D[0].status===m.CANCELED){return}if(G.readyState!==4){return}r=G.responseText;if(G.getResponseHeader("content-type")&&~G.getResponseHeader("content-type").indexOf("application/json")){try{r=JSON.parse(r)}catch(ab){aa=ab;r="Invalid JSON response from server."}}J();if(!((200<=(Z=G.status)&&Z<300))){return I()}else{return Y._finished(D,r,aa)}}})(this);G.onerror=(function(Y){return function(){if(D[0].status===m.CANCELED){return}return I()}})(this);E=(K=G.upload)!=null?K:G;E.onprogress=J;y={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){o(y,this.options.headers)}for(N in y){F=y[N];if(F){G.setRequestHeader(N,F)}}Q=new FormData();if(this.options.params){A=this.options.params;for(X in A){P=A[X];Q.append(X,P)}}for(v=0,W=D.length;v<W;v++){S=D[v];this.emit("sending",S,G,Q)}if(this.options.uploadMultiple){this.emit("sendingmultiple",D,G,Q)}if(this.element.tagName==="FORM"){z=this.element.querySelectorAll("input, textarea, select, button");for(t=0,V=z.length;t<V;t++){L=z[t];H=L.getAttribute("name");O=L.getAttribute("type");if(L.tagName==="SELECT"&&L.hasAttribute("multiple")){w=L.options;for(q=0,T=w.length;q<T;q++){M=w[q];if(M.selected){Q.append(H,M.value)}}}else{if(!O||((u=O.toLowerCase())!=="checkbox"&&u!=="radio")||L.checked){Q.append(H,L.value)}}}}for(R=p=0,s=D.length-1;0<=s?p<=s:p>=s;R=0<=s?++p:--p){Q.append(this._getParamName(R),D[R],D[R].name)}return this.submitRequest(G,Q,D)};m.prototype.submitRequest=function(r,q,p){return r.send(q)};m.prototype._finished=function(r,t,u){var q,s,p;for(s=0,p=r.length;s<p;s++){q=r[s];q.status=m.SUCCESS;this.emit("success",q,t,u);this.emit("complete",q)}if(this.options.uploadMultiple){this.emit("successmultiple",r,t,u);this.emit("completemultiple",r)}if(this.options.autoProcessQueue){return this.processQueue()}};m.prototype._errorProcessing=function(s,r,u){var q,t,p;for(t=0,p=s.length;t<p;t++){q=s[t];q.status=m.ERROR;this.emit("error",q,r,u);this.emit("complete",q)}if(this.options.uploadMultiple){this.emit("errormultiple",s,r,u);this.emit("completemultiple",s)}if(this.options.autoProcessQueue){return this.processQueue()}};return m})(i);g.version="4.2.0";g.options={};g.optionsForElement=function(l){if(l.getAttribute("id")){return g.options[b(l.getAttribute("id"))]}else{return void 0}};g.instances=[];g.forElement=function(l){if(typeof l==="string"){l=document.querySelector(l)}if((l!=null?l.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return l.dropzone};g.autoDiscover=true;g.discover=function(){var q,n,o,p,m,l;if(document.querySelectorAll){o=document.querySelectorAll(".dropzone")}else{o=[];q=function(v){var t,u,s,r;r=[];for(u=0,s=v.length;u<s;u++){t=v[u];if(/(^| )dropzone($| )/.test(t.className)){r.push(o.push(t))}else{r.push(void 0)}}return r};q(document.getElementsByTagName("div"));q(document.getElementsByTagName("form"))}l=[];for(p=0,m=o.length;p<m;p++){n=o[p];if(g.optionsForElement(n)!==false){l.push(new g(n))}else{l.push(void 0)}}return l};g.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];g.isBrowserSupported=function(){var m,n,p,l,o;m=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){m=false}else{o=g.blacklistedBrowsers;for(p=0,l=o.length;p<l;p++){n=o[p];if(n.test(navigator.userAgent)){m=false;continue}}}}else{m=false}return m};j=function(q,n){var o,p,m,l;l=[];for(p=0,m=q.length;p<m;p++){o=q[p];if(o!==n){l.push(o)}}return l};b=function(l){return l.replace(/[\-_](\w)/g,function(m){return m.charAt(1).toUpperCase()})};g.createElement=function(l){var m;m=document.createElement("div");m.innerHTML=l;return m.childNodes[0]};g.elementInside=function(m,l){if(m===l){return true}while(m=m.parentNode){if(m===l){return true}}return false};g.getElement=function(n,l){var m;if(typeof n==="string"){m=document.querySelector(n)}else{if(n.nodeType!=null){m=n}}if(m==null){throw new Error("Invalid `"+l+"` option provided. Please provide a CSS selector or a plain HTML element.")}return m};g.getElements=function(r,m){var t,o,l,q,p,u,n,s;if(r instanceof Array){l=[];try{for(q=0,u=r.length;q<u;q++){o=r[q];l.push(this.getElement(o,m))}}catch(v){t=v;l=null}}else{if(typeof r==="string"){l=[];s=document.querySelectorAll(r);for(p=0,n=s.length;p<n;p++){o=s[p];l.push(o)}}else{if(r.nodeType!=null){l=[r]}}}if(!((l!=null)&&l.length)){throw new Error("Invalid `"+m+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return l};g.confirm=function(l,n,m){if(window.confirm(l)){return n()}else{if(m!=null){return m()}}};g.isValidFile=function(o,l){var n,r,p,q,m;if(!l){return true}l=l.split(",");r=o.type;n=r.replace(/\/.*$/,"");for(q=0,m=l.length;q<m;q++){p=l[q];p=p.trim();if(p.charAt(0)==="."){if(o.name.toLowerCase().indexOf(p.toLowerCase(),o.name.length-p.length)!==-1){return true}}else{if(/\/\*$/.test(p)){if(n===p.replace(/\/.*$/,"")){return true}}else{if(r===p){return true}}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(l){return this.each(function(){return new g(this,l)})}}if(typeof module!=="undefined"&&module!==null){module.exports=g}else{window.Dropzone=g}g.ADDED="added";g.QUEUED="queued";g.ACCEPTED=g.QUEUED;g.UPLOADING="uploading";g.PROCESSING=g.UPLOADING;g.CANCELED="canceled";g.ERROR="error";g.SUCCESS="success";a=function(p){var n,l,v,o,q,u,m,t,r,s;m=p.naturalWidth;u=p.naturalHeight;l=document.createElement("canvas");l.width=1;l.height=u;v=l.getContext("2d");v.drawImage(p,0,0);o=v.getImageData(0,0,1,u).data;s=0;q=u;t=u;while(t>s){n=o[(t-1)*4+3];if(n===0){q=t}else{s=t}t=(q+s)>>1}r=t/u;if(r===0){return 1}else{return r}};e=function(t,m,r,q,s,n,v,u,l,p){var o;o=a(m);return t.drawImage(m,r,q,s,n,v,u,l,p/o)};d=function(n,r){var w,s,m,v,o,l,u,q,p;m=false;p=true;s=n.document;q=s.documentElement;w=(s.addEventListener?"addEventListener":"attachEvent");u=(s.addEventListener?"removeEventListener":"detachEvent");l=(s.addEventListener?"":"on");v=function(x){if(x.type==="readystatechange"&&s.readyState!=="complete"){return}(x.type==="load"?n:s)[u](l+x.type,v,false);if(!m&&(m=true)){return r.call(n,x.type||x)}};o=function(){var x;try{q.doScroll("left")}catch(y){x=y;setTimeout(o,50);return}return v("poll")};if(s.readyState!=="complete"){if(s.createEventObject&&q.doScroll){try{p=!n.frameElement}catch(t){}if(p){o()}}s[w](l+"DOMContentLoaded",v,false);s[w](l+"readystatechange",v,false);return n[w](l+"load",v,false)}};g._autoDiscoverFunction=function(){if(g.autoDiscover){return g.discover()}};d(window,g._autoDiscoverFunction)}).call(this);var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var k,h,f,j,g,e,d;var b=0;while(b<c.length){k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(d)}return a},decode:function(c){var a="";var k,h,f;var j,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){j=this._keyStr.indexOf(c.charAt(b++));g=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));k=(j<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(k);if(e!=64){a=a+String.fromCharCode(h)}if(d!=64){a=a+String.fromCharCode(f)}}return a}};(function(g){if(/1\.(0|1|2)\.(0|1|2)/.test(g.fn.jquery)||/^1.1/.test(g.fn.jquery)){alert("blockUI requires jQuery v1.2.3 or later!  You are using v"+g.fn.jquery);return}g.fn._fadeIn=g.fn.fadeIn;var i=document.documentMode||0;var d=g.browser.msie&&((g.browser.version<8&&!i)||i<8);var e=g.browser.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!i;g.blockUI=function(o){c(window,o)};g.unblockUI=function(o){h(window,o)};g.growlUI=function(s,q,r,o){var p=g('<div class="growlUI"></div>');if(s){p.append("<h1>"+s+"</h1>")}if(q){p.append("<h2>"+q+"</h2>")}if(r==undefined){r=3000}g.blockUI({message:p,fadeIn:700,fadeOut:1000,centerY:false,timeout:r,showOverlay:false,onUnblock:o,css:g.blockUI.defaults.growlCSS})};g.fn.block=function(o){return this.unblock({fadeOut:0}).each(function(){if(g.css(this,"position")=="static"){this.style.position="relative"}if(g.browser.msie){this.style.zoom=1}c(this,o)})};g.fn.unblock=function(o){return this.each(function(){h(this,o)})};g.blockUI.version=2.23;g.blockUI.defaults={message:"<h1>Please wait...</h1>",css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:null,color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,applyPlatformOpacityRules:true,onUnblock:null,quirksmodeOffsetHack:4};var b=null;var f=[];function c(q,o){var B=(q==window);var r=o&&o.message!==undefined?o.message:undefined;o=g.extend({},g.blockUI.defaults,o||{});o.overlayCSS=g.extend({},g.blockUI.defaults.overlayCSS,o.overlayCSS||{});var A=g.extend({},g.blockUI.defaults.css,o.css||{});r=r===undefined?o.message:r;if(B&&b){h(window,{fadeOut:0})}if(r&&typeof r!="string"&&(r.parentNode||r.jquery)){var u=r.jquery?r[0]:r;var y={};g(q).data("blockUI.history",y);y.el=u;y.parent=u.parentNode;y.display=u.style.display;y.position=u.style.position;if(y.parent){y.parent.removeChild(u)}}var C=o.baseZ;var x=(g.browser.msie||o.forceIframe)?g('<iframe class="blockUI" style="z-index:'+(C++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+o.iframeSrc+'"></iframe>'):g('<div class="blockUI" style="display:none"></div>');var w=g('<div class="blockUI blockOverlay" style="z-index:'+(C++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');var s=B?g('<div class="blockUI blockMsg blockPage" style="z-index:'+C+';display:none;position:fixed"></div>'):g('<div class="blockUI blockMsg blockElement" style="z-index:'+C+';display:none;position:absolute"></div>');if(r){s.css(A)}if(!o.applyPlatformOpacityRules||!(g.browser.mozilla&&/Linux/.test(navigator.platform))){w.css(o.overlayCSS)}w.css("position",B?"fixed":"absolute");if(g.browser.msie||o.forceIframe){x.css("opacity",0)}g([x[0],w[0],s[0]]).appendTo(B?"body":q);var F=d&&(!g.boxModel||g("object,embed",B?null:q).length>0);if(e||F){if(B&&o.allowBodyStretch&&g.boxModel){g("html,body").css("height","100%")}if((e||!g.boxModel)&&!B){var G=l(q,"borderTopWidth"),v=l(q,"borderLeftWidth");var E=G?"(0 - "+G+")":0;var p=v?"(0 - "+v+")":0}g.each([x,w,s],function(t,J){var z=J[0].style;z.position="absolute";if(t<2){B?z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+o.quirksmodeOffsetHack+') + "px"'):z.setExpression("height",'this.parentNode.offsetHeight + "px"');B?z.setExpression("width",'jQuery.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):z.setExpression("width",'this.parentNode.offsetWidth + "px"');if(p){z.setExpression("left",p)}if(E){z.setExpression("top",E)}}else{if(o.centerY){if(B){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!o.centerY&&B){var H=(o.css&&o.css.top)?parseInt(o.css.top):0;var I="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+H+') + "px"';z.setExpression("top",I)}}}})}if(r){s.append(r);if(r.jquery||r.nodeType){g(r).show()}}if((g.browser.msie||o.forceIframe)&&o.showOverlay){x.show()}if(o.fadeIn){if(o.showOverlay){w._fadeIn(o.fadeIn)}if(r){s.fadeIn(o.fadeIn)}}else{if(o.showOverlay){w.show()}if(r){s.show()}}k(1,q,o);if(B){b=s[0];f=g(":input:enabled:visible",b);if(o.focusInput){setTimeout(n,20)}}else{a(s[0],o.centerX,o.centerY)}if(o.timeout){var D=setTimeout(function(){B?g.unblockUI(o):g(q).unblock(o)},o.timeout);g(q).data("blockUI.timeout",D)}}function h(r,s){var q=r==window;var p=g(r);var t=p.data("blockUI.history");var u=p.data("blockUI.timeout");if(u){clearTimeout(u);p.removeData("blockUI.timeout")}s=g.extend({},g.blockUI.defaults,s||{});k(0,r,s);var o=q?g("body").children().filter(".blockUI"):g(".blockUI",r);if(q){b=f=null}if(s.fadeOut){o.fadeOut(s.fadeOut);setTimeout(function(){j(o,t,s,r)},s.fadeOut)}else{j(o,t,s,r)}}function j(o,r,q,p){o.each(function(s,t){if(this.parentNode){this.parentNode.removeChild(this)}});if(r&&r.el){r.el.style.display=r.display;r.el.style.position=r.position;if(r.parent){r.parent.appendChild(r.el)}g(r.el).removeData("blockUI.history")}if(typeof q.onUnblock=="function"){q.onUnblock(p,q)}}function k(o,s,t){var r=s==window,q=g(s);if(!o&&(r&&!b||!r&&!q.data("blockUI.isBlocked"))){return}if(!r){q.data("blockUI.isBlocked",o)}if(!t.bindEvents||(o&&!t.showOverlay)){return}var p="mousedown mouseup keydown keypress";o?g(document).bind(p,t,m):g(document).unbind(p,m)}function m(r){if(r.keyCode&&r.keyCode==9){if(b&&r.data.constrainTabKey){var q=f;var p=!r.shiftKey&&r.target==q[q.length-1];var o=r.shiftKey&&r.target==q[0];if(p||o){setTimeout(function(){n(o)},10);return false}}}if(g(r.target).parents("div.blockMsg").length>0){return true}return g(r.target).parents().children().filter("div.blockUI").length==0}function n(o){if(!f){return}var p=f[o===true?f.length-1:0];if(p){p.focus()}}function a(v,o,z){var w=v.parentNode,u=v.style;var q=((w.offsetWidth-v.offsetWidth)/2)-l(w,"borderLeftWidth");var r=((w.offsetHeight-v.offsetHeight)/2)-l(w,"borderTopWidth");if(o){u.left=q>0?(q+"px"):"0"}if(z){u.top=r>0?(r+"px"):"0"}}function l(o,q){return parseInt(g.css(o,q))||0}})(jQuery);(function(a){a.fn.textarearesizer=function(k){var d=a.extend({},a.fn.textarearesizer.defaults,k);var h=a(document);var j=0;var e=0;var i;var b=function(l){i=a(this).prev("textarea");e=i.height();j=f(l).y;h.bind("mousemove.textarearesizer",c);h.bind("mouseup.textarearesizer",g);return false};var c=function(o){var n=f(o).y-j;var l=Math.max(n+e,d.minSize);i.css("height",Math.round(l)+"px");var m=i.attr("sync");if(m){a("#"+m).css("height",l+"px")}return false};var g=function(l){h.unbind(".textarearesizer");i=null};var f=function(l){return{x:h.scrollLeft()+l.clientX,y:h.scrollTop()+l.clientY}};return this.each(function(){var m=a(this);m.addClass("processed textarea-with-grippie");m.wrap('<div class="textarea-resizable"></div>');m.parent().append(a('<div class="textarea-grippie"></div>'));var l=a("div.textarea-grippie",m.parent());l.bind("mousedown.textarearesizer",b)})};a.fn.textarearesizer.defaults={minSize:50}})(jQuery);jQuery.extend({createUploadIframe:function(e,c){var b="jUploadFrame"+e;if(window.ActiveXObject){var a=jQuery.browser.version;if(a.match(/^(6|7)/)){var d=document.createElement('<iframe id="'+b+'" name="'+b+'" />')}else{var d=document.createElement("iframe");d.id=b;d.name=b}if(typeof c=="boolean"){d.src="javascript:false"}else{if(typeof c=="string"){d.src=c}}}else{var d=document.createElement("iframe");d.id=b;d.name=b}d.style.position="absolute";d.style.top="-1000px";d.style.left="-1000px";document.body.appendChild(d);return d},createUploadForm:function(h,b,e){var f="jUploadForm"+h;var a="jUploadFile"+h;var d=$('<form  action="" method="POST" name="'+f+'" id="'+f+'" enctype="multipart/form-data"></form>');$.each(e,function(i,j){var k=$('<input type="hidden" value="" id="'+i+'" name="'+i+'" />');$(k).val(j);$(k).appendTo(d)});var c=$("#"+b);var g=$(c).clone();$(c).attr("id",a);$(c).before(g);$(c).appendTo(d);$(d).css("position","absolute");$(d).css("top","-1200px");$(d).css("left","-1200px");$(d).appendTo("body");return d},ajaxFileUpload:function(s){s=jQuery.extend({},jQuery.ajaxSettings,s);var id=new Date().getTime();var form=jQuery.createUploadForm(id,s.fileElementId,s.data);var io=jQuery.createUploadIframe(id,s.secureuri);var frameId="jUploadFrame"+id;var formId="jUploadForm"+id;if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var requestDone=false;var response;if(s.global){jQuery.event.trigger("ajaxSend",[response,s])}var uploadCallback=function(isTimeout){var io=document.getElementById(frameId);try{if(io.contentWindow){response=io.contentWindow.document.body?io.contentWindow.document.body.innerHTML:null}else{if(io.contentDocument){response=io.contentDocument.document.body?io.contentDocument.document.body.innerHTML:null}}}catch(e){jQuery.handleError(s,response,null,e)}if(response||isTimeout=="timeout"){requestDone=true;var status;try{status=isTimeout!="timeout"?"success":"error";if(status!="error"){var data=eval("data = "+Base64.decode(response));if(s.success){s.success(data,status)}if(s.global){jQuery.event.trigger("ajaxSuccess",[response,s])}}else{jQuery.handleError(s,response,status)}}catch(e){status="error";jQuery.handleError(s,response,status,e)}if(s.global){jQuery.event.trigger("ajaxComplete",[response,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}if(s.complete){s.complete(response,status)}jQuery(io).unbind();setTimeout(function(){try{$(io).remove();$(form).remove()}catch(e){jQuery.handleError(s,response,null,e)}},100);response=null}};if(s.timeout>0){setTimeout(function(){if(!requestDone){uploadCallback("timeout")}},s.timeout)}try{var form=$("#"+formId);$(form).attr("action",s.url);$(form).attr("method","POST");$(form).attr("target",frameId);if(form.encoding){form.encoding="multipart/form-data"}else{form.enctype="multipart/form-data"}$(form).submit()}catch(e){jQuery.handleError(s,response,null,e)}if(window.attachEvent){document.getElementById(frameId).attachEvent("onload",uploadCallback)}else{document.getElementById(frameId).addEventListener("load",uploadCallback,false)}return{abort:function(){}}},handleError:function(b,d,a,c){if(b.error){b.error.call(b.context||window,d,a,c)}if(b.global){(b.context?jQuery(b.context):jQuery.event).trigger("ajaxError",[d,b,c])}}});/*
 * jQuery UI 1.8.10
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,c){a.ui=a.ui||{};if(a.ui.version){return}a.extend(a.ui,{version:"1.8.10",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(d,e){return typeof d==="number"?this.each(function(){var f=this;setTimeout(function(){a(f).focus();if(e){e.call(f)}},d)}):this._focus.apply(this,arguments)},scrollParent:function(){var d;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){d=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}else{d=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!d.length?a(document):d},zIndex:function(g){if(g!==c){return this.css("zIndex",g)}if(this.length){var e=a(this[0]),d,f;while(e.length&&e[0]!==document){d=e.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){f=parseInt(e.css("zIndex"),10);if(!isNaN(f)&&f!==0){return f}}e=e.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(d){d.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(f,d){var e=d==="Width"?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),j={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function h(l,k,i,m){a.each(e,function(){k-=parseFloat(a.curCSS(l,"padding"+this,true))||0;if(i){k-=parseFloat(a.curCSS(l,"border"+this+"Width",true))||0}if(m){k-=parseFloat(a.curCSS(l,"margin"+this,true))||0}});return k}a.fn["inner"+d]=function(i){if(i===c){return j["inner"+d].call(this)}return this.each(function(){a(this).css(g,h(this,i)+"px")})};a.fn["outer"+d]=function(i,k){if(typeof i!=="number"){return j["outer"+d].call(this,i)}return this.each(function(){a(this).css(g,h(this,i,true,k)+"px")})}});function b(d){return !a(d).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.extend(a.expr[":"],{data:function(f,e,d){return !!a.data(f,d[3])},focusable:function(f){var i=f.nodeName.toLowerCase(),d=a.attr(f,"tabindex");if("area"===i){var h=f.parentNode,g=h.name,e;if(!f.href||!g||h.nodeName.toLowerCase()!=="map"){return false}e=a("img[usemap=#"+g+"]")[0];return !!e&&b(e)}return(/input|select|textarea|button|object/.test(i)?!f.disabled:"a"==i?f.href||!isNaN(d):!isNaN(d))&&b(f)},tabbable:function(e){var d=a.attr(e,"tabindex");return(isNaN(d)||d>=0)&&a(e).is(":focusable")}});a(function(){var d=document.body,e=d.appendChild(e=document.createElement("div"));a.extend(e.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=e.offsetHeight===100;a.support.selectstart="onselectstart" in e;d.removeChild(e).style.display="none"});a.extend(a.ui,{plugin:{add:function(e,f,h){var g=a.ui[e].prototype;for(var d in h){g.plugins[d]=g.plugins[d]||[];g.plugins[d].push([f,h[d]])}},call:function(d,f,e){var h=d.plugins[f];if(!h||!d.element[0].parentNode){return}for(var g=0;g<h.length;g++){if(d.options[h[g][0]]){h[g][1].apply(d.element,e)}}}},contains:function(e,d){return document.compareDocumentPosition?e.compareDocumentPosition(d)&16:e!==d&&e.contains(d)},hasScroll:function(g,e){if(a(g).css("overflow")==="hidden"){return false}var d=(e&&e==="left")?"scrollLeft":"scrollTop",f=false;if(g[d]>0){return true}g[d]=1;f=(g[d]>0);g[d]=0;return f},isOverAxis:function(e,d,f){return(e>d)&&(e<(d+f))},isOver:function(i,e,h,g,d,f){return a.ui.isOverAxis(i,h,d)&&a.ui.isOverAxis(e,g,f)}})})(jQuery);
/*
 * jQuery UI Widget 1.8.10
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,d){if(b.cleanData){var c=b.cleanData;b.cleanData=function(e){for(var f=0,g;(g=e[f])!=null;f++){b(g).triggerHandler("remove")}c(e)}}else{var a=b.fn.remove;b.fn.remove=function(e,f){return this.each(function(){if(!f){if(!e||b.filter(e,[this]).length){b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")})}}return a.call(b(this),e,f)})}}b.widget=function(f,h,e){var g=f.split(".")[0],j;f=f.split(".")[1];j=g+"-"+f;if(!e){e=h;h=b.Widget}b.expr[":"][j]=function(k){return !!b.data(k,f)};b[g]=b[g]||{};b[g][f]=function(k,l){if(arguments.length){this._createWidget(k,l)}};var i=new h();i.options=b.extend(true,{},i.options);b[g][f].prototype=b.extend(true,i,{namespace:g,widgetName:f,widgetEventPrefix:b[g][f].prototype.widgetEventPrefix||f,widgetBaseClass:j},e);b.widget.bridge(f,b[g][f])};b.widget.bridge=function(f,e){b.fn[f]=function(i){var g=typeof i==="string",h=Array.prototype.slice.call(arguments,1),j=this;i=!g&&h.length?b.extend.apply(null,[true,i].concat(h)):i;if(g&&i.charAt(0)==="_"){return j}if(g){this.each(function(){var k=b.data(this,f),l=k&&b.isFunction(k[i])?k[i].apply(k,h):k;if(l!==k&&l!==d){j=l;return false}})}else{this.each(function(){var k=b.data(this,f);if(k){k.option(i||{})._init()}else{b.data(this,f,new e(i,this))}})}return j}};b.Widget=function(e,f){if(arguments.length){this._createWidget(e,f)}};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(f,g){b.data(g,this.widgetName,this);this.element=b(g);this.options=b.extend(true,{},this.options,this._getCreateOptions(),f);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(f,g){var e=f;if(arguments.length===0){return b.extend({},this.options)}if(typeof f==="string"){if(g===d){return this.options[f]}e={};e[f]=g}this._setOptions(e);return this},_setOptions:function(f){var e=this;b.each(f,function(g,h){e._setOption(g,h)});return this},_setOption:function(e,f){this.options[e]=f;if(e==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(f,g,h){var k=this.options[f];g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();h=h||{};if(g.originalEvent){for(var e=b.event.props.length,j;e;){j=b.event.props[--e];g[j]=g.originalEvent[j]}}this.element.trigger(g,h);return !(b.isFunction(k)&&k.call(this.element[0],g,h)===false||g.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8.10
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(a,b){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){if(true===a.data(d.target,c.widgetName+".preventClickEvent")){a.removeData(d.target,c.widgetName+".preventClickEvent");d.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(e){e.originalEvent=e.originalEvent||{};if(e.originalEvent.mouseHandled){return}(this._mouseStarted&&this._mouseUp(e));this._mouseDownEvent=e;var d=this,f=(e.which==1),c=(typeof this.options.cancel=="string"?a(e.target).parents().add(e.target).filter(this.options.cancel).length:false);if(!f||c||!this._mouseCapture(e)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=(this._mouseStart(e)!==false);if(!this._mouseStarted){e.preventDefault();return true}}this._mouseMoveDelegate=function(g){return d._mouseMove(g)};this._mouseUpDelegate=function(g){return d._mouseUp(g)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();e.originalEvent.mouseHandled=true;return true},_mouseMove:function(c){if(a.browser.msie&&!(document.documentMode>=9)&&!c.button){return this._mouseUp(c)}if(this._mouseStarted){this._mouseDrag(c);return c.preventDefault()}if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,c)!==false);(this._mouseStarted?this._mouseDrag(c):this._mouseUp(c))}return !this._mouseStarted},_mouseUp:function(c){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(c.target==this._mouseDownEvent.target){a.data(c.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(c)}return false},_mouseDistanceMet:function(c){return(Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance)},_mouseDelayMet:function(c){return this.mouseDelayMet},_mouseStart:function(c){},_mouseDrag:function(c){},_mouseStop:function(c){},_mouseCapture:function(c){return true}})})(jQuery);(function(f,g){f.ui=f.ui||{};var d=/left|center|right/,e=/top|center|bottom/,a="center",b=f.fn.position,c=f.fn.offset;f.fn.position=function(i){if(!i||!i.of){return b.apply(this,arguments)}i=f.extend({},i);var m=f(i.of),l=m[0],o=(i.collision||"flip").split(" "),n=i.offset?i.offset.split(" "):[0,0],k,h,j;if(l.nodeType===9){k=m.width();h=m.height();j={top:0,left:0}}else{if(l.setTimeout){k=m.width();h=m.height();j={top:m.scrollTop(),left:m.scrollLeft()}}else{if(l.preventDefault){i.at="left top";k=h=0;j={top:i.of.pageY,left:i.of.pageX}}else{k=m.outerWidth();h=m.outerHeight();j=m.offset()}}}f.each(["my","at"],function(){var p=(i[this]||"").split(" ");if(p.length===1){p=d.test(p[0])?p.concat([a]):e.test(p[0])?[a].concat(p):[a,a]}p[0]=d.test(p[0])?p[0]:a;p[1]=e.test(p[1])?p[1]:a;i[this]=p});if(o.length===1){o[1]=o[0]}n[0]=parseInt(n[0],10)||0;if(n.length===1){n[1]=n[0]}n[1]=parseInt(n[1],10)||0;if(i.at[0]==="right"){j.left+=k}else{if(i.at[0]===a){j.left+=k/2}}if(i.at[1]==="bottom"){j.top+=h}else{if(i.at[1]===a){j.top+=h/2}}j.left+=n[0];j.top+=n[1];return this.each(function(){var s=f(this),u=s.outerWidth(),r=s.outerHeight(),t=parseInt(f.curCSS(this,"marginLeft",true))||0,q=parseInt(f.curCSS(this,"marginTop",true))||0,w=u+t+(parseInt(f.curCSS(this,"marginRight",true))||0),x=r+q+(parseInt(f.curCSS(this,"marginBottom",true))||0),v=f.extend({},j),p;if(i.my[0]==="right"){v.left-=u}else{if(i.my[0]===a){v.left-=u/2}}if(i.my[1]==="bottom"){v.top-=r}else{if(i.my[1]===a){v.top-=r/2}}v.left=Math.round(v.left);v.top=Math.round(v.top);p={left:v.left-t,top:v.top-q};f.each(["left","top"],function(z,y){if(f.ui.position[o[z]]){f.ui.position[o[z]][y](v,{targetWidth:k,targetHeight:h,elemWidth:u,elemHeight:r,collisionPosition:p,collisionWidth:w,collisionHeight:x,offset:n,my:i.my,at:i.at})}});if(f.fn.bgiframe){s.bgiframe()}s.offset(f.extend(v,{using:i.using}))})};f.ui.position={fit:{left:function(h,i){var k=f(window),j=i.collisionPosition.left+i.collisionWidth-k.width()-k.scrollLeft();h.left=j>0?h.left-j:Math.max(h.left-i.collisionPosition.left,h.left)},top:function(h,i){var k=f(window),j=i.collisionPosition.top+i.collisionHeight-k.height()-k.scrollTop();h.top=j>0?h.top-j:Math.max(h.top-i.collisionPosition.top,h.top)}},flip:{left:function(i,k){if(k.at[0]===a){return}var m=f(window),l=k.collisionPosition.left+k.collisionWidth-m.width()-m.scrollLeft(),h=k.my[0]==="left"?-k.elemWidth:k.my[0]==="right"?k.elemWidth:0,j=k.at[0]==="left"?k.targetWidth:-k.targetWidth,n=-2*k.offset[0];i.left+=k.collisionPosition.left<0?h+j+n:l>0?h+j+n:0},top:function(i,k){if(k.at[1]===a){return}var m=f(window),l=k.collisionPosition.top+k.collisionHeight-m.height()-m.scrollTop(),h=k.my[1]==="top"?-k.elemHeight:k.my[1]==="bottom"?k.elemHeight:0,j=k.at[1]==="top"?k.targetHeight:-k.targetHeight,n=-2*k.offset[1];i.top+=k.collisionPosition.top<0?h+j+n:l>0?h+j+n:0}}};if(!f.offset.setOffset){f.offset.setOffset=function(l,i){if(/static/.test(f.curCSS(l,"position"))){l.style.position="relative"}var k=f(l),n=k.offset(),h=parseInt(f.curCSS(l,"top",true),10)||0,m=parseInt(f.curCSS(l,"left",true),10)||0,j={top:(i.top-n.top)+h,left:(i.left-n.left)+m};if("using" in i){i.using.call(l,j)}else{k.css(j)}};f.fn.offset=function(h){var i=this[0];if(!i||!i.ownerDocument){return null}if(h){return this.each(function(){f.offset.setOffset(this,h)})}return c.call(this)}}}(jQuery));(function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(c);if(!this.handle){return false}return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));if(d.containment){this._setContainment()}if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(c,true);return true},_mouseDrag:function(c,e){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(d){var e=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){e=a.ui.ddmanager.drop(this,d)}if(this.dropped){e=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return false}if((this.options.revert=="invalid"&&!e)||(this.options.revert=="valid"&&e)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e))){var c=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(c._trigger("stop",d)!==false){c._clear()}})}else{if(this._trigger("stop",d)!==false){this._clear()}}return false},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){var d=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target){d=true}});return d},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper=="clone"?this.element.clone():this.element);if(!c.parents("body").length){c.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo))}if(c[0]!=this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode}if(f.containment=="document"||f.containment=="window"){this.containment=[(f.containment=="document"?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(f.containment=="document"?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(f.containment=="document"?0:a(window).scrollLeft())+a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(f.containment=="document"?0:a(window).scrollTop())+(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)&&f.containment.constructor!=Array){var d=a(f.containment)[0];if(!d){return}var e=a(f.containment).offset();var c=(a(d).css("overflow")!="hidden");this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(c?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(c?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}else{if(f.containment.constructor==Array){this.containment=f.containment}}},_convertPositionTo:function(g,i){if(!i){i=this.position}var e=g=="absolute"?1:-1;var f=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(c[0].tagName);return{top:(i.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:c.scrollTop()))*e)),left:(i.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())*e))}},_generatePosition:function(f){var i=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(c[0].tagName);var e=f.pageX;var d=f.pageY;if(this.originalPosition){if(this.containment){if(f.pageX-this.offset.click.left<this.containment[0]){e=this.containment[0]+this.offset.click.left}if(f.pageY-this.offset.click.top<this.containment[1]){d=this.containment[1]+this.offset.click.top}if(f.pageX-this.offset.click.left>this.containment[2]){e=this.containment[2]+this.offset.click.left}if(f.pageY-this.offset.click.top>this.containment[3]){d=this.containment[3]+this.offset.click.top}}if(i.grid){var h=this.originalPageY+Math.round((d-this.originalPageY)/i.grid[1])*i.grid[1];d=this.containment?(!(h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3])?h:(!(h-this.offset.click.top<this.containment[1])?h-i.grid[1]:h+i.grid[1])):h;var g=this.originalPageX+Math.round((e-this.originalPageX)/i.grid[0])*i.grid[0];e=this.containment?(!(g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2])?g:(!(g-this.offset.click.left<this.containment[0])?g-i.grid[0]:g+i.grid[0])):g}}return{top:(d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:c.scrollTop())))),left:(e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:c.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,e)},plugins:{},_uiHash:function(c){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.10"});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h._refreshItems();h._trigger("activate",d,c)}})},stop:function(d,f){var e=a(this).data("draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,g){var f=a(this).data("draggable"),c=this;var e=function(j){var p=this.offset.click.top,n=this.offset.click.left;var h=this.positionAbs.top,l=this.positionAbs.left;var k=j.height,m=j.width;var q=j.top,i=j.left;return a.ui.isOver(h+p,l+n,q,i,k,m)};a.each(f.sortables,function(h){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}f._trigger("fromSortable",d);f.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(d,e){var c=a("body"),f=a(this).data("draggable").options;if(c.css("cursor")){f._cursor=c.css("cursor")}c.css("cursor",f.cursor)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._cursor){a("body").css("cursor",e._cursor)}}});a.ui.plugin.add("draggable","iframeFix",{start:function(c,d){var e=a(this).data("draggable").options;a(e.iframeFix===true?"iframe":e.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},stop:function(c,d){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity")}c.css("opacity",f.opacity)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(d,e){var c=a(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(e,f){var d=a(this).data("draggable"),g=d.options,c=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+g.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-g.scrollSpeed}}}if(!g.axis||g.axis!="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+g.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-g.scrollSpeed}}}}else{if(!g.axis||g.axis!="x"){if(e.pageY-a(document).scrollTop()<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)}}}if(!g.axis||g.axis!="y"){if(e.pageX-a(document).scrollLeft()<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e)}}});a.ui.plugin.add("draggable","snap",{start:function(d,e){var c=a(this).data("draggable"),f=c.options;c.snapElements=[];a(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var h=a(this);var g=h.offset();if(this!=c.element[0]){c.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left})}})},drag:function(u,p){var g=a(this).data("draggable"),q=g.options;var y=q.snapTolerance;var x=p.offset.left,w=x+g.helperProportions.width,f=p.offset.top,e=f+g.helperProportions.height;for(var v=g.snapElements.length-1;v>=0;v--){var s=g.snapElements[v].left,n=s+g.snapElements[v].width,m=g.snapElements[v].top,A=m+g.snapElements[v].height;if(!((s-y<x&&x<n+y&&m-y<f&&f<A+y)||(s-y<x&&x<n+y&&m-y<e&&e<A+y)||(s-y<w&&w<n+y&&m-y<f&&f<A+y)||(s-y<w&&w<n+y&&m-y<e&&e<A+y))){if(g.snapElements[v].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=false;continue}if(q.snapMode!="inner"){var c=Math.abs(m-e)<=y;var z=Math.abs(A-f)<=y;var j=Math.abs(s-w)<=y;var k=Math.abs(n-x)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s-g.helperProportions.width}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n}).left-g.margins.left}}var h=(c||z||j||k);if(q.snapMode!="outer"){var c=Math.abs(m-f)<=y;var z=Math.abs(A-e)<=y;var j=Math.abs(s-x)<=y;var k=Math.abs(n-w)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A-g.helperProportions.height,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[v].snapping&&(c||z||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=(c||z||j||k||h)}}});a.ui.plugin.add("draggable","stack",{start:function(d,e){var g=a(this).data("draggable").options;var f=a.makeArray(a(g.stack)).sort(function(i,h){return(parseInt(a(i).css("zIndex"),10)||0)-(parseInt(a(h).css("zIndex"),10)||0)});if(!f.length){return}var c=parseInt(f[0].style.zIndex)||0;a(f).each(function(h){this.style.zIndex=c+h});this[0].style.zIndex=c+f.length}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex")}c.css("zIndex",f.zIndex)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,c=d.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(c)?c:function(e){return e.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);(d.addClasses&&this.element.addClass("ui-droppable"))},destroy:function(){var c=a.ui.ddmanager.droppables[this.options.scope];for(var d=0;d<c.length;d++){if(c[d]==this){c.splice(d,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(c,d){if(c=="accept"){this.accept=a.isFunction(d)?d:function(e){return e.is(d)}}a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=a.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}(c&&this._trigger("activate",d,this.ui(c)))},_deactivate:function(d){var c=a.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}(c&&this._trigger("deactivate",d,this.ui(c)))},_over:function(d){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",d,this.ui(c))}},_out:function(d){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",d,this.ui(c))}},_drop:function(d,e){var c=e||a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return false}var f=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=a.data(this,"droppable");if(g.options.greedy&&!g.options.disabled&&g.options.scope==c.options.scope&&g.accept.call(g.element[0],(c.currentItem||c.element))&&a.ui.intersect(c,a.extend(g,{offset:g.element.offset()}),g.options.tolerance)){f=true;return false}});if(f){return false}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",d,this.ui(c));return this.element}return false},ui:function(d){return{draggable:(d.currentItem||d.element),helper:d.helper,position:d.position,offset:d.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.10"});a.ui.intersect=function(q,j,o){if(!j.offset){return false}var e=(q.positionAbs||q.position.absolute).left,d=e+q.helperProportions.width,n=(q.positionAbs||q.position.absolute).top,m=n+q.helperProportions.height;var g=j.offset.left,c=g+j.proportions.width,p=j.offset.top,k=p+j.proportions.height;switch(o){case"fit":return(g<=e&&d<=c&&p<=n&&m<=k);break;case"intersect":return(g<e+(q.helperProportions.width/2)&&d-(q.helperProportions.width/2)<c&&p<n+(q.helperProportions.height/2)&&m-(q.helperProportions.height/2)<k);break;case"pointer":var h=((q.positionAbs||q.position.absolute).left+(q.clickOffset||q.offset.click).left),i=((q.positionAbs||q.position.absolute).top+(q.clickOffset||q.offset.click).top),f=a.ui.isOver(i,h,p,g,j.proportions.height,j.proportions.width);return f;break;case"touch":return((n>=p&&n<=k)||(m>=p&&m<=k)||(n<p&&m>k))&&((e>=g&&e<=c)||(d>=g&&d<=c)||(e<g&&d>c));break;default:return false;break}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(f,h){var c=a.ui.ddmanager.droppables[f.options.scope]||[];var g=h?h.type:null;var k=(f.currentItem||f.element).find(":data(droppable)").andSelf();droppablesLoop:for(var e=0;e<c.length;e++){if(c[e].options.disabled||(f&&!c[e].accept.call(c[e].element[0],(f.currentItem||f.element)))){continue}for(var d=0;d<k.length;d++){if(k[d]==c[e].element[0]){c[e].proportions.height=0;continue droppablesLoop}}c[e].visible=c[e].element.css("display")!="none";if(!c[e].visible){continue}c[e].offset=c[e].element.offset();c[e].proportions={width:c[e].element[0].offsetWidth,height:c[e].element[0].offsetHeight};if(g=="mousedown"){c[e]._activate.call(c[e],h)}}},drop:function(c,d){var e=false;a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&a.ui.intersect(c,this,this.options.tolerance)){e=e||this._drop.call(this,d)}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(c.currentItem||c.element))){this.isout=1;this.isover=0;this._deactivate.call(this,d)}});return e},drag:function(c,d){if(c.options.refreshPositions){a.ui.ddmanager.prepareOffsets(c,d)}a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var f=a.ui.intersect(c,this,this.options.tolerance);var h=!f&&this.isover==1?"isout":(f&&this.isover==0?"isover":null);if(!h){return}var g;if(this.options.greedy){var e=this.element.parents(":data(droppable):eq(0)");if(e.length){g=a.data(e[0],"droppable");g.greedyChild=(h=="isover"?1:0)}}if(g&&h=="isover"){g.isover=0;g.isout=1;g._out.call(g,d)}this[h]=1;this[h=="isout"?"isover":"isout"]=0;this[h=="isover"?"_over":"_out"].call(this,d);if(g&&h=="isout"){g.isout=0;g.isover=1;g._over.call(g,d)}})}}})(jQuery);(function(c,d){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var f=this,k=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(k.aspectRatio),aspectRatio:k.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:k.helper||k.ghost||k.animate?k.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){if(/relative/.test(this.element.css("position"))&&c.browser.opera){this.element.css({position:"relative",top:"auto",left:"auto"})}this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=k.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var l=this.handles.split(",");this.handles={};for(var g=0;g<l.length;g++){var j=c.trim(l[g]),e="ui-resizable-"+j;var h=c('<div class="ui-resizable-handle '+e+'"></div>');if(/sw|se|ne|nw/.test(j)){h.css({zIndex:++k.zIndex})}if("se"==j){h.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[j]=".ui-resizable-"+j;this.element.append(h)}}this._renderAxis=function(q){q=q||this.element;for(var n in this.handles){if(this.handles[n].constructor==String){this.handles[n]=c(this.handles[n],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var o=c(this.handles[n],this.element),p=0;p=/sw|ne|nw|se|n|s/.test(n)?o.outerHeight():o.outerWidth();var m=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");q.css(m,p);this._proportionallyResize()}if(!c(this.handles[n]).length){continue}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!f.resizing){if(this.className){var i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}f.axis=i&&i[1]?i[1]:"se"}});if(k.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").hover(function(){c(this).removeClass("ui-resizable-autohide");f._handles.show()},function(){if(!f.resizing){c(this).addClass("ui-resizable-autohide");f._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var f=this.element;f.after(this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(f){var g=false;for(var e in this.handles){if(c(this.handles[e])[0]==f.target){g=true}}return !this.options.disabled&&g},_mouseStart:function(g){var j=this.options,f=this.element.position(),e=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(e.is(".ui-draggable")||(/absolute/).test(e.css("position"))){e.css({position:"absolute",top:f.top,left:f.left})}if(c.browser.opera&&(/relative/).test(e.css("position"))){e.css({position:"relative",top:"auto",left:"auto"})}this._renderProxy();var k=b(this.helper.css("left")),h=b(this.helper.css("top"));if(j.containment){k+=c(j.containment).scrollLeft()||0;h+=c(j.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:k,top:h};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:k,top:h};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=(typeof j.aspectRatio=="number")?j.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var i=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",i=="auto"?this.axis+"-resize":i);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true},_mouseDrag:function(e){var h=this.helper,g=this.options,m={},q=this,j=this.originalMousePosition,n=this.axis;var r=(e.pageX-j.left)||0,p=(e.pageY-j.top)||0;var i=this._change[n];if(!i){return false}var l=i.apply(this,[e,r,p]),k=c.browser.msie&&c.browser.version<7,f=this.sizeDiff;if(this._aspectRatio||e.shiftKey){l=this._updateRatio(l,e)}l=this._respectSize(l,e);this._propagate("resize",e);h.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(l);this._trigger("resize",e,this.ui());return false},_mouseStop:function(h){this.resizing=false;var i=this.options,m=this;if(this._helper){var g=this._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:m.sizeDiff.height,k=e?0:m.sizeDiff.width;var n={width:(m.helper.width()-k),height:(m.helper.height()-f)},j=(parseInt(m.element.css("left"),10)+(m.position.left-m.originalPosition.left))||null,l=(parseInt(m.element.css("top"),10)+(m.position.top-m.originalPosition.top))||null;if(!i.animate){this.element.css(c.extend(n,{top:l,left:j}))}m.helper.height(m.size.height);m.helper.width(m.size.width);if(this._helper&&!i.animate){this._proportionallyResize()}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);if(this._helper){this.helper.remove()}return false},_updateCache:function(e){var f=this.options;this.offset=this.helper.offset();if(a(e.left)){this.position.left=e.left}if(a(e.top)){this.position.top=e.top}if(a(e.height)){this.size.height=e.height}if(a(e.width)){this.size.width=e.width}},_updateRatio:function(h,g){var i=this.options,j=this.position,f=this.size,e=this.axis;if(h.height){h.width=(f.height*this.aspectRatio)}else{if(h.width){h.height=(f.width/this.aspectRatio)}}if(e=="sw"){h.left=j.left+(f.width-h.width);h.top=null}if(e=="nw"){h.top=j.top+(f.height-h.height);h.left=j.left+(f.width-h.width)}return h},_respectSize:function(l,g){var j=this.helper,i=this.options,r=this._aspectRatio||g.shiftKey,q=this.axis,t=a(l.width)&&i.maxWidth&&(i.maxWidth<l.width),m=a(l.height)&&i.maxHeight&&(i.maxHeight<l.height),h=a(l.width)&&i.minWidth&&(i.minWidth>l.width),s=a(l.height)&&i.minHeight&&(i.minHeight>l.height);if(h){l.width=i.minWidth}if(s){l.height=i.minHeight}if(t){l.width=i.maxWidth}if(m){l.height=i.maxHeight}var f=this.originalPosition.left+this.originalSize.width,p=this.position.top+this.size.height;var k=/sw|nw|w/.test(q),e=/nw|ne|n/.test(q);if(h&&k){l.left=f-i.minWidth}if(t&&k){l.left=f-i.maxWidth}if(s&&e){l.top=p-i.minHeight}if(m&&e){l.top=p-i.maxHeight}var n=!l.width&&!l.height;if(n&&!l.left&&l.top){l.top=null}else{if(n&&!l.top&&l.left){l.left=null}}return l},_proportionallyResize:function(){var k=this.options;if(!this._proportionallyResizeElements.length){return}var g=this.helper||this.element;for(var f=0;f<this._proportionallyResizeElements.length;f++){var h=this._proportionallyResizeElements[f];if(!this.borderDif){var e=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],j=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")];this.borderDif=c.map(e,function(l,n){var m=parseInt(l,10)||0,o=parseInt(j[n],10)||0;return m+o})}if(c.browser.msie&&!(!(c(g).is(":hidden")||c(g).parents(":hidden").length))){continue}h.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var f=this.element,i=this.options;this.elementOffset=f.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var e=c.browser.msie&&c.browser.version<7,g=(e?1:0),h=(e?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+h,height:this.element.outerHeight()+h,position:"absolute",left:this.elementOffset.left-g+"px",top:this.elementOffset.top-g+"px",zIndex:++i.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(g,f,e){return{width:this.originalSize.width+f}},w:function(h,f,e){var j=this.options,g=this.originalSize,i=this.originalPosition;return{left:i.left+f,width:g.width-f}},n:function(h,f,e){var j=this.options,g=this.originalSize,i=this.originalPosition;return{top:i.top+e,height:g.height-e}},s:function(g,f,e){return{height:this.originalSize.height+e}},se:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},sw:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]))},ne:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},nw:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]))}},_propagate:function(f,e){c.ui.plugin.call(this,f,[e,this.ui()]);(f!="resize"&&this._trigger(f,e,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.extend(c.ui.resizable,{version:"1.8.10"});c.ui.plugin.add("resizable","alsoResize",{start:function(f,g){var e=c(this).data("resizable"),i=e.options;var h=function(j){c(j).each(function(){var k=c(this);k.data("resizable-alsoresize",{width:parseInt(k.width(),10),height:parseInt(k.height(),10),left:parseInt(k.css("left"),10),top:parseInt(k.css("top"),10),position:k.css("position")})})};if(typeof(i.alsoResize)=="object"&&!i.alsoResize.parentNode){if(i.alsoResize.length){i.alsoResize=i.alsoResize[0];h(i.alsoResize)}else{c.each(i.alsoResize,function(j){h(j)})}}else{h(i.alsoResize)}},resize:function(g,i){var f=c(this).data("resizable"),j=f.options,h=f.originalSize,l=f.originalPosition;var k={height:(f.size.height-h.height)||0,width:(f.size.width-h.width)||0,top:(f.position.top-l.top)||0,left:(f.position.left-l.left)||0},e=function(m,n){c(m).each(function(){var q=c(this),r=c(this).data("resizable-alsoresize"),p={},o=n&&n.length?n:q.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(o,function(s,u){var t=(r[u]||0)+(k[u]||0);if(t&&t>=0){p[u]=t||null}});if(c.browser.opera&&/relative/.test(q.css("position"))){f._revertToRelativePosition=true;q.css({position:"absolute",top:"auto",left:"auto"})}q.css(p)})};if(typeof(j.alsoResize)=="object"&&!j.alsoResize.nodeType){c.each(j.alsoResize,function(m,n){e(m,n)})}else{e(j.alsoResize)}},stop:function(g,h){var f=c(this).data("resizable"),i=f.options;var e=function(j){c(j).each(function(){var k=c(this);k.css({position:k.data("resizable-alsoresize").position})})};if(f._revertToRelativePosition){f._revertToRelativePosition=false;if(typeof(i.alsoResize)=="object"&&!i.alsoResize.nodeType){c.each(i.alsoResize,function(j){e(j)})}else{e(i.alsoResize)}}c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","animate",{stop:function(i,n){var p=c(this).data("resizable"),j=p.options;var h=p._proportionallyResizeElements,e=h.length&&(/textarea/i).test(h[0].nodeName),f=e&&c.ui.hasScroll(h[0],"left")?0:p.sizeDiff.height,l=e?0:p.sizeDiff.width;var g={width:(p.size.width-l),height:(p.size.height-f)},k=(parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left))||null,m=(parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top))||null;p.element.animate(c.extend(g,m&&k?{top:m,left:k}:{}),{duration:j.animateDuration,easing:j.animateEasing,step:function(){var o={width:parseInt(p.element.css("width"),10),height:parseInt(p.element.css("height"),10),top:parseInt(p.element.css("top"),10),left:parseInt(p.element.css("left"),10)};if(h&&h.length){c(h[0]).css({width:o.width,height:o.height})}p._updateCache(o);p._propagate("resize",i)}})}});c.ui.plugin.add("resizable","containment",{start:function(f,r){var t=c(this).data("resizable"),j=t.options,l=t.element;var g=j.containment,k=(g instanceof c)?g.get(0):(/parent/.test(g))?l.parent().get(0):g;if(!k){return}t.containerElement=c(k);if(/document/.test(g)||g==document){t.containerOffset={left:0,top:0};t.containerPosition={left:0,top:0};t.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var n=c(k),i=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){i[p]=b(n.css("padding"+o))});t.containerOffset=n.offset();t.containerPosition=n.position();t.containerSize={height:(n.innerHeight()-i[3]),width:(n.innerWidth()-i[1])};var q=t.containerOffset,e=t.containerSize.height,m=t.containerSize.width,h=(c.ui.hasScroll(k,"left")?k.scrollWidth:m),s=(c.ui.hasScroll(k)?k.scrollHeight:e);t.parentData={element:k,left:q.left,top:q.top,width:h,height:s}}},resize:function(g,q){var t=c(this).data("resizable"),i=t.options,f=t.containerSize,p=t.containerOffset,m=t.size,n=t.position,r=t._aspectRatio||g.shiftKey,e={top:0,left:0},h=t.containerElement;if(h[0]!=document&&(/static/).test(h.css("position"))){e=p}if(n.left<(t._helper?p.left:0)){t.size.width=t.size.width+(t._helper?(t.position.left-p.left):(t.position.left-e.left));if(r){t.size.height=t.size.width/i.aspectRatio}t.position.left=i.helper?p.left:0}if(n.top<(t._helper?p.top:0)){t.size.height=t.size.height+(t._helper?(t.position.top-p.top):t.position.top);if(r){t.size.width=t.size.height*i.aspectRatio}t.position.top=t._helper?p.top:0}t.offset.left=t.parentData.left+t.position.left;t.offset.top=t.parentData.top+t.position.top;var l=Math.abs((t._helper?t.offset.left-e.left:(t.offset.left-e.left))+t.sizeDiff.width),s=Math.abs((t._helper?t.offset.top-e.top:(t.offset.top-p.top))+t.sizeDiff.height);var k=t.containerElement.get(0)==t.element.parent().get(0),j=/relative|absolute/.test(t.containerElement.css("position"));if(k&&j){l-=t.parentData.left}if(l+t.size.width>=t.parentData.width){t.size.width=t.parentData.width-l;if(r){t.size.height=t.size.width/t.aspectRatio}}if(s+t.size.height>=t.parentData.height){t.size.height=t.parentData.height-s;if(r){t.size.width=t.size.height*t.aspectRatio}}},stop:function(f,n){var q=c(this).data("resizable"),g=q.options,l=q.position,m=q.containerOffset,e=q.containerPosition,i=q.containerElement;var j=c(q.helper),r=j.offset(),p=j.outerWidth()-q.sizeDiff.width,k=j.outerHeight()-q.sizeDiff.height;if(q._helper&&!g.animate&&(/relative/).test(i.css("position"))){c(this).css({left:r.left-e.left-m.left,width:p,height:k})}if(q._helper&&!g.animate&&(/static/).test(i.css("position"))){c(this).css({left:r.left-e.left-m.left,width:p,height:k})}}});c.ui.plugin.add("resizable","ghost",{start:function(g,h){var e=c(this).data("resizable"),i=e.options,f=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:"");e.ghost.appendTo(e.helper)},resize:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});c.ui.plugin.add("resizable","grid",{resize:function(e,m){var p=c(this).data("resizable"),h=p.options,k=p.size,i=p.originalSize,j=p.originalPosition,n=p.axis,l=h._aspectRatio||e.shiftKey;h.grid=typeof h.grid=="number"?[h.grid,h.grid]:h.grid;var g=Math.round((k.width-i.width)/(h.grid[0]||1))*(h.grid[0]||1),f=Math.round((k.height-i.height)/(h.grid[1]||1))*(h.grid[1]||1);if(/^(se|s|e)$/.test(n)){p.size.width=i.width+g;p.size.height=i.height+f}else{if(/^(ne)$/.test(n)){p.size.width=i.width+g;p.size.height=i.height+f;p.position.top=j.top-f}else{if(/^(sw)$/.test(n)){p.size.width=i.width+g;p.size.height=i.height+f;p.position.left=j.left-g}else{p.size.width=i.width+g;p.size.height=i.height+f;p.position.top=j.top-f;p.position.left=j.left-g}}}}});var b=function(e){return parseInt(e,10)||0};var a=function(e){return !isNaN(parseInt(e,10))}})(jQuery);(function(d,e){var b="ui-dialog ui-widget ui-widget-content ui-corner-all ",a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},c={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};d.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(g){var f=d(this).css(g).offset().top;if(f<0){d(this).css("top",g.top-f)}}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.options.title=this.options.title||this.originalTitle;var n=this,o=n.options,l=o.title||"&#160;",g=d.ui.dialog.getTitleId(n.element),m=(n.uiDialog=d("<div></div>")).appendTo(document.body).hide().addClass(b+o.dialogClass).css({zIndex:o.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(p){if(o.closeOnEscape&&p.keyCode&&p.keyCode===d.ui.keyCode.ESCAPE){n.close(p);p.preventDefault()}}).attr({role:"dialog","aria-labelledby":g}).mousedown(function(p){n.moveToTop(false,p)}),i=n.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(m),h=(n.uiDialogTitlebar=d("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(m),k=d('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){k.addClass("ui-state-hover")},function(){k.removeClass("ui-state-hover")}).focus(function(){k.addClass("ui-state-focus")}).blur(function(){k.removeClass("ui-state-focus")}).click(function(p){n.close(p);return false}).appendTo(h),j=(n.uiDialogTitlebarCloseText=d("<span></span>")).addClass("ui-icon ui-icon-closethick").text(o.closeText).appendTo(k),f=d("<span></span>").addClass("ui-dialog-title").attr("id",g).html(l).prependTo(h);if(d.isFunction(o.beforeclose)&&!d.isFunction(o.beforeClose)){o.beforeClose=o.beforeclose}h.find("*").add(h).disableSelection();if(o.draggable&&d.fn.draggable){n._makeDraggable()}if(o.resizable&&d.fn.resizable){n._makeResizable()}n._createButtons(o.buttons);n._isOpen=false;if(d.fn.bgiframe){m.bgiframe()}},_init:function(){if(this.options.autoOpen){this.open()}},destroy:function(){var f=this;if(f.overlay){f.overlay.destroy()}f.uiDialog.hide();f.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");f.uiDialog.remove();if(f.originalTitle){f.element.attr("title",f.originalTitle)}return f},widget:function(){return this.uiDialog},close:function(i){var f=this,h,g;if(false===f._trigger("beforeClose",i)){return}if(f.overlay){f.overlay.destroy()}f.uiDialog.unbind("keypress.ui-dialog");f._isOpen=false;if(f.options.hide){f.uiDialog.hide(f.options.hide,function(){f._trigger("close",i)})}else{f.uiDialog.hide();f._trigger("close",i)}d.ui.dialog.overlay.resize();if(f.options.modal){h=0;d(".ui-dialog").each(function(){if(this!==f.uiDialog[0]){g=d(this).css("z-index");if(!isNaN(g)){h=Math.max(h,g)}}});d.ui.dialog.maxZ=h}return f},isOpen:function(){return this._isOpen},moveToTop:function(j,i){var f=this,h=f.options,g;if((h.modal&&!j)||(!h.stack&&!h.modal)){return f._trigger("focus",i)}if(h.zIndex>d.ui.dialog.maxZ){d.ui.dialog.maxZ=h.zIndex}if(f.overlay){d.ui.dialog.maxZ+=1;f.overlay.$el.css("z-index",d.ui.dialog.overlay.maxZ=d.ui.dialog.maxZ)}g={scrollTop:f.element.attr("scrollTop"),scrollLeft:f.element.attr("scrollLeft")};d.ui.dialog.maxZ+=1;f.uiDialog.css("z-index",d.ui.dialog.maxZ);f.element.attr(g);f._trigger("focus",i);return f},open:function(){if(this._isOpen){return}var g=this,h=g.options,f=g.uiDialog;g.overlay=h.modal?new d.ui.dialog.overlay(g):null;g._size();g._position(h.position);f.show(h.show);g.moveToTop(true);if(h.modal){f.bind("keypress.ui-dialog",function(k){if(k.keyCode!==d.ui.keyCode.TAB){return}var j=d(":tabbable",this),l=j.filter(":first"),i=j.filter(":last");if(k.target===i[0]&&!k.shiftKey){l.focus(1);return false}else{if(k.target===l[0]&&k.shiftKey){i.focus(1);return false}}})}d(g.element.find(":tabbable").get().concat(f.find(".ui-dialog-buttonpane :tabbable").get().concat(f.get()))).eq(0).focus();g._isOpen=true;g._trigger("open");return g},_createButtons:function(i){var h=this,f=false,g=d("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),j=d("<div></div>").addClass("ui-dialog-buttonset").appendTo(g);h.uiDialog.find(".ui-dialog-buttonpane").remove();if(typeof i==="object"&&i!==null){d.each(i,function(){return !(f=true)})}if(f){d.each(i,function(k,m){m=d.isFunction(m)?{click:m,text:k}:m;var l=d('<button type="button"></button>').attr(m,true).unbind("click").click(function(){m.click.apply(h.element[0],arguments)}).appendTo(j);if(d.fn.button){l.button()}});g.appendTo(h.uiDialog)}},_makeDraggable:function(){var f=this,i=f.options,j=d(document),h;function g(k){return{position:k.position,offset:k.offset}}f.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(k,l){h=i.height==="auto"?"auto":d(this).height();d(this).height(d(this).height()).addClass("ui-dialog-dragging");f._trigger("dragStart",k,g(l))},drag:function(k,l){f._trigger("drag",k,g(l))},stop:function(k,l){i.position=[l.position.left-j.scrollLeft(),l.position.top-j.scrollTop()];d(this).removeClass("ui-dialog-dragging").height(h);f._trigger("dragStop",k,g(l));d.ui.dialog.overlay.resize()}})},_makeResizable:function(k){k=(k===e?this.options.resizable:k);var g=this,j=g.options,f=g.uiDialog.css("position"),i=(typeof k==="string"?k:"n,e,s,w,se,sw,ne,nw");function h(l){return{originalPosition:l.originalPosition,originalSize:l.originalSize,position:l.position,size:l.size}}g.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:g.element,maxWidth:j.maxWidth,maxHeight:j.maxHeight,minWidth:j.minWidth,minHeight:g._minHeight(),handles:i,start:function(l,m){d(this).addClass("ui-dialog-resizing");g._trigger("resizeStart",l,h(m))},resize:function(l,m){g._trigger("resize",l,h(m))},stop:function(l,m){d(this).removeClass("ui-dialog-resizing");j.height=d(this).height();j.width=d(this).width();g._trigger("resizeStop",l,h(m));d.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var f=this.options;if(f.height==="auto"){return f.minHeight}else{return Math.min(f.minHeight,f.height)}},_position:function(g){var h=[],i=[0,0],f;if(g){if(typeof g==="string"||(typeof g==="object"&&"0" in g)){h=g.split?g.split(" "):[g[0],g[1]];if(h.length===1){h[1]=h[0]}d.each(["left","top"],function(k,j){if(+h[k]===h[k]){i[k]=h[k];h[k]=j}});g={my:h.join(" "),at:h.join(" "),offset:i.join(" ")}}g=d.extend({},d.ui.dialog.prototype.options.position,g)}else{g=d.ui.dialog.prototype.options.position}f=this.uiDialog.is(":visible");if(!f){this.uiDialog.show()}this.uiDialog.css({top:0,left:0}).position(d.extend({of:window},g));if(!f){this.uiDialog.hide()}},_setOptions:function(i){var g=this,f={},h=false;d.each(i,function(j,k){g._setOption(j,k);if(j in a){h=true}if(j in c){f[j]=k}});if(h){this._size()}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option",f)}},_setOption:function(i,j){var g=this,f=g.uiDialog;switch(i){case"beforeclose":i="beforeClose";break;case"buttons":g._createButtons(j);break;case"closeText":g.uiDialogTitlebarCloseText.text(""+j);break;case"dialogClass":f.removeClass(g.options.dialogClass).addClass(b+j);break;case"disabled":if(j){f.addClass("ui-dialog-disabled")}else{f.removeClass("ui-dialog-disabled")}break;case"draggable":var h=f.is(":data(draggable)");if(h&&!j){f.draggable("destroy")}if(!h&&j){g._makeDraggable()}break;case"position":g._position(j);break;case"resizable":var k=f.is(":data(resizable)");if(k&&!j){f.resizable("destroy")}if(k&&typeof j==="string"){f.resizable("option","handles",j)}if(!k&&j!==false){g._makeResizable(j)}break;case"title":d(".ui-dialog-title",g.uiDialogTitlebar).html(""+(j||"&#160;"));break}d.Widget.prototype._setOption.apply(g,arguments)},_size:function(){var j=this.options,g,i,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(j.minWidth>j.width){j.width=j.minWidth}g=this.uiDialog.css({height:"auto",width:j.width}).height();i=Math.max(0,j.minHeight-g);if(j.height==="auto"){if(d.support.minHeight){this.element.css({minHeight:i,height:"auto"})}else{this.uiDialog.show();var h=this.element.css("height","auto").height();if(!f){this.uiDialog.hide()}this.element.height(Math.max(h,i))}}else{this.element.height(Math.max(j.height-g,0))}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}}});d.extend(d.ui.dialog,{version:"1.8.10",uuid:0,maxZ:0,getTitleId:function(f){var g=f.attr("id");if(!g){this.uuid+=1;g=this.uuid}return"ui-dialog-title-"+g},overlay:function(f){this.$el=d.ui.dialog.overlay.create(f)}});d.extend(d.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:d.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(f){return f+".dialog-overlay"}).join(" "),create:function(g){if(this.instances.length===0){setTimeout(function(){if(d.ui.dialog.overlay.instances.length){d(document).bind(d.ui.dialog.overlay.events,function(h){if(d(h.target).zIndex()<d.ui.dialog.overlay.maxZ){return false}})}},1);d(document).bind("keydown.dialog-overlay",function(h){if(g.options.closeOnEscape&&h.keyCode&&h.keyCode===d.ui.keyCode.ESCAPE){g.close(h);h.preventDefault()}});d(window).bind("resize.dialog-overlay",d.ui.dialog.overlay.resize)}var f=(this.oldInstances.pop()||d("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});if(d.fn.bgiframe){f.bgiframe()}this.instances.push(f);return f},destroy:function(f){var g=d.inArray(f,this.instances);if(g!=-1){this.oldInstances.push(this.instances.splice(g,1)[0])}if(this.instances.length===0){d([document,window]).unbind(".dialog-overlay")}f.remove();var h=0;d.each(this.instances,function(){h=Math.max(h,this.css("z-index"))});this.maxZ=h},height:function(){var g,f;if(d.browser.msie&&d.browser.version<7){g=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);f=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(g<f){return d(window).height()+"px"}else{return g+"px"}}else{return d(window).height()+"px"}},width:function(){var f,g;if(d.browser.msie&&d.browser.version<7){f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);g=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(f<g){return d(window).width()+"px"}else{return f+"px"}}else{return d(window).width()+"px"}},resize:function(){var f=d([]);d.each(d.ui.dialog.overlay.instances,function(){f=f.add(this)});f.css({width:0,height:0}).css({width:d.ui.dialog.overlay.width(),height:d.ui.dialog.overlay.height()})}});d.extend(d.ui.dialog.overlay.prototype,{destroy:function(){d.ui.dialog.overlay.destroy(this.$el)}})}(jQuery));(function($,undefined){$.extend($.ui,{datepicker:{version:"1.8.10"}});var PROP_NAME="datepicker";var dpuuid=new Date().getTime();function Datepicker(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=$('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",log:function(){if(this.debug){console.log.apply("",arguments)}},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=(nodeName=="div"||nodeName=="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=="input"){this._connectDatepicker(target,inst)}else{if(inline){this._inlineDatepicker(target,inst)}}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:$('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return}this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});this._autoSize(inst);$.data(target,PROP_NAME,inst)},_attachments:function(input,inst){var appendText=this._get(inst,"appendText");var isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove()}if(appendText){inst.append=$('<span class="'+this._appendClass+'">'+appendText+"</span>");input[isRTL?"before":"after"](inst.append)}input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove()}var showOn=this._get(inst,"showOn");if(showOn=="focus"||showOn=="both"){input.focus(this._showDatepicker)}if(showOn=="button"||showOn=="both"){var buttonText=this._get(inst,"buttonText");var buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(buttonImage==""?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput==input[0]){$.datepicker._hideDatepicker()}else{$.datepicker._showDatepicker(input[0])}return false})}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var date=new Date(2009,12-1,20);var dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){var findMax=function(names){var max=0;var maxI=0;for(var i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i}}return maxI};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay())}inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return}divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);inst.dpDiv.show()},_dialogDatepicker:function(input,date,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){this.uuid+=1;var id="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+id+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst)}extendRemove(inst.settings,settings||{});date=(date&&date.constructor==Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){var browserWidth=document.documentElement.clientWidth;var browserHeight=document.documentElement.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv)}$.data(this._dialogInput[0],PROP_NAME,inst);return this},_destroyDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName=="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(nodeName=="div"||nodeName=="span"){$target.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)})},_disableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)});this._disabledInputs[this._disabledInputs.length]=target},_isDisabledDatepicker:function(target){if(!target){return false}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==target){return true}}return false},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(arguments.length==2&&typeof name=="string"){return(name=="defaults"?$.extend({},$.datepicker._defaults):(inst?(name=="all"?$.extend({},inst.settings):this._get(inst,name)):null))}var settings=name||{};if(typeof name=="string"){settings={};settings[name]=value}if(inst){if(this._curInst==inst){this._hideDatepicker()}var date=this._getDateDatepicker(target,true);extendRemove(inst.settings,settings);this._attachments($(target),inst);this._autoSize(inst);this._setDateDatepicker(target,date);this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst)}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst)}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault)}return(inst?this._getDate(inst):null)},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target);var handled=true;var isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:var sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0])}else{$.datepicker._hideDatepicker()}return false;break;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target)}handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target)}handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M")}break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D")}handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M")}break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D")}handled=event.ctrlKey||event.metaKey;break;default:handled=false}}else{if(event.keyCode==36&&event.ctrlKey){$.datepicker._showDatepicker(this)}else{handled=false}}if(handled){event.preventDefault();event.stopPropagation()}},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));var chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1)}},_doKeyUp:function(event){var inst=$.datepicker._getInst(event.target);if(inst.input.val()!=inst.lastVal){try{var date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst)}}catch(event){$.datepicker.log(event)}}return true},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!="input"){input=$("input",input.parentNode)[0]}if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput==input){return}var inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!=inst){$.datepicker._curInst.dpDiv.stop(true,true)}var beforeShow=$.datepicker._get(inst,"beforeShow");extendRemove(inst.settings,(beforeShow?beforeShow.apply(input,[input,inst]):{}));inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value=""}if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight}var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")=="fixed";return !isFixed});if(isFixed&&$.browser.opera){$.datepicker._pos[0]-=document.documentElement.scrollLeft;$.datepicker._pos[1]-=document.documentElement.scrollTop}var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim");var duration=$.datepicker._get(inst,"duration");var postProcess=function(){$.datepicker._datepickerShowing=true;var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length){var borders=$.datepicker._getBorders(inst.dpDiv);cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}};inst.dpDiv.zIndex($(input).zIndex()+1);if($.effects&&$.effects[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[showAnim||"show"]((showAnim?duration:null),postProcess)}if(!showAnim||!duration){postProcess()}if(inst.input.is(":visible")&&!inst.input.is(":disabled")){inst.input.focus()}$.datepicker._curInst=inst}},_updateDatepicker:function(inst){var self=this;var borders=$.datepicker._getBorders(inst.dpDiv);inst.dpDiv.empty().append(this._generateHTML(inst));var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length){cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}inst.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).removeClass("ui-datepicker-next-hover")}}).bind("mouseover",function(){if(!self._isDisabledDatepicker(inst.inline?inst.dpDiv.parent()[0]:inst.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).addClass("ui-datepicker-next-hover")}}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();var numMonths=this._getNumberOfMonths(inst);var cols=numMonths[1];var width=17;if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em")}else{inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("")}inst.dpDiv[(numMonths[0]!=1||numMonths[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst==$.datepicker._curInst&&$.datepicker._datepickerShowing&&inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input[0]!=document.activeElement){inst.input.focus()}if(inst.yearshtml){var origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml)}origyearshtml=inst.yearshtml=null},0)}},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:2,thick:3}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth();var dpHeight=inst.dpDiv.outerHeight();var inputWidth=inst.input?inst.input.outerWidth():0;var inputHeight=inst.input?inst.input.outerHeight():0;var viewWidth=document.documentElement.clientWidth+$(document).scrollLeft();var viewHeight=document.documentElement.clientHeight+$(document).scrollTop();offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left==inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top==(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset},_findPos:function(obj){var inst=this._getInst(obj);var isRTL=this._get(inst,"isRTL");while(obj&&(obj.type=="hidden"||obj.nodeType!=1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"]}var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input){var inst=this._curInst;if(!inst||(input&&inst!=$.data(input,PROP_NAME))){return}if(this._datepickerShowing){var showAnim=this._get(inst,"showAnim");var duration=this._get(inst,"duration");var postProcess=function(){$.datepicker._tidyDialog(inst);this._curInst=null};if($.effects&&$.effects[showAnim]){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[(showAnim=="slideDown"?"slideUp":(showAnim=="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess)}if(!showAnim){postProcess()}var onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst])}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if(!$.datepicker._curInst){return}var $target=$(event.target);if($target[0].id!=$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length==0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)){$.datepicker._hideDatepicker()}},_adjustDate:function(id,offset,period){var target=$(id);var inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return}this._adjustInstDate(inst,offset+(period=="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst)},_gotoToday:function(id){var target=$(id);var inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear}else{var date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id);var inst=this._getInst(target[0]);inst._selectingMonthYear=false;inst["selected"+(period=="M"?"Month":"Year")]=inst["draw"+(period=="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target)},_clickMonthYear:function(id){var target=$(id);var inst=this._getInst(target[0]);if(inst.input&&inst._selectingMonthYear){setTimeout(function(){inst.input.focus()},0)}inst._selectingMonthYear=!inst._selectingMonthYear},_selectDay:function(id,month,year,td){var target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return}var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))},_clearDate:function(id){var target=$(id);var inst=this._getInst(target[0]);this._selectDate(target,"")},_selectDate:function(id,dateStr){var target=$(id);var inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr)}this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{if(inst.input){inst.input.trigger("change")}}if(inst.inline){this._updateDatepicker(inst)}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!="object"){inst.input.focus()}this._lastInput=null}},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");var date=this._getDate(inst);var dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""]},iso8601Week:function(date){var checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments"}value=(typeof value=="object"?value.toString():value+"");if(value==""){return null}var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var doy=-1;var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var getNumber=function(match){var isDoubled=lookAhead(match);var size=(match=="@"?14:(match=="!"?20:(match=="y"&&isDoubled?4:(match=="o"?3:2))));var digits=new RegExp("^\\d{1,"+size+"}");var num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue}iValue+=num[0].length;return parseInt(num[0],10)};var getName=function(match,shortNames,longNames){var names=(lookAhead(match)?longNames:shortNames);for(var i=0;i<names.length;i++){if(value.substr(iValue,names[i].length).toLowerCase()==names[i].toLowerCase()){iValue+=names[i].length;return i+1}}throw"Unknown name at position "+iValue};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat)){throw"Unexpected literal at position "+iValue}iValue++};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{checkLiteral()}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":var date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":var date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral()}else{literal=true}break;default:checkLiteral()}}}if(year==-1){year=new Date().getFullYear()}else{if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100)}}if(doy>-1){month=1;day=doy;do{var dim=this._getDaysInMonth(year,month-1);if(day<=dim){break}month++;day-=dim}while(true)}var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day){throw"Invalid date"}return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return""}var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num}}return num};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value])};var output="";var literal=false;if(date){for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{output+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",(date.getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000,3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'"}else{literal=true}break;default:output+=format.charAt(iFormat)}}}}return output},_possibleChars:function(format){var chars="";var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{chars+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'"}else{literal=true}break;default:chars+=format.charAt(iFormat)}}}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()==inst.lastVal){return}var dateFormat=this._get(inst,"dateFormat");var dates=inst.lastVal=inst.input?inst.input.val():null;var date,defaultDate;date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event);dates=(noDefault?"":dates)}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst)},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()))},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date};var offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date();var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();var pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day)};var newDate=(date==null||date===""?defaultDate:(typeof date=="string"?offsetString(date):(typeof date=="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()=="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0)}return this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){if(!date){return null}date.setHours(date.getHours()>12?date.getHours()+2:0);return date},_setDate:function(inst,date,noChange){var clear=!date;var origMonth=inst.selectedMonth;var origYear=inst.selectedYear;var newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!=inst.selectedMonth||origYear!=inst.selectedYear)&&!noChange){this._notifyChange(inst)}this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst))}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()=="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate},_generateHTML:function(inst){var today=new Date();today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,"isRTL");var showButtonPanel=this._get(inst,"showButtonPanel");var hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext");var navigationAsDateFormat=this._get(inst,"navigationAsDateFormat");var numMonths=this._getNumberOfMonths(inst);var showCurrentAtPos=this._get(inst,"showCurrentAtPos");var stepMonths=this._get(inst,"stepMonths");var isMultiMonth=(numMonths[0]!=1||numMonths[1]!=1);var currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var drawMonth=inst.drawMonth-showCurrentAtPos;var drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--}if(maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;var prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));var prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+inst.id+"', -"+stepMonths+", 'M');\" title=\""+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>"));var nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));var next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+inst.id+"', +"+stepMonths+", 'M');\" title=\""+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>"));var currentText=this._get(inst,"currentText");var gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));var controls=(!inst.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(inst,"closeText")+"</button>":"");var buttonPanel=(showButtonPanel)?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+inst.id+"');\">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";var firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);var showWeek=this._get(inst,"showWeek");var dayNames=this._get(inst,"dayNames");var dayNamesShort=this._get(inst,"dayNamesShort");var dayNamesMin=this._get(inst,"dayNamesMin");var monthNames=this._get(inst,"monthNames");var monthNamesShort=this._get(inst,"monthNamesShort");var beforeShowDay=this._get(inst,"beforeShowDay");var showOtherMonths=this._get(inst,"showOtherMonths");var selectOtherMonths=this._get(inst,"selectOtherMonths");var calculateWeek=this._get(inst,"calculateWeek")||this.iso8601Week;var defaultDate=this._getDefaultDate(inst);var html="";for(var row=0;row<numMonths[0];row++){var group="";for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));var cornerClass=" ui-corner-all";var calender="";if(isMultiMonth){calender+='<div class="ui-datepicker-group';if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break}}calender+='">'}calender+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'">'+(/all|left/.test(cornerClass)&&row==0?(isRTL?next:prev):"")+(/all|right/.test(cornerClass)&&row==0?(isRTL?prev:next):"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var thead=(showWeek?'<th class="ui-datepicker-week-col">'+this._get(inst,"weekHeader")+"</th>":"");for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+dayNames[day]+'">'+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)}var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var numRows=(isMultiMonth?6:Math.ceil((leadDays+daysInMonth)/7));var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(var dRow=0;dRow<numRows;dRow++){calender+="<tr>";var tbody=(!showWeek?"":'<td class="ui-datepicker-week-col">'+this._get(inst,"calculateWeek")(printDate)+"</td>");for(var dow=0;dow<7;dow++){var daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);var otherMonth=(printDate.getMonth()!=drawMonth);var unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+='<td class="'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+((printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime())?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()==currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+((!otherMonth||showOtherMonths)&&daySettings[2]?' title="'+daySettings[2]+'"':"")+(unselectable?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+inst.id+"',"+printDate.getMonth()+","+printDate.getFullYear()+', this);return false;"')+">"+(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?'<span class="ui-state-default">'+printDate.getDate()+"</span>":'<a class="ui-state-default'+(printDate.getTime()==today.getTime()?" ui-state-highlight":"")+(printDate.getTime()==currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+'" href="#">'+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++}calender+="</tbody></table>"+(isMultiMonth?"</div>"+((numMonths[0]>0&&col==numMonths[1]-1)?'<div class="ui-datepicker-row-break"></div>':""):"");group+=calender}html+=group}html+=buttonPanel+($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");inst._keyEvent=false;return html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var changeMonth=this._get(inst,"changeMonth");var changeYear=this._get(inst,"changeYear");var showMonthAfterYear=this._get(inst,"showMonthAfterYear");var html='<div class="ui-datepicker-title">';var monthHtml="";if(secondary||!changeMonth){monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+"</span>"}else{var inMinYear=(minDate&&minDate.getFullYear()==drawYear);var inMaxYear=(maxDate&&maxDate.getFullYear()==drawYear);monthHtml+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+inst.id+"', this, 'M');\" onclick=\"DP_jQuery_"+dpuuid+".datepicker._clickMonthYear('#"+inst.id+"');\">";for(var month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNamesShort[month]+"</option>"}}monthHtml+="</select>"}if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")}inst.yearshtml="";if(secondary||!changeYear){html+='<span class="ui-datepicker-year">'+drawYear+"</span>"}else{var years=this._get(inst,"yearRange").split(":");var thisYear=new Date().getFullYear();var determineYear=function(value){var year=(value.match(/c[+-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year)};var year=determineYear(years[0]);var endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+inst.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+dpuuid+".datepicker._clickMonthYear('#"+inst.id+"');\">";for(;year<=endYear;year++){inst.yearshtml+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>"}inst.yearshtml+="</select>";if(!$.browser.mozilla){html+=inst.yearshtml;inst.yearshtml=null}else{html+='<select class="ui-datepicker-year"><option value="'+drawYear+'" selected="selected">'+drawYear+"</option></select>"}}html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml}html+="</div>";return html},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period=="Y"?offset:0);var month=inst.drawMonth+(period=="M"?offset:0);var day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period=="D"?offset:0);var date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period=="M"||period=="Y"){this._notifyChange(inst)}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var newDate=(minDate&&date<minDate?minDate:date);newDate=(maxDate&&newDate>maxDate?maxDate:newDate);return newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst])}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths=="number"?[1,numMonths]:numMonths))},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst);var date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()))}return this._isInRange(inst,date)},_isInRange:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime()))},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear}var date=(day?(typeof day=="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}});function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null||props[name]==undefined){target[name]=props[name]}}return target}function isArray(a){return(a&&(($.browser.safari&&typeof a=="object"&&a.length)||(a.constructor&&a.constructor.toString().match(/\Array\(\)/))))}$.fn.datepicker=function(options){if(!this.length){return this}if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv);$.datepicker.initialized=true}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=="string"&&(options=="isDisabled"||options=="getDate"||options=="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}if(options=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}return this.each(function(){typeof options=="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.8.10";window["DP_jQuery_"+dpuuid]=$})(jQuery);jQuery.fn.extend({insertAtCaret:function(a){return this.each(function(){if(this.selectionStart){var d=this.selectionStart,b=this.selectionEnd,c=this.scrollTop;this.value=this.value.substring(0,d)+a+this.value.substring(b,this.value.length);this.focus();this.selectionStart=d+a.length;this.selectionEnd=d+a.length;this.scrollTop=c}else{this.value+=a;this.focus()}})}});(function(e){e.fn.fixPNG=function(){return this.each(function(){var l=e(this).css("backgroundImage");if(l.match(/^url\(["']?(.*\.png)["']?\)$/i)){l=RegExp.$1;e(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod="+(e(this).css("backgroundRepeat")=="no-repeat"?"crop":"scale")+", src='"+l+"')"}).each(function(){var m=e(this).css("position");if(m!="absolute"&&m!="relative"){e(this).css("position","relative")}})}})};var c,a,h=false,b=new Image,j,k=1,d=/.*/i;var i=null,g=e.browser.msie&&e.browser.version.substr(0,1)==6&&!window.XMLHttpRequest,f=g||(e.browser.msie&&e.browser.version.substr(0,1)==7);e.fn.fancybox=function(m){m=e.extend({},e.fn.fancybox.defaults,m);var u=this;function p(){c=this;a=m;n();return false}function n(){if(h){return}if(e.isFunction(a.callbackOnStart)){a.callbackOnStart()}a.itemArray=[];a.itemCurrent=0;if(m.itemArray.length>0){a.itemArray=m.itemArray}else{var w={};if(!c.rel||c.rel==""){var w={href:c.href,title:c.title};if(e(c).children("img:first").length){w.orig=e(c).children("img:first")}a.itemArray.push(w)}else{var x=e(u).filter("a[rel="+c.rel+"]");var w={};for(var v=0;v<x.length;v++){w={href:x[v].href,title:x[v].title};if(e(x[v]).children("img:first").length){w.orig=e(x[v]).children("img:first")}a.itemArray.push(w)}while(a.itemArray[a.itemCurrent].href!=c.href){a.itemCurrent++}}}if(a.overlayShow){if(g){e("embed, object, select").css("visibility","hidden");e("#fancy_overlay").css("height",e(document).height())}e("#fancy_overlay").css("opacity",a.overlayOpacity).show()}q()}function q(){e("#fancy_right, #fancy_left, #fancy_close, #fancy_title").hide();var v=a.itemArray[a.itemCurrent].href;if(v.match(/#/)){var w=window.location.href.split("#")[0];w=v.replace(w,"");w=w.substr(w.indexOf("#"));o('<div id="fancy_div">'+e(w).html()+"</div>",a.frameWidth,a.frameHeight)}else{if(v.match(d)){b=new Image;b.src=v;if(b.complete){t()}else{e.fn.fancybox.showLoading();e(b).unbind().bind("load",function(){e(".fancy_loading").hide();t()})}}else{if(v.match("iframe")||c.className.indexOf("iframe")>=0){o('<iframe id="fancy_frame" onload="$.fn.fancybox.showIframe()" name="fancy_iframe'+Math.round(Math.random()*1000)+'" frameborder="0" hspace="0" src="'+v+'"></iframe>',a.frameWidth,a.frameHeight)}else{e.get(v,function(x){o('<div id="fancy_ajax">'+x+"</div>",a.frameWidth,a.frameHeight)})}}}}function t(){if(a.imageScale){var x=e.fn.fancybox.getViewport();var z=Math.min(Math.min(x[0]-60,b.width)/b.width,Math.min(x[1]-60,b.height)/b.height);var y=Math.round(z*b.width);var v=Math.round(z*b.height)}else{var y=b.width;var v=b.height}o('<img alt="" id="fancy_img" src="'+b.src+'" />',y,v)}function r(){if((a.itemArray.length-1)>a.itemCurrent){var v=a.itemArray[a.itemCurrent+1].href;if(v.match(d)){objNext=new Image();objNext.src=v}}if(a.itemCurrent>0){var v=a.itemArray[a.itemCurrent-1].href;if(v.match(d)){objNext=new Image();objNext.src=v}}}function o(B,x,D){h=true;var z=a.padding;if(f||i){e("#fancy_content")[0].style.removeExpression("height");e("#fancy_content")[0].style.removeExpression("width")}if(z>0){x+=z*2;D+=z*2;e("#fancy_content").css({top:z+"px",right:z+"px",bottom:z+"px",left:z+"px",width:"auto",height:"auto"});if(f||i){e("#fancy_content")[0].style.setExpression("height","(this.parentNode.clientHeight - "+z*2+")");e("#fancy_content")[0].style.setExpression("width","(this.parentNode.clientWidth - "+z*2+")")}}else{e("#fancy_content").css({top:0,right:0,bottom:0,left:0,width:"100%",height:"100%"})}if(e("#fancy_outer").is(":visible")&&x==e("#fancy_outer").width()&&D==e("#fancy_outer").height()){e("#fancy_content").fadeOut("fast",function(){e("#fancy_content").empty().append(e(B)).fadeIn("normal",function(){l()})});return}var C=e.fn.fancybox.getViewport();var y=(x+36)>C[0]?C[2]:(C[2]+Math.round((C[0]-x-36)/2));var F=(D+50)>C[1]?C[3]:(C[3]+Math.round((C[1]-D-50)/2));var E={left:y,top:F,width:x+"px",height:D+"px"};if(e("#fancy_outer").is(":visible")){e("#fancy_content").fadeOut("normal",function(){e("#fancy_content").empty();e("#fancy_outer").animate(E,a.zoomSpeedChange,a.easingChange,function(){e("#fancy_content").append(e(B)).fadeIn("normal",function(){l()})})})}else{if(a.zoomSpeedIn>0&&a.itemArray[a.itemCurrent].orig!==undefined){e("#fancy_content").empty().append(e(B));var A=a.itemArray[a.itemCurrent].orig;var v=e.fn.fancybox.getPosition(A);e("#fancy_outer").css({left:(v.left-18)+"px",top:(v.top-18)+"px",width:e(A).width(),height:e(A).height()});if(a.zoomOpacity){E.opacity="show"}e("#fancy_outer").animate(E,a.zoomSpeedIn,a.easingIn,function(){l()})}else{e("#fancy_content").hide().empty().append(e(B)).show();e("#fancy_outer").css(E).fadeIn("normal",function(){l()})}}}function s(){if(a.itemCurrent!=0){e("#fancy_left, #fancy_left_ico").unbind().bind("click",function(v){v.stopPropagation();a.itemCurrent--;q();return false});e("#fancy_left").show()}if(a.itemCurrent!=(a.itemArray.length-1)){e("#fancy_right, #fancy_right_ico").unbind().bind("click",function(v){v.stopPropagation();a.itemCurrent++;q();return false});e("#fancy_right").show()}}function l(){if(e.browser.msie){e("#fancy_content")[0].style.removeAttribute("filter");e("#fancy_outer")[0].style.removeAttribute("filter")}s();r();e(document).keydown(function(v){if(v.keyCode==27){e.fn.fancybox.close();e(document).unbind("keydown")}else{if(v.keyCode==37&&a.itemCurrent!=0){a.itemCurrent--;q();e(document).unbind("keydown")}else{if(v.keyCode==39&&a.itemCurrent!=(a.itemArray.length-1)){a.itemCurrent++;q();e(document).unbind("keydown")}}}});if(a.centerOnScroll){e(window).bind("resize scroll",e.fn.fancybox.scrollBox)}else{e("div#fancy_outer").css("position","absolute")}if(a.hideOnContentClick){e("#fancy_wrap").click(e.fn.fancybox.close)}e("#fancy_overlay, #fancy_close").bind("click",e.fn.fancybox.close);e("#fancy_close").show();if(a.itemArray[a.itemCurrent].title!==undefined&&a.itemArray[a.itemCurrent].title.length>0){e("#fancy_title div").html(a.itemArray[a.itemCurrent].title);e("#fancy_title").show()}if(a.overlayShow&&g){e("embed, object, select",e("#fancy_content")).css("visibility","visible")}if(e.isFunction(a.callbackOnShow)){a.callbackOnShow()}if(e.browser.msie){e("#fancy_outer")[0].style.removeAttribute("filter");e("#fancy_content")[0].style.removeAttribute("filter")}h=false}return this.unbind("click").click(p)};e.fn.fancybox.scrollBox=function(){var l=e.fn.fancybox.getViewport();e("#fancy_outer").css("left",((e("#fancy_outer").width()+36)>l[0]?l[2]:l[2]+Math.round((l[0]-e("#fancy_outer").width()-36)/2)));e("#fancy_outer").css("top",((e("#fancy_outer").height()+50)>l[1]?l[3]:l[3]+Math.round((l[1]-e("#fancy_outer").height()-50)/2)))};e.fn.fancybox.getNumeric=function(l,m){return parseInt(e.curCSS(l.jquery?l[0]:l,m,true))||0};e.fn.fancybox.getPosition=function(l){var m=l.offset();m.top+=e.fn.fancybox.getNumeric(l,"paddingTop");m.top+=e.fn.fancybox.getNumeric(l,"borderTopWidth");m.left+=e.fn.fancybox.getNumeric(l,"paddingLeft");m.left+=e.fn.fancybox.getNumeric(l,"borderLeftWidth");return m};e.fn.fancybox.showIframe=function(){e(".fancy_loading").hide();e("#fancy_frame").show()};e.fn.fancybox.getViewport=function(){return[e(window).width(),e(window).height(),e(document).scrollLeft(),e(document).scrollTop()]};e.fn.fancybox.animateLoading=function(){if(!e("#fancy_loading").is(":visible")){clearInterval(j);return}e("#fancy_loading > div").css("top",(k*-40)+"px");k=(k+1)%12};e.fn.fancybox.showLoading=function(){clearInterval(j);var l=e.fn.fancybox.getViewport();e("#fancy_loading").css({left:((l[0]-40)/2+l[2]),top:((l[1]-40)/2+l[3])}).show();e("#fancy_loading").bind("click",e.fn.fancybox.close);j=setInterval(e.fn.fancybox.animateLoading,66)};e.fn.fancybox.close=function(){h=true;e(b).unbind();e("#fancy_overlay, #fancy_close").unbind();if(a.hideOnContentClick){e("#fancy_wrap").unbind()}e("#fancy_close, .fancy_loading, #fancy_left, #fancy_right, #fancy_title").hide();if(a.centerOnScroll){e(window).unbind("resize scroll")}__cleanup=function(){e("#fancy_overlay, #fancy_outer").hide();if(a.centerOnScroll){e(window).unbind("resize scroll")}if(g){e("embed, object, select").css("visibility","visible")}if(e.isFunction(a.callbackOnClose)){a.callbackOnClose()}h=false};if(e("#fancy_outer").is(":visible")!==false){if(a.zoomSpeedOut>0&&a.itemArray[a.itemCurrent].orig!==undefined){var m=a.itemArray[a.itemCurrent].orig;var l=e.fn.fancybox.getPosition(m);var n={left:(l.left-18)+"px",top:(l.top-18)+"px",width:e(m).width(),height:e(m).height()};if(a.zoomOpacity){n.opacity="hide"}e("#fancy_outer").stop(false,true).animate(n,a.zoomSpeedOut,a.easingOut,__cleanup)}else{e("#fancy_outer").stop(false,true).fadeOut("fast",__cleanup)}}else{__cleanup()}return false};e.fn.fancybox.build=function(){var l="";l+='<div id="fancy_overlay"></div>';l+='<div id="fancy_wrap">';l+='<div class="fancy_loading" id="fancy_loading"><div id="fancy_loading_spinner"></div></div>';l+='<div id="fancy_outer">';l+='<div id="fancy_inner">';l+='<div id="fancy_close"></div>';l+='<div id="fancy_bg"><div class="fancy_bg fancy_bg_n"></div><div class="fancy_bg fancy_bg_ne"></div><div class="fancy_bg fancy_bg_e"></div><div class="fancy_bg fancy_bg_se"></div><div class="fancy_bg fancy_bg_s"></div><div class="fancy_bg fancy_bg_sw"></div><div class="fancy_bg fancy_bg_w"></div><div class="fancy_bg fancy_bg_nw"></div></div>';l+='<a href="javascript:;" id="fancy_left"><span class="fancy_ico" id="fancy_left_ico"></span></a><a href="javascript:;" id="fancy_right"><span class="fancy_ico" id="fancy_right_ico"></span></a>';l+='<div id="fancy_content"></div>';l+='<div id="fancy_title"></div>';l+="</div>";l+="</div>";l+="</div>";e(l).appendTo("body");e('<table cellspacing="0" cellpadding="0" border="0"><tr><td class="fancy_title" id="fancy_title_left"></td><td class="fancy_title" id="fancy_title_main"><div></div></td><td class="fancy_title" id="fancy_title_right"></td></tr></table>').appendTo("#fancy_title");if(e.browser.msie){e(".fancy_bg").fixPNG()}if(g){e("div#fancy_overlay").css("position","absolute");e("#fancy_loading div, #fancy_close, .fancy_title, .fancy_ico").fixPNG();e("#fancy_inner").prepend('<iframe id="fancy_bigIframe" src="javascript:false;" scrolling="no" frameborder="0"></iframe>');var m=e("#fancy_bigIframe")[0].contentWindow.document;m.open();m.close()}};e.fn.fancybox.defaults={padding:10,imageScale:true,zoomOpacity:false,zoomSpeedIn:0,zoomSpeedOut:0,zoomSpeedChange:300,easingIn:"swing",easingOut:"swing",easingChange:"swing",frameWidth:425,frameHeight:355,overlayShow:true,overlayOpacity:0.3,hideOnContentClick:true,centerOnScroll:true,itemArray:[],callbackOnStart:null,callbackOnShow:null,callbackOnClose:null};e(document).ready(function(){e.fn.fancybox.build()})})(jQuery);(function(a){a.fn.bubble=function(l){var d=a.extend({},a.fn.bubble.defaults,l);var h=a(d.bubble);var f=null;var j=null;var i=false;var g=function(y,s){j=null;if(!i){if(d.onShow){d.onShow(y[0])}var x=a(window);var p=null;var n=0;if(s){p={top:s.pageY,left:s.pageX+10}}else{p=y.offset();n=y.outerWidth()}var u=x.height()+x.scrollTop();var r=u-h.height()-15;if(p.top>r){var v=r}else{var v=p.top}var q=x.width()+x.scrollLeft();var m=q-h.width()-15;if(p.left+n>m){var o=m}else{var o=p.left+n}h.css({top:v,left:o,display:"block"}).show();i=true}};var c=function(m){if(d.onHide){d.onHide(m[0])}f=null;h.hide();i=false};var e=null;if(d.toggleEvent=="hover"){this.unbind("mouseover");this.mouseover(function(n){var m=a(this);if(e){if(this!=e){e=this;c(m)}}else{e=this}if(f){clearTimeout(f)}if(j){return}j=setTimeout(function(){g(m)},d.showDelay);return false});h.unbind("mouseover");h.mouseover(function(){if(f){clearTimeout(f)}f=null;return false});var b=a(this.get()).add(h[0]);b.unbind("mouseout");b.mouseout(function(n){var m=a(this);if(j){clearTimeout(j);j=null}if(f){clearTimeout(f)}f=setTimeout(function(){c(m)},d.hideDelay);return false})}if(d.toggleEvent=="click"){this.unbind("click");this.click(function(n){var m=a(this);h.unbind("click.bubble");h.bind("click.bubble",function(o){o.stopPropagation()});a(window).unbind("click.bubble");a(window).bind("click.bubble",function(o){if(i){c(a(this))}});g(m);return false})}var k=this;this.hide=function(){c(a(k))};this.show=function(m){g(a(k),m)};return this};a.fn.bubble.defaults={offsetX:15,offsetY:0,toggleEvent:"hover",showDelay:500,onShow:null,hideDelay:500,onHide:null,autoHide:true}})(jQuery);"use strict";(function(a){a.vakata={};a.vakata.css={get_css:function(f,c,d){f=f.toLowerCase();var e=d.cssRules||d.rules,b=0;do{if(e.length&&b>e.length+5){return false}if(e[b].selectorText&&e[b].selectorText.toLowerCase()==f){if(c===true){if(d.removeRule){d.removeRule(b)}if(d.deleteRule){d.deleteRule(b)}return true}else{return e[b]}}}while(e[++b]);return false},add_css:function(c,b){if(a.jstree.css.get_css(c,false,b)){return false}if(b.insertRule){b.insertRule(c+" { }",0)}else{b.addRule(c,null,0)}return a.vakata.css.get_css(c)},remove_css:function(c,b){return a.vakata.css.get_css(c,true,b)},add_sheet:function(c){var b;if(c.str){b=document.createElement("style");b.setAttribute("type","text/css");if(b.styleSheet){document.getElementsByTagName("head")[0].appendChild(b);b.styleSheet.cssText=c.str}else{b.appendChild(document.createTextNode(c.str));document.getElementsByTagName("head")[0].appendChild(b)}return b.sheet||b.styleSheet}if(c.url){if(document.createStyleSheet){try{b=document.createStyleSheet(c.url)}catch(d){}}else{b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.media="all";b.href=c.url;document.getElementsByTagName("head")[0].appendChild(b);return b.styleSheet}}}}})(jQuery);(function(e){var f=[],c=-1,b={},a={},d=false;e.fn.jstree=function(j){var g=(typeof j=="string"),h=Array.prototype.slice.call(arguments,1),i=this;if(!g&&e.meta){h.push(e.metadata.get(this).jstree)}j=!g&&h.length?e.extend.apply(null,[true,j].concat(h)):j;if(g&&j.substring(0,1)=="_"){return i}if(g){this.each(function(){var k=f[e.data(this,"jstree-instance-id")],l=(k&&e.isFunction(k[j]))?k[j].apply(k,h):k;if(typeof l!=="undefined"&&(j.indexOf("is_"===0)||(l!==true&&l!==false))){i=l;return false}})}else{this.each(function(){var l=e.data(this,"jstree-instance-id"),k=false;if(typeof l!=="undefined"&&f[l]){f[l].destroy()}l=parseInt(f.push({}),10)-1;e.data(this,"jstree-instance-id",l);if(!j){j={}}j.plugins=e.isArray(j.plugins)?j.plugins:e.jstree.defaults.plugins;if(e.inArray("core",j.plugins)===-1){j.plugins.unshift("core")}k=e.extend(true,{},e.jstree.defaults,j);k.plugins=j.plugins;e.each(b,function(m,n){if(e.inArray(m,k.plugins)===-1){k[m]=null;delete k[m]}});f[l]=new e.jstree._instance(l,e(this).addClass("jstree jstree-"+l),k);e.each(f[l]._get_settings().plugins,function(m,n){f[l].data[n]={}});e.each(f[l]._get_settings().plugins,function(m,n){if(b[n]){b[n].__init.apply(f[l])}});f[l].init()})}return i};e.jstree={defaults:{plugins:[]},_focused:function(){return f[c]||null},_reference:function(g){if(f[g]){return f[g]}var h=e(g);if(!h.length&&typeof g==="string"){h=e("#"+g)}if(!h.length){return null}return f[h.closest(".jstree").data("jstree-instance-id")]||null},_instance:function(h,g,i){this.data={core:{}};this.get_settings=function(){return e.extend(true,{},i)};this._get_settings=function(){return i};this.get_index=function(){return h};this.get_container=function(){return g};this._set_settings=function(j){i=e.extend(true,{},i,j)}},_fn:{},plugin:function(g,h){h=e.extend({},{__init:e.noop,__destroy:e.noop,_fn:{},defaults:false},h);b[g]=h;e.jstree.defaults[g]=h.defaults;e.each(h._fn,function(j,k){k.plugin=g;k.old=e.jstree._fn[j];e.jstree._fn[j]=function(){var i,m=k,l=Array.prototype.slice.call(arguments),o=new e.Event("before.jstree"),n=false;do{if(m&&m.plugin&&e.inArray(m.plugin,this._get_settings().plugins)!==-1){break}m=m.old}while(m);if(!m){return}i=this.get_container().triggerHandler(o,{func:j,inst:this,args:l});if(i===false){return}if(typeof i!=="undefined"){l=i}if(j.indexOf("_")===0){i=m.apply(this,l)}else{i=m.apply(e.extend({},this,{__callback:function(p){this.get_container().triggerHandler(j+".jstree",{inst:this,args:l,rslt:p,rlbk:n})},__rollback:function(){n=this.get_rollback();return n},__call_old:function(p){return m.old.apply(this,(p?Array.prototype.slice.call(arguments,1):l))}}),l)}return i};e.jstree._fn[j].old=k.old;e.jstree._fn[j].plugin=g})},rollback:function(g){if(g){if(!e.isArray(g)){g=[g]}e.each(g,function(h,j){f[j.i].set_rollback(j.h,j.d)})}}};e.jstree._fn=e.jstree._instance.prototype={};e.jstree.plugin("core",{__init:function(){this.data.core.to_open=e.map(e.makeArray(this.get_settings().core.initially_open),function(g){return"#"+g.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/")})},defaults:{html_titles:false,animation:500,initially_open:[],rtl:false,strings:{loading:"Loading ...",new_node:"New node"}},_fn:{init:function(){this.set_focus();if(this._get_settings().core.rtl){this.get_container().addClass("jstree-rtl").css("direction","rtl")}this.data.core.li_height=this.get_container().find("ul li.jstree-closed, ul li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li > ins","click.jstree",e.proxy(function(h){var g=e(h.target);if(g.is("ins")&&h.pageY-g.offset().top<this.data.core.li_height){this.toggle_node(g)}},this)).bind("mousedown.jstree",e.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(h){var i;if(document.selection&&document.selection.empty){document.selection.empty()}else{if(window.getSelection){i=window.getSelection();try{i.removeAllRanges();i.collapse()}catch(g){}}}});this.__callback();this.load_node(-1,function(){this.loaded();this.reopen()})},destroy:function(){var g,k=this.get_index(),h=this._get_settings(),j=this;e.each(h.plugins,function(l,n){try{b[n].__destroy.apply(j)}catch(m){}});this.__callback();if(this.is_focused()){for(g in f){if(f.hasOwnProperty(g)&&g!=k){f[g].set_focus();break}}}if(k===c){c=-1}this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree-instance-id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});f[k]=null;delete f[k]},save_opened:function(){var g=this;this.data.core.to_open=[];this.get_container().find(".jstree-open").each(function(){g.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/"))});this.__callback(g.data.core.to_open)},reopen:function(h){var k=this,g=true,j=[],i=[];if(!h){this.data.core.reopen=false;this.data.core.refreshing=true}if(this.data.core.to_open.length){e.each(this.data.core.to_open,function(l,m){if(m=="#"){return true}if(e(m).length&&e(m).is(".jstree-closed")){j.push(m)}else{i.push(m)}});if(j.length){this.data.core.to_open=i;e.each(j,function(l,m){k.open_node(m,function(){k.reopen(true)},true)});g=false}}if(g){if(this.data.core.reopen){clearTimeout(this.data.core.reopen)}this.data.core.reopen=setTimeout(function(){k.__callback({},k)},50);this.data.core.refreshing=false}},refresh:function(g){var h=this;this.save_opened();if(!g){g=-1}g=this._get_node(g);if(!g){g=-1}if(g!==-1){g.children("UL").remove()}this.load_node(g,function(){h.__callback({obj:g});h.reopen()})},loaded:function(){this.__callback()},set_focus:function(){var g=e.jstree._focused();if(g&&g!==this){g.get_container().removeClass("jstree-focused")}if(g!==this){this.get_container().addClass("jstree-focused");c=this.get_index()}this.__callback()},is_focused:function(){return c==this.get_index()},_get_node:function(g){var h=e(g,this.get_container());if(h.is(".jstree")||g==-1){return -1}h=h.closest("li",this.get_container());return h.length?h:false},_get_next:function(h,g){h=this._get_node(h);if(h===-1){return this.get_container().find("> ul > li:first-child")}if(!h.length){return false}if(g){return(h.nextAll("li").size()>0)?h.nextAll("li:eq(0)"):false}if(h.hasClass("jstree-open")){return h.find("li:eq(0)")}else{if(h.nextAll("li").size()>0){return h.nextAll("li:eq(0)")}else{return h.parentsUntil(".jstree","li").next("li").eq(0)}}},_get_prev:function(h,g){h=this._get_node(h);if(h===-1){return this.get_container().find("> ul > li:last-child")}if(!h.length){return false}if(g){return(h.prevAll("li").length>0)?h.prevAll("li:eq(0)"):false}if(h.prev("li").length){h=h.prev("li").eq(0);while(h.hasClass("jstree-open")){h=h.children("ul:eq(0)").children("li:last")}return h}else{var i=h.parentsUntil(".jstree","li:eq(0)");return i.length?i:false}},_get_parent:function(g){g=this._get_node(g);if(g==-1||!g.length){return false}var h=g.parentsUntil(".jstree","li:eq(0)");return h.length?h:-1},_get_children:function(g){g=this._get_node(g);if(g===-1){return this.get_container().children("ul:eq(0)").children("li")}if(!g.length){return false}return g.children("ul:eq(0)").children("li")},get_path:function(i,g){var h=[],j=this;i=this._get_node(i);if(i===-1||!i||!i.length){return false}i.parentsUntil(".jstree","li").each(function(){h.push(g?this.id:j.get_text(this))});h.reverse();h.push(g?i.attr("id"):this.get_text(i));return h},is_open:function(g){g=this._get_node(g);return g&&g!==-1&&g.hasClass("jstree-open")},is_closed:function(g){g=this._get_node(g);return g&&g!==-1&&g.hasClass("jstree-closed")},is_leaf:function(g){g=this._get_node(g);return g&&g!==-1&&g.hasClass("jstree-leaf")},open_node:function(j,k,h){j=this._get_node(j);if(!j.length){return false}if(!j.hasClass("jstree-closed")){if(k){k.call()}return false}var i=h||d?0:this._get_settings().core.animation,g=this;if(!this._is_loaded(j)){j.children("a").addClass("jstree-loading");this.load_node(j,function(){g.open_node(j,k,h)},k)}else{if(i){j.children("ul").css("display","none")}j.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading");if(i){j.children("ul").stop(true).slideDown(i,function(){this.style.display=""})}this.__callback({obj:j});if(k){k.call()}}},close_node:function(i,g){i=this._get_node(i);var h=g||d?0:this._get_settings().core.animation;if(!i.length||!i.hasClass("jstree-open")){return false}if(h){i.children("ul").attr("style","display:block !important")}i.removeClass("jstree-open").addClass("jstree-closed");if(h){i.children("ul").stop(true).slideUp(h,function(){this.style.display=""})}this.__callback({obj:i})},toggle_node:function(g){g=this._get_node(g);if(g.hasClass("jstree-closed")){return this.open_node(g)}if(g.hasClass("jstree-open")){return this.close_node(g)}},open_all:function(h,g){h=h?this._get_node(h):this.get_container();if(!h||h===-1){h=this.get_container()}if(g){h=h.find("li.jstree-closed")}else{g=h;if(h.is(".jstree-closed")){h=h.find("li.jstree-closed").andSelf()}else{h=h.find("li.jstree-closed")}}var i=this;h.each(function(){var j=this;if(!i._is_loaded(this)){i.open_node(this,function(){i.open_all(j,g)},true)}else{i.open_node(this,false,true)}});if(g.find("li.jstree-closed").length===0){this.__callback({obj:g})}},close_all:function(g){var h=this;g=g?this._get_node(g):this.get_container();if(!g||g===-1){g=this.get_container()}g.find("li.jstree-open").andSelf().each(function(){h.close_node(this)});this.__callback({obj:g})},clean_node:function(g){g=g&&g!=-1?e(g):this.get_container();g=g.is("li")?g.find("li").andSelf():g.find("li");g.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");g.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:g})},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(true),d:this.data}},set_rollback:function(g,h){this.get_container().empty().append(g);this.data=h;this.__callback()},load_node:function(i,g,h){this.__callback({obj:i})},_is_loaded:function(g){return true},create_node:function(l,g,k,n,h){l=this._get_node(l);g=typeof g==="undefined"?"last":g;var m=e("<li>"),j=this._get_settings().core,i;if(l!==-1&&!l.length){return false}if(!h&&!this._is_loaded(l)){this.load_node(l,function(){this.create_node(l,g,k,n,true)});return false}this.__rollback();if(typeof k==="string"){k={data:k}}if(!k){k={}}if(k.attr){m.attr(k.attr)}if(k.state){m.addClass("jstree-"+k.state)}if(!k.data){k.data=j.strings.new_node}if(!e.isArray(k.data)){i=k.data;k.data=[];k.data.push(i)}e.each(k.data,function(p,o){i=e("<a>");if(e.isFunction(o)){o=o.call(this,k)}if(typeof o=="string"){i.attr("href","#")[j.html_titles?"html":"text"](o)}else{if(!o.attr){o.attr={}}if(!o.attr.href){o.attr.href="#"}i.attr(o.attr)[j.html_titles?"html":"text"](o.title);if(o.language){i.addClass(o.language)}}i.prepend("<ins class='jstree-icon'>&#160;</ins>");if(o.icon){if(o.icon.indexOf("/")===-1){i.children("ins").addClass(o.icon)}else{i.children("ins").css("background","url('"+o.icon+"') center center no-repeat")}}m.append(i)});m.prepend("<ins class='jstree-icon'>&#160;</ins>");if(l===-1){l=this.get_container();if(g==="before"){g="first"}if(g==="after"){g="last"}}switch(g){case"before":l.before(m);i=this._get_parent(l);break;case"after":l.after(m);i=this._get_parent(l);break;case"inside":case"first":if(!l.children("ul").length){l.append("<ul>")}l.children("ul").prepend(m);i=l;break;case"last":if(!l.children("ul").length){l.append("<ul>")}l.children("ul").append(m);i=l;break;default:if(!l.children("ul").length){l.append("<ul>")}if(!g){g=0}i=l.children("ul").children("li").eq(g);if(i.length){i.before(m)}else{l.children("ul").append(m)}i=l;break}if(i===-1||i.get(0)===this.get_container().get(0)){i=-1}this.clean_node(i);this.__callback({obj:m,parent:i});if(n){n.call(this,m)}return m},get_text:function(h){h=this._get_node(h);if(!h.length){return false}var g=this._get_settings().core.html_titles;h=h.children("a:eq(0)");if(g){h=h.clone();h.children("INS").remove();return h.html()}else{h=h.contents().filter(function(){return this.nodeType==3})[0];return h.nodeValue}},set_text:function(h,i){h=this._get_node(h);if(!h.length){return false}h=h.children("a:eq(0)");if(this._get_settings().core.html_titles){var g=h.children("INS").clone();h.html(i).prepend(g);this.__callback({obj:h,name:i});return true}else{h=h.contents().filter(function(){return this.nodeType==3})[0];this.__callback({obj:h,name:i});return(h.nodeValue=i)}},rename_node:function(g,h){g=this._get_node(g);this.__rollback();if(g&&g.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))){this.__callback({obj:g,name:h})}},delete_node:function(i){i=this._get_node(i);if(!i.length){return false}this.__rollback();var h=this._get_parent(i),g=this._get_prev(i);i=i.remove();if(h!==-1&&h.find("> ul > li").length===0){h.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")}this.clean_node(h);this.__callback({obj:i,prev:g});return i},prepare_move:function(k,i,l,g,h){var j={};j.ot=e.jstree._reference(j.o)||this;j.o=j.ot._get_node(k);j.r=i===-1?-1:this._get_node(i);j.p=(typeof j==="undefined")?"last":l;if(!h&&a.o&&a.o[0]===j.o[0]&&a.r[0]===j.r[0]&&a.p===j.p){this.__callback(a);if(g){g.call(this,a)}return}j.ot=e.jstree._reference(j.o)||this;j.rt=i===-1?j.ot:e.jstree._reference(j.r)||this;if(j.r===-1){j.cr=-1;switch(j.p){case"first":case"before":case"inside":j.cp=0;break;case"after":case"last":j.cp=j.rt.get_container().find(" > ul > li").length;break;default:j.cp=j.p;break}}else{if(!/^(before|after)$/.test(j.p)&&!this._is_loaded(j.r)){return this.load_node(j.r,function(){this.prepare_move(k,i,l,g,true)})}switch(j.p){case"before":j.cp=j.r.index();j.cr=j.rt._get_parent(j.r);break;case"after":j.cp=j.r.index()+1;j.cr=j.rt._get_parent(j.r);break;case"inside":case"first":j.cp=0;j.cr=j.r;break;case"last":j.cp=j.r.find(" > ul > li").length;j.cr=j.r;break;default:j.cp=j.p;j.cr=j.r;break}}j.np=j.cr==-1?j.rt.get_container():j.cr;j.op=j.ot._get_parent(j.o);j.or=j.np.find(" > ul > li:nth-child("+(j.cp+1)+")");j.e=k.e;a=j;this.__callback(a);if(g){g.call(this,a)}},check_move:function(){return true;if(this.data.dnd.is_copy){return true}var h=a,g=true;if(h.or[0]===h.o[0]){return false}h.o.each(function(){if(h.r.parentsUntil(".jstree").andSelf().filter("li").index(this)!==-1){g=false;return false}});return g},move_node:function(l,j,g,i,h,k){if(!h){return this.prepare_move(l,j,g,function(n){this.move_node(n,false,false,i,true,k)})}if(!k&&!this.check_move()){return false}this.__rollback();var m=l.o;this.__callback(a);return a},_get_move:function(){return a}}})})(jQuery);(function(a){a.jstree.plugin("ui",{__init:function(){this.data.ui.selected=a();this.data.ui.last_selected=false;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",a.proxy(function(b){b.preventDefault();if(a.vakata.dnd.ignore_click){a.vakata.dnd.ignore_click=false;return}this.select_node(b.currentTarget,true,b)},this)).delegate("a","mouseenter.jstree",a.proxy(function(b){this.hover_node(b.target)},this)).delegate("a","mouseleave.jstree",a.proxy(function(b){this.dehover_node(b.target)},this)).bind("reopen.jstree",a.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",a.proxy(function(){this.dehover_node();this.save_selected()},this)).bind("set_rollback.jstree",a.proxy(function(){this.reselect()},this)).bind("close_node.jstree",a.proxy(function(c,d){var b=this._get_settings().ui,e=this._get_node(d.rslt.obj),f=(e&&e.length)?e.children("ul").find(".jstree-clicked"):a(),g=this;if(b.selected_parent_close===false||!f.length){return}f.each(function(){g.deselect_node(this);if(b.selected_parent_close==="select_parent"){g.select_node(e)}})},this)).bind("delete_node.jstree",a.proxy(function(c,d){var b=this._get_settings().ui.select_prev_on_delete,e=this._get_node(d.rslt.obj),f=(e&&e.length)?e.find(".jstree-clicked"):[],g=this;f.each(function(){g.deselect_node(this)});if(b&&f.length){this.select_node(d.rslt.prev)}},this)).bind("move_node.jstree",a.proxy(function(b,c){if(c.rslt.cy){c.rslt.oc.find(".jstree-clicked").removeClass("jstree-clicked")}},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",selected_parent_close:"select_parent",select_prev_on_delete:true,disable_selecting_children:false,initially_select:[]},_fn:{_get_node:function(b,c){if(typeof b==="undefined"||b===null){return c?this.data.ui.selected:this.data.ui.last_selected}var d=a(b,this.get_container());if(d.is(".jstree")||b==-1){return -1}d=d.closest("li",this.get_container());return d.length?d:false},save_selected:function(){var b=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){b.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/"))});this.__callback(this.data.ui.to_select)},reselect:function(){var c=this,b=this.data.ui.to_select;b=a.map(a.makeArray(b),function(d){return"#"+d.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/")});this.deselect_all();a.each(b,function(d,e){if(e&&e!=="#"){c.select_node(e)}});this.__callback()},refresh:function(b){this.save_selected();return this.__call_old()},hover_node:function(b){b=this._get_node(b);if(!b.length){return false}if(!b.hasClass("jstree-hovered")){this.dehover_node()}this.data.ui.hovered=b.children("a").addClass("jstree-hovered").parent();this.__callback({obj:b})},dehover_node:function(){var c=this.data.ui.hovered,b;if(!c||!c.length){return false}b=c.children("a").removeClass("jstree-hovered").parent();if(this.data.ui.hovered[0]===b[0]){this.data.ui.hovered=null}this.__callback({obj:c})},select_node:function(h,b,g){h=this._get_node(h);if(h==-1||!h||!h.length){return false}var d=this._get_settings().ui,c=(d.select_multiple_modifier=="on"||(d.select_multiple_modifier!==false&&g&&g[d.select_multiple_modifier+"Key"])),i=this.is_selected(h),f=true;if(b){if(d.disable_selecting_children&&c&&h.parents("li",this.get_container()).children(".jstree-clicked").length){return false}f=false;switch(!0){case (i&&!c):this.deselect_all();i=false;f=true;break;case (!i&&!c):if(d.select_limit==-1||d.select_limit>0){this.deselect_all();f=true}break;case (i&&c):this.deselect_node(h);break;case (!i&&c):if(d.select_limit==-1||this.data.ui.selected.length+1<=d.select_limit){f=true}break}}if(f&&!i){h.children("a").addClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.add(h);this.data.ui.last_selected=h;this.__callback({obj:h})}},deselect_node:function(b){b=this._get_node(b);if(!b.length){return false}if(this.is_selected(b)){b.children("a").removeClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.not(b);if(this.data.ui.last_selected.get(0)===b.get(0)){this.data.ui.last_selected=this.data.ui.selected.eq(0)}this.__callback({obj:b})}},toggle_select:function(b){b=this._get_node(b);if(!b.length){return false}if(this.is_selected(b)){this.deselect_node(b)}else{this.select_node(b)}},is_selected:function(b){return this.data.ui.selected.index(this._get_node(b))>=0},get_selected:function(b){return b?a(b).find(".jstree-clicked").parent():this.data.ui.selected},deselect_all:function(b){if(b){a(b).find(".jstree-clicked").removeClass("jstree-clicked")}else{this.get_container().find(".jstree-clicked").removeClass("jstree-clicked")}this.data.ui.selected=a([]);this.data.ui.last_selected=false;this.__callback()}}});a.jstree.defaults.plugins.push("ui")})(jQuery);(function(a){a.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",a.proxy(function(d,c){if(this._get_settings().crrm.move.open_onmove){var b=this;c.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){b.open_node(this,false,true)})}},this))},defaults:{input_width_limit:200,move:{always_copy:false,open_onmove:true,default_position:"last",check_move:function(b){return true}}},_fn:{_show_input:function(b,i){b=this._get_node(b);var g=this._get_settings().core.rtl,h=this._get_settings().crrm.input_width_limit,d=b.children("ins").width(),c=b.find("> a:visible > ins").width()*b.find("> a:visible > ins").length,j=this.get_text(b),f=a("<div>",{css:{position:"absolute",top:"-200px",left:(g?"0px":"-1000px"),visibility:"hidden"}}).appendTo("body"),e=b.css("position","relative").append(a("<input>",{value:j,css:{padding:"0",border:"1px solid silver",position:"absolute",left:(g?"auto":(d+c+4)+"px"),right:(g?(d+c+4)+"px":"auto"),top:"0px",height:(this.data.core.li_height-2)+"px",lineHeight:(this.data.core.li_height-2)+"px",width:"150px"},blur:a.proxy(function(){var l=b.children("input"),k=l.val();if(k===""){k=j}l.remove();this.set_text(b,j);this.rename_node(b,k);i.call(this,b,k,j);b.css("position","")},this),keyup:function(l){var k=l.keyCode||l.which;if(k==27){this.value=j;this.blur();return}else{if(k==13){this.blur();return}else{e.width(Math.min(f.text("pW"+this.value).width(),h))}}}})).children("input");this.set_text(b,"");f.css({fontFamily:e.css("fontFamily")||"",fontSize:e.css("fontSize")||"",fontWeight:e.css("fontWeight")||"",fontStyle:e.css("fontStyle")||"",fontStretch:e.css("fontStretch")||"",fontVariant:e.css("fontVariant")||"",letterSpacing:e.css("letterSpacing")||"",wordSpacing:e.css("wordSpacing")||""});e.width(Math.min(f.text("pW"+e[0].value).width(),h))[0].select()},rename:function(c){c=this._get_node(c);this.__rollback();var b=this.__callback;this._show_input(c,function(f,e,d){b.call(this,{obj:f,new_name:e,old_name:d})})},create:function(f,c,e,h,b){var d,g=this;f=this._get_node(f);if(!f){f=-1}this.__rollback();d=this.create_node(f,c,e,function(i){var j=this._get_parent(i),k=a(i).index();if(h){h.call(this,i)}if(j.length&&j.hasClass("jstree-closed")){this.open_node(j,false,true)}if(!b){this._show_input(i,function(n,m,l){g.__callback({obj:n,name:m,parent:j,position:k})})}else{g.__callback({obj:i,name:this.get_text(i),parent:j,position:k})}});return d},remove:function(b){b=this._get_node(b,true);this.__rollback();this.delete_node(b);this.__callback({obj:b})},check_move:function(){if(!this.__call_old()){return false}var b=this._get_settings().crrm.move;if(!b.check_move.call(this,this._get_move())){return false}return true},move_node:function(h,f,b,d,c,g){var e=this._get_settings().crrm.move;if(!c){if(!b){b=e.default_position}if(b==="inside"&&!e.default_position.match(/^(before|after)$/)){b=e.default_position}return this.__call_old(true,h,f,b,d,false,g)}if(e.always_copy===true||(e.always_copy==="multitree"&&h.rt.get_index()!==h.ot.get_index())){d=true}this.__call_old(true,h,f,b,d,true,g)},cut:function(b){b=this._get_node(b);this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=false;if(!b||!b.length){return false}this.data.crrm.ct_nodes=b},copy:function(b){b=this._get_node(b);this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=false;if(!b||!b.length){return false}this.data.crrm.cp_nodes=b},paste:function(b){b=this._get_node(b);if(!b||!b.length){return false}if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes){return false}if(this.data.crrm.ct_nodes){this.move_node(this.data.crrm.ct_nodes,b)}if(this.data.crrm.cp_nodes){this.move_node(this.data.crrm.cp_nodes,b,false,true)}this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=false}}});a.jstree.defaults.plugins.push("crrm")})(jQuery);(function(a){var b=[];a.jstree._themes=false;a.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",a.proxy(function(){var c=this._get_settings().themes;this.data.themes.dots=c.dots;this.data.themes.icons=c.icons;this.set_theme(c.theme,c.url)},this)).bind("loaded.jstree",a.proxy(function(){if(!this.data.themes.dots){this.hide_dots()}else{this.show_dots()}if(!this.data.themes.icons){this.hide_icons()}else{this.show_icons()}},this))},defaults:{theme:"default",url:false,dots:true,icons:true},_fn:{set_theme:function(d,c){if(!d){return false}if(this.data.themes.theme!=d){this.get_container().removeClass("jstree-"+this.data.themes.theme);this.data.themes.theme=d}this.get_container().addClass("jstree-"+d);if(!this.data.themes.dots){this.hide_dots()}else{this.show_dots()}if(!this.data.themes.icons){this.hide_icons()}else{this.show_icons()}this.__callback()},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=true;this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=false;this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){if(this.data.themes.dots){this.hide_dots()}else{this.show_dots()}},show_icons:function(){this.data.themes.icons=true;this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=false;this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){if(this.data.themes.icons){this.hide_icons()}else{this.show_icons()}}}});a(function(){if(a.jstree._themes===false){a("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/)){a.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/";return false}})}if(a.jstree._themes===false){a.jstree._themes="themes/"}});a.jstree.defaults.plugins.push("themes")})(jQuery);(function(f){var h=false,c=false,a=false,b=false,e=false,g=false,d=false;f.vakata.dnd={is_down:false,is_drag:false,ignore_click:false,src:null,helper:false,scroll_spd:10,init_x:0,init_y:0,threshold:5,user_data:{},drag_start:function(l,k,i){if(f.vakata.dnd.is_drag){f.vakata.drag_stop({})}try{l.currentTarget.unselectable="on";l.currentTarget.onselectstart=function(){return false};if(l.currentTarget.style){l.currentTarget.style.MozUserSelect="none"}}catch(j){}f.vakata.dnd.init_x=l.pageX;f.vakata.dnd.init_y=l.pageY;f.vakata.dnd.user_data=k;f.vakata.dnd.is_down=true;f.vakata.dnd.src=l.srcElement;f.vakata.dnd.helper=f("<div id='vakata-dragged'>").html(i);f(document).bind("mousemove",f.vakata.dnd.drag);f(document).bind("mouseup",f.vakata.dnd.drag_stop);return false},drag:function(n){if(!f.vakata.dnd.is_down){return}if(!f.vakata.dnd.is_drag){if(Math.abs(n.pageX-f.vakata.dnd.init_x)>5||Math.abs(n.pageY-f.vakata.dnd.init_y)>5){f.vakata.dnd.helper.appendTo("body");f.vakata.dnd.helper_height=f.vakata.dnd.helper.outerHeight();f.vakata.dnd.helper_width=f.vakata.dnd.helper.outerWidth();f.vakata.dnd.is_drag=true;f.vakata.dnd.ignore_click=true;f(document).triggerHandler("drag_start.vakata",{event:n,data:f.vakata.dnd.user_data})}else{return}}var o=f(document);var m=n.pageX;if(n.pageX<=-5){m=-5}else{m=Math.min(n.pageX,o.width()-f.vakata.dnd.helper_width-5)}var k=n.pageY;if(n.pageY<=-5){k=-5}else{k=Math.min(n.pageY,o.height()-f.vakata.dnd.helper_height-5)}if(n.type==="mousemove"){var o=f(document),j=o.scrollTop(),i=o.scrollLeft();if(n.pageY-j<20){if(e&&g==="down"){clearInterval(e);e=false}if(!e){g="up";e=setInterval(function(){f(document).scrollTop(f(document).scrollTop()-f.vakata.dnd.scroll_spd)},150)}}else{if(e&&g==="up"){clearInterval(e);e=false}}if(f(window).height()-(n.pageY-j)<20){if(e&&g==="up"){clearInterval(e);e=false}if(!e){g="down";e=setInterval(function(){f(document).scrollTop(f(document).scrollTop()+f.vakata.dnd.scroll_spd)},150)}}else{if(e&&g==="down"){clearInterval(e);e=false}}if(n.pageX-i<20){if(b&&d==="right"){clearInterval(b);b=false}if(!b){d="left";b=setInterval(function(){f(document).scrollLeft(f(document).scrollLeft()-f.vakata.dnd.scroll_spd)},150)}}else{if(b&&d==="left"){clearInterval(b);b=false}}if(f(window).width()-(n.pageX-i)<20){if(b&&d==="left"){clearInterval(b);b=false}if(!b){d="right";b=setInterval(function(){f(document).scrollLeft(f(document).scrollLeft()+f.vakata.dnd.scroll_spd)},150)}}else{if(b&&d==="right"){clearInterval(b);b=false}}}f.vakata.dnd.helper.css({left:(m+5)+"px",top:(k+5)+"px"});f(document).triggerHandler("drag.vakata",{event:n,data:f.vakata.dnd.user_data})},drag_stop:function(i){f(document).unbind("mousemove",f.vakata.dnd.drag);f(document).unbind("mouseup",f.vakata.dnd.drag_stop);f(document).triggerHandler("drag_stop.vakata",{event:i,data:f.vakata.dnd.user_data});f.vakata.dnd.helper.remove();f.vakata.dnd.init_x=0;f.vakata.dnd.init_y=0;f.vakata.dnd.user_data={};f.vakata.dnd.is_down=false;f.vakata.dnd.is_drag=false;if(!f.vakata.dnd.src||!i.srcElement||i.srcElement.id!=f.vakata.dnd.src.id){f.vakata.dnd.ignore_click=false}f.vakata.dnd.src=null}};f.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:false,after:false,inside:false,before:false,off:false,prepared:false,w:0,to1:false,to2:false,cof:false,cw:false,ch:false,i1:false,i2:false};this.get_container().bind("mouseenter.jstree",f.proxy(function(){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree&&this.data.themes){a.attr("class","jstree-"+this.data.themes.theme);f.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}},this)).bind("mouseleave.jstree",f.proxy(function(){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}}},this)).bind("mousemove.jstree",f.proxy(function(k){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){var j=this.get_container()[0];if(k.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}this.data.dnd.i1=setInterval(f.proxy(function(){this.scrollLeft+=f.vakata.dnd.scroll_spd},j),100)}else{if(k.pageX-24<this.data.dnd.cof.left){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}this.data.dnd.i1=setInterval(f.proxy(function(){this.scrollLeft-=f.vakata.dnd.scroll_spd},j),100)}else{if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}}}if(k.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}this.data.dnd.i2=setInterval(f.proxy(function(){this.scrollTop+=f.vakata.dnd.scroll_spd},j),100)}else{if(k.pageY-24<this.data.dnd.cof.top){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}this.data.dnd.i2=setInterval(f.proxy(function(){this.scrollTop-=f.vakata.dnd.scroll_spd},j),100)}else{if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}}}}},this)).delegate("a","mousedown.jstree",f.proxy(function(j){if(j.which===1){this.start_drag(j.currentTarget,j);return false}},this)).delegate("a","mouseenter.jstree",f.proxy(function(j){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){this.dnd_enter(j.currentTarget)}},this)).delegate("a","mousemove.jstree",f.proxy(function(j){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){if(typeof this.data.dnd.off.top==="undefined"){this.data.dnd.off=f(j.target).offset()}this.data.dnd.w=(j.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height;if(this.data.dnd.w<0){this.data.dnd.w+=this.data.core.li_height}this.dnd_show()}},this)).delegate("a","mouseleave.jstree",f.proxy(function(j){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;f.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");a.hide();if(c&&c[0]===j.target.parentNode){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);this.data.dnd.to1=false}if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);this.data.dnd.to2=false}}}},this)).delegate("a","mouseup.jstree",f.proxy(function(j){if(f.vakata.dnd.is_drag&&f.vakata.dnd.user_data.jstree){this.dnd_finish(j)}},this));f(document).bind("drag_stop.vakata",f.proxy(function(){this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;this.data.dnd.off=false;this.data.dnd.prepared=false;this.data.dnd.w=false;this.data.dnd.to1=false;this.data.dnd.to2=false;this.data.dnd.active=false;this.data.dnd.foreign=false;this.data.dnd.is_copy=false;if(a){a.css({top:"-2000px"})}},this)).bind("drag_start.vakata",f.proxy(function(l,j){if(j.data.jstree){var k=f(j.event.target);if(k.closest(".jstree").hasClass("jstree-"+this.get_index())){this.dnd_enter(k)}}},this));var i=this._get_settings().dnd;if(i.drag_target){f(document).delegate(i.drag_target,"mousedown.jstree",f.proxy(function(k){h=k.target;f.vakata.dnd.drag_start(k,{jstree:true,obj:k.target},"<ins class='jstree-icon'></ins>"+f(k.target).text());if(this.data.themes){a.attr("class","jstree-"+this.data.themes.theme);f.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}f.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var j=this.get_container();this.data.dnd.cof=j.offset();this.data.dnd.cw=parseInt(j.width(),10);this.data.dnd.ch=parseInt(j.height(),10);this.data.dnd.foreign=true;return false},this))}if(i.drop_target){f(document).delegate(i.drop_target,"mouseenter.jstree",f.proxy(function(j){if(this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:h,r:f(j.target)})){f.vakata.dnd.helper.children("ins").attr("class","jstree-ok")}},this)).delegate(i.drop_target,"mouseleave.jstree",f.proxy(function(j){if(this.data.dnd.active){f.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")}},this)).delegate(i.drop_target,"mouseup.jstree",f.proxy(function(j){if(this.data.dnd.active&&f.vakata.dnd.helper.children("ins").hasClass("jstree-ok")){this._get_settings().dnd.drop_finish.call(this,{o:h,r:f(j.target)})}},this))}},defaults:{copy_modifier:"ctrl",check_timeout:200,open_timeout:500,drop_target:".jstree-drop",drop_check:function(i){return true},drop_finish:f.noop,drag_target:".jstree-draggable",drag_finish:f.noop,drag_check:function(i){return{after:false,before:false,inside:true}}},_fn:{dnd_prepare:function(){if(!c||!c.length){return}this.data.dnd.off=c.offset();if(this._get_settings().core.rtl){this.data.dnd.off.right=this.data.dnd.off.left+c.width()}if(this.data.dnd.foreign){var i=this._get_settings().dnd.drag_check.call(this,{o:h,r:c});this.data.dnd.after=i.after;this.data.dnd.before=i.before;this.data.dnd.inside=i.inside;this.data.dnd.prepared=true;return this.dnd_show()}this.prepare_move(h,c,"before");this.data.dnd.before=this.check_move();this.prepare_move(h,c,"after");this.data.dnd.after=this.check_move();if(this._is_loaded(c)){this.prepare_move(h,c,"inside");this.data.dnd.inside=this.check_move()}else{this.data.dnd.inside=false}this.data.dnd.prepared=true;return this.dnd_show()},dnd_show:function(){if(!this.data.dnd.prepared){return}var k=["before","inside","after"],i=false,j=this._get_settings().core.rtl,l;if(this.data.dnd.w<this.data.core.li_height/3){k=["before","inside","after"]}else{if(this.data.dnd.w<=this.data.core.li_height*2/3){k=this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]}else{k=["after","inside","before"]}}f.each(k,f.proxy(function(m,n){if(this.data.dnd[n]){f.vakata.dnd.helper.children("ins").attr("class","jstree-ok");i=n;return false}},this));if(i===false){f.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")}l=j?(this.data.dnd.off.right-18):(this.data.dnd.off.left+10);switch(i){case"before":a.css({left:l+"px",top:(this.data.dnd.off.top-6)+"px"}).show();break;case"after":a.css({left:l+"px",top:(this.data.dnd.off.top+this.data.core.li_height-7)+"px"}).show();break;case"inside":a.css({left:l+(j?-4:4)+"px",top:(this.data.dnd.off.top+this.data.core.li_height/2-5)+"px"}).show();break;default:a.hide();break}return i},dnd_open:function(){this.data.dnd.to2=false;this.open_node(c,f.proxy(this.dnd_prepare,this),true)},dnd_finish:function(i){h.e=i;if(this.data.dnd.foreign){if(this.data.dnd.after||this.data.dnd.bfore||this.data.dnd.inside){this._get_settings().dnd.drag_finish.call(this,{o:h,r:c,p:this.dnd_show()})}}else{this.dnd_prepare();this.move_node(h,c,this.dnd_show(),this.data.dnd.is_copy)}h=false;c=false;a.hide()},dnd_enter:function(j){var i=this._get_settings().dnd;this.data.dnd.prepared=false;c=this._get_node(j);if(i.check_timeout){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1)}this.data.dnd.to1=setTimeout(f.proxy(this.dnd_prepare,this),i.check_timeout)}else{this.dnd_prepare()}if(i.open_timeout){if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2)}if(c&&c.length&&c.hasClass("jstree-closed")){this.data.dnd.to2=setTimeout(f.proxy(this.dnd_open,this),i.open_timeout)}}else{if(c&&c.length&&c.hasClass("jstree-closed")){this.dnd_open()}}},start_drag:function(m,l){var p=function(t,q){if(t.length<=q){return t}var r=t.substring(0,q-3);return r+"..."};h=this._get_node(m);if(this.data.ui&&this.is_selected(h)){h=this._get_node(null,true)}this.data.dnd.is_copy=l[this._get_settings().dnd.copy_modifier+"Key"];if(h.length>1){var o="Multiple selection"}else{var i=h.children("a:eq(0)");var k=i.children("span");if(k.length){var n=k.text()}else{i=i.clone();i.children("ins").remove();var n=i.text()}var o=n}f.vakata.dnd.drag_start(l,{jstree:true,obj:h},o);if(this.data.themes){a.attr("class","jstree-"+this.data.themes.theme);f.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}var j=this.get_container();this.data.dnd.cof=j.children("ul").offset();this.data.dnd.cw=parseInt(j.width(),10);this.data.dnd.ch=parseInt(j.height(),10);this.data.dnd.active=true}}});f(function(){a=f("<div>").attr({id:"jstree-marker"}).hide().appendTo("body");f(document).bind("drag_start.vakata",function(j,i){if(i.data.jstree){a.show()}});f(document).bind("drag_stop.vakata",function(j,i){if(i.data.jstree){a.hide()}})})})(jQuery);(function(a){a.jstree.plugin("html_data",{__init:function(){},defaults:{data:false,ajax:false,correct_state:true},_fn:{load_node:function(d,b,c){var e=this;this.load_node_html(d,function(){e.__callback({obj:d});b.call(this)},c)},_is_loaded:function(b){b=this._get_node(b);return b==-1||!b||!this._get_settings().html_data.ajax||b.is(".jstree-open, .jstree-leaf")||b.children("ul").children("li").size()>0},load_node_html:function(g,b,e){var i,f=this.get_settings().html_data,c=function(){},h=function(){};g=this._get_node(g);if(g&&g!==-1){if(g.data("jstree-is-loading")){return}else{g.data("jstree-is-loading",true)}}switch(!0){case (!f.data&&!f.ajax):if(!g||g==-1){}if(b){b.call(this)}break;case (!!f.data&&!f.ajax)||(!!f.data&&!!f.ajax&&(!g||g===-1)):if(!g||g==-1){i=a(f.data);if(!i.is("ul")){i=a("<ul>").append(i)}this.get_container().children("ul").empty().append(i.children()).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node()}if(b){b.call(this)}break;case (!f.data&&!!f.ajax)||(!!f.data&&!!f.ajax&&g&&g!==-1):g=this._get_node(g);c=function(j,k,l){var d=this.get_settings().html_data.ajax.error;if(d){d.call(this,j,k,l)}if(g!=-1&&g.length){g.children(".jstree-loading").removeClass("jstree-loading");g.data("jstree-is-loading",false);if(k==="success"&&f.correct_state){g.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")}}else{if(k==="success"&&f.correct_state){this.get_container().children("ul").empty()}}if(e){e.call(this)}};h=function(m,k,j){var l=this.get_settings().html_data.ajax.success;if(l){m=l.call(this,m,k,j)||m}if(m==""){return c.call(this,j,k,"")}if(m){m=a(m);if(!m.is("ul")){m=a("<ul>").append(m)}if(g==-1||!g){this.get_container().children("ul").empty().append(m.children()).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon")}else{g.children(".jstree-loading").removeClass("jstree-loading");g.append(m).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");g.data("jstree-is-loading",false)}this.clean_node(g);if(b){b.call(this)}}else{if(g&&g!==-1){g.children(".jstree-loading").removeClass("jstree-loading");g.data("jstree-is-loading",false);if(f.correct_state){g.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");if(b){b.call(this)}}}else{if(f.correct_state){this.get_container().children("ul").empty();if(b){b.call(this)}}}}};f.ajax.context=this;f.ajax.error=c;f.ajax.success=h;if(!f.ajax.dataType){f.ajax.dataType="html"}if(a.isFunction(f.ajax.url)){f.ajax.url=f.ajax.url.call(this,g)}if(a.isFunction(f.ajax.data)){f.ajax.data=f.ajax.data.call(this,g)}a.ajax(f.ajax);break}}}});a.jstree.defaults.plugins.push("html_data")})(jQuery);(function(d){d.fn.tabby=function(f){var g=d.extend({},d.fn.tabby.defaults,f);var h=d.fn.tabby.pressed;return this.each(function(){$this=d(this);var i=d.meta?d.extend({},g,$this.data()):g;$this.bind("keydown",function(k){var j=d.fn.tabby.catch_kc(k);if(16==j){h.shft=true}if(17==j){h.ctrl=true;setTimeout("$.fn.tabby.pressed.ctrl = false;",1000)}if(18==j){h.alt=true;setTimeout("$.fn.tabby.pressed.alt = false;",1000)}if(9==j&&!h.ctrl&&!h.alt){k.preventDefault;h.last=j;setTimeout("$.fn.tabby.pressed.last = null;",0);e(d(k.target).get(0),h.shft,i);return false}}).bind("keyup",function(j){if(16==d.fn.tabby.catch_kc(j)){h.shft=false}}).bind("blur",function(j){if(9==h.last){d(j.target).one("focus",function(k){h.last=null}).get(0).focus()}})})};d.fn.tabby.catch_kc=function(f){return f.keyCode?f.keyCode:f.charCode?f.charCode:f.which};d.fn.tabby.pressed={shft:false,ctrl:false,alt:false,last:null};function b(f){if(window.console&&window.console.log){window.console.log("textarea count: "+f.size())}}function e(i,h,g){var f=i.scrollTop;if(i.setSelectionRange){a(i,h,g)}else{if(document.selection){c(i,h,g)}}i.scrollTop=f}d.fn.tabby.defaults={tabString:String.fromCharCode(9)};function a(j,f,u){var t=j.selectionStart;var r=j.selectionEnd;if(t==r){if(f){if("\t"==j.value.substring(t-u.tabString.length,t)){j.value=j.value.substring(0,t-u.tabString.length)+j.value.substring(t);j.focus();j.setSelectionRange(t-u.tabString.length,t-u.tabString.length)}else{if("\t"==j.value.substring(t,t+u.tabString.length)){j.value=j.value.substring(0,t)+j.value.substring(t+u.tabString.length);j.focus();j.setSelectionRange(t,t)}}}else{j.value=j.value.substring(0,t)+u.tabString+j.value.substring(t);j.focus();j.setSelectionRange(t+u.tabString.length,t+u.tabString.length)}}else{var v=j.value.split("\n");var s=new Array();var l=0;var h=0;var g=false;for(var n in v){h=l+v[n].length;s.push({start:l,end:h,selected:(l<=t&&h>t)||(h>=r&&l<r)||(l>t&&h<r)});l=h+1}var k=0;for(var n in s){if(s[n].selected){var q=s[n].start+k;if(f&&u.tabString==j.value.substring(q,q+u.tabString.length)){j.value=j.value.substring(0,q)+j.value.substring(q+u.tabString.length);k-=u.tabString.length}else{if(!f){j.value=j.value.substring(0,q)+u.tabString+j.value.substring(q);k+=u.tabString.length}}}}j.focus();var p=t+((k>0)?u.tabString.length:(k<0)?-u.tabString.length:0);var m=r+k;j.setSelectionRange(p,m)}}function c(q,w,f){var p=document.selection.createRange();if(q==p.parentElement()){if(""==p.text){if(w){var l=p.getBookmark();p.moveStart("character",-f.tabString.length);if(f.tabString==p.text){p.text=""}else{p.moveToBookmark(l);p.moveEnd("character",f.tabString.length);if(f.tabString==p.text){p.text=""}}p.collapse(true);p.select()}else{p.text=f.tabString;p.collapse(false);p.select()}}else{var k=p.text;var n=k.length;var u=k.split("\r\n");var z=document.body.createTextRange();z.moveToElementText(q);z.setEndPoint("EndToStart",p);var m=z.text;var x=m.split("\r\n");var r=m.length;var y=document.body.createTextRange();y.moveToElementText(q);y.setEndPoint("StartToEnd",p);var v=y.text;var g=document.body.createTextRange();g.moveToElementText(q);g.setEndPoint("StartToEnd",z);var s=g.text;var h=d(q).html();d("#r3").text(r+" + "+n+" + "+v.length+" = "+h.length);if((r+s.length)<h.length){x.push("");r+=2;if(w&&f.tabString==u[0].substring(0,f.tabString.length)){u[0]=u[0].substring(f.tabString.length)}else{if(!w){u[0]=f.tabString+u[0]}}}else{if(w&&f.tabString==x[x.length-1].substring(0,f.tabString.length)){x[x.length-1]=x[x.length-1].substring(f.tabString.length)}else{if(!w){x[x.length-1]=f.tabString+x[x.length-1]}}}for(var t=1;t<u.length;t++){if(w&&f.tabString==u[t].substring(0,f.tabString.length)){u[t]=u[t].substring(f.tabString.length)}else{if(!w){u[t]=f.tabString+u[t]}}}if(1==x.length&&0==r){if(w&&f.tabString==u[0].substring(0,f.tabString.length)){u[0]=u[0].substring(f.tabString.length)}else{if(!w){u[0]=f.tabString+u[0]}}}if((r+n+v.length)<h.length){u.push("");n+=2}z.text=x.join("\r\n");p.text=u.join("\r\n");var j=document.body.createTextRange();j.moveToElementText(q);if(0<r){j.setEndPoint("StartToEnd",z)}else{j.setEndPoint("StartToStart",z)}j.setEndPoint("EndToEnd",p);j.select()}}}})(jQuery);(function(d){var c={};var b=-1;var a=function(h,f,g){if(typeof h=="object"){d.each(h,function(j,i){g(j,i)})}else{var e=h.split(/,\s*/);d.each(e,function(i,j){g(j,f)})}};d.publish=function(f,e){a(f,e,function(g,h){if(!c[g]){return false}d.each(c[g],function(i,j){j.handler(h)})})};d.subscribe=function(g,e,f){if(!e){e=++b}a(g,f,function(h,i){if(!c[h]){c[h]={}}c[h][e]={token:e,handler:i}});return e};d.unsubscribe=function(f,e){a(f,null,function(g){if(!f[g]||!f[g][e]){return false}delete f[g][e]})}})(jQuery);(function(){var a;a=(function(){function b(){this.options_index=0;this.parsed=[]}b.prototype.add_node=function(c){if(c.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(c)}else{return this.add_option(c)}};b.prototype.add_group=function(i){var h,e,g,d,f,c;h=this.parsed.length;this.parsed.push({array_index:h,group:true,label:i.label,children:0,disabled:i.disabled});f=i.childNodes;c=[];for(g=0,d=f.length;g<d;g++){e=f[g];c.push(this.add_option(e,h,i.disabled))}return c};b.prototype.add_option=function(d,e,c){if(d.nodeName.toUpperCase()==="OPTION"){if(d.text!==""){if(e!=null){this.parsed[e].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:d.value,text:d.text,html:d.innerHTML,selected:d.selected,disabled:c===true?c:d.disabled,group_array_index:e,classes:d.className,style:d.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};return b})();a.select_to_array=function(b){var g,f,e,c,d;f=new a();d=b.childNodes;for(e=0,c=d.length;e<c;e++){g=d[e];f.add_node(g)}return f.parsed};this.SelectParser=a}).call(this);(function(){var b,a;a=this;b=(function(){function c(d,e){this.form_field=d;this.options=e!=null?e:{};this.set_default_values();this.is_multiple=this.form_field.multiple;this.set_default_text();this.setup();this.set_up_html();this.register_observers();this.finish_setup()}c.prototype.set_default_values=function(){var d=this;this.click_test_action=function(e){return d.test_active_click(e)};this.activate_action=function(e){return d.activate_field(e)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.search_contains=this.options.search_contains||false;this.choices=0;this.single_backstroke_delete=this.options.single_backstroke_delete||false;return this.max_selected_options=this.options.max_selected_options||Infinity};c.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else{if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options"}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option"}}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"};c.prototype.mouse_enter=function(){return this.mouse_on_container=true};c.prototype.mouse_leave=function(){return this.mouse_on_container=false};c.prototype.input_focus=function(d){var e=this;if(!this.active_field){return setTimeout((function(){return e.container_mousedown()}),50)}};c.prototype.input_blur=function(d){var e=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return e.blur_test()}),100)}};c.prototype.result_add_option=function(f){var d,e;if(!f.disabled){f.dom_id=this.container_id+"_o_"+f.array_index;d=f.selected&&this.is_multiple?[]:["active-result"];if(f.selected){d.push("result-selected")}if(f.group_array_index!=null){d.push("group-option")}if(f.classes!==""){d.push(f.classes)}e=f.style.cssText!==""?' style="'+f.style+'"':"";return'<li id="'+f.dom_id+'" class="'+d.join(" ")+'"'+e+">"+f.html+"</li>"}else{return""}};c.prototype.results_update_field=function(){if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};c.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};c.prototype.results_search=function(d){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};c.prototype.keyup_checker=function(d){var f,e;f=(e=d.which)!=null?e:d.keyCode;this.search_field_scale();switch(f){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke()}else{if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}}break;case 13:d.preventDefault();if(this.results_showing){return this.result_select(d)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};c.prototype.generate_field_id=function(){var d;d=this.generate_random_id();this.form_field.id=d;return d};c.prototype.generate_random_char=function(){var f,e,d;f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";d=Math.floor(Math.random()*f.length);return e=f.substring(d,d+1)};return c})();a.AbstractChosen=b}).call(this);(function(){var e,f,d,a,b=Object.prototype.hasOwnProperty,c=function(j,h){for(var g in h){if(b.call(h,g)){j[g]=h[g]}}function i(){this.constructor=j}i.prototype=h.prototype;j.prototype=new i;j.__super__=h.prototype;return j};a=this;e=jQuery;e.fn.extend({chosen:function(g){if(e.browser.msie&&(e.browser.version==="6.0"||(e.browser.version==="7.0"&&document.documentMode===7))){return this}return this.each(function(h){var i;i=e(this);if(!i.hasClass("chzn-done")){return i.data("chosen",new f(this,g))}})}});f=(function(g){c(h,g);function h(){h.__super__.constructor.apply(this,arguments)}h.prototype.setup=function(){this.form_field_jq=e(this.form_field);this.current_value=this.form_field_jq.val();return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};h.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};h.prototype.set_up_html=function(){var l,k,j,i;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id();this.container_id+="_chzn";this.f_width=this.form_field_jq.outerWidth();l=e("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: 100%"});if(this.is_multiple){l.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="display: none"><ul class="chzn-results"></ul></div>')}else{l.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="display: none"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>')}this.form_field_jq.hide().after(l);this.container=e("#"+this.container_id);this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single"));this.dropdown=this.container.find("div.chzn-drop").first();k=this.container.height();j=this.f_width-d(this.dropdown);this.dropdown.css({width:"100%",top:k+"px"});this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first();i=j-d(this.search_container)-d(this.search_field);this.search_field.css({width:i+"px"})}this.results_build();this.set_tab_index();return this.form_field_jq.trigger("liszt:ready",{chosen:this})};h.prototype.register_observers=function(){var i=this;this.container.mousedown(function(j){return i.container_mousedown(j)});this.container.mouseup(function(j){return i.container_mouseup(j)});this.container.mouseenter(function(j){return i.mouse_enter(j)});this.container.mouseleave(function(j){return i.mouse_leave(j)});this.search_results.mouseup(function(j){return i.search_results_mouseup(j)});this.search_results.mouseover(function(j){return i.search_results_mouseover(j)});this.search_results.mouseout(function(j){return i.search_results_mouseout(j)});this.form_field_jq.bind("liszt:updated",function(j){return i.results_update_field(j)});this.form_field_jq.bind("liszt:activate",function(j){return i.activate_field(j)});this.form_field_jq.bind("liszt:open",function(j){return i.container_mousedown(j)});this.search_field.blur(function(j){return i.input_blur(j)});this.search_field.keyup(function(j){return i.keyup_checker(j)});this.search_field.keydown(function(j){return i.keydown_checker(j)});if(this.is_multiple){this.search_choices.click(function(j){return i.choices_click(j)});return this.search_field.focus(function(j){return i.input_focus(j)})}else{return this.container.click(function(j){return j.preventDefault()})}};h.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action)}return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}}};h.prototype.container_mousedown=function(i){var j;if(!this.is_disabled){j=i!=null?(e(i.target)).hasClass("search-choice-close"):false;if(i&&i.type==="mousedown"&&!this.results_showing){i.stopPropagation()}if(!this.pending_destroy_click&&!j){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}e(document).click(this.click_test_action);this.results_show()}else{if(!this.is_multiple&&i&&((e(i.target)[0]===this.selected_item[0])||e(i.target).parents("a.chzn-single").length)){i.preventDefault();this.results_toggle()}}return this.activate_field()}else{return this.pending_destroy_click=false}}};h.prototype.container_mouseup=function(i){if(i.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(i)}};h.prototype.blur_test=function(i){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}};h.prototype.close_field=function(){e(document).unbind("click",this.click_test_action);if(!this.is_multiple){this.selected_item.attr("tabindex",this.search_field.attr("tabindex"));this.search_field.attr("tabindex",-1)}this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};h.prototype.activate_field=function(){if(!this.is_multiple&&!this.active_field){this.search_field.attr("tabindex",this.selected_item.attr("tabindex"));this.selected_item.attr("tabindex",-1)}this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};h.prototype.test_active_click=function(i){if(e(i.target).parents("#"+this.container_id).length){return this.active_field=true}else{return this.close_field()}};h.prototype.results_build=function(){var j,m,l,i,k;this.parsing=true;this.results_data=a.SelectParser.select_to_array(this.form_field);if(this.is_multiple&&this.choices>0){this.search_choices.find("li.search-choice").remove();this.choices=0}else{if(!this.is_multiple){this.selected_item.addClass("chzn-default").find("span").text(this.default_text);if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.container.addClass("chzn-container-single-nosearch")}else{this.container.removeClass("chzn-container-single-nosearch")}}}j="";k=this.results_data;for(l=0,i=k.length;l<i;l++){m=k[l];if(m.group){j+=this.result_add_group(m)}else{if(!m.empty){j+=this.result_add_option(m);if(m.selected&&this.is_multiple){this.choice_build(m)}else{if(m.selected&&!this.is_multiple){this.selected_item.removeClass("chzn-default").find("span").text(m.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}}}}}this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(j);return this.parsing=false};h.prototype.result_add_group=function(i){if(!i.disabled){i.dom_id=this.container_id+"_g_"+i.array_index;return'<li id="'+i.dom_id+'" class="group-result">'+e("<div />").text(i.label).html()+"</li>"}else{return""}};h.prototype.result_do_highlight=function(j){var n,m,k,l,i;if(j.length){this.result_clear_highlight();this.result_highlight=j;this.result_highlight.addClass("highlighted");k=parseInt(this.search_results.css("maxHeight"),10);i=this.search_results.scrollTop();l=k+i;m=this.result_highlight.position().top+this.search_results.scrollTop();n=m+this.result_highlight.outerHeight();if(n>=l){return this.search_results.scrollTop((n-k)>0?n-k:0)}else{if(m<i){return this.search_results.scrollTop(m)}}}};h.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};h.prototype.results_show=function(){var i;if(!this.is_multiple){this.selected_item.addClass("chzn-single-with-drop");if(this.result_single_selected){this.result_do_highlight(this.result_single_selected)}}else{if(this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}}i=this.is_multiple?this.container.height():this.container.height()-1;this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.dropdown.css({top:i+"px",left:0}).show();this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};h.prototype.results_hide=function(){if(!this.is_multiple){this.selected_item.removeClass("chzn-single-with-drop")}this.result_clear_highlight();this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this});this.dropdown.css({}).hide();return this.results_showing=false};h.prototype.set_tab_index=function(j){var i;if(this.form_field_jq.attr("tabindex")){i=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);if(this.is_multiple){return this.search_field.attr("tabindex",i)}else{this.selected_item.attr("tabindex",i);return this.search_field.attr("tabindex",-1)}}};h.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};h.prototype.search_results_mouseup=function(i){var j;j=e(i.target).hasClass("active-result")?e(i.target):e(i.target).parents(".active-result").first();if(j.length){this.result_highlight=j;return this.result_select(i)}};h.prototype.search_results_mouseover=function(i){var j;j=e(i.target).hasClass("active-result")?e(i.target):e(i.target).parents(".active-result").first();if(j){return this.result_do_highlight(j)}};h.prototype.search_results_mouseout=function(i){if(e(i.target).hasClass("active-result"||e(i.target).parents(".active-result").first())){return this.result_clear_highlight()}};h.prototype.choices_click=function(i){i.preventDefault();if(this.active_field&&!(e(i.target).hasClass("search-choice"||e(i.target).parents(".search-choice").first))&&!this.results_showing){return this.results_show()}};h.prototype.choice_build=function(l){var i,j,k,m=this;if(this.is_multiple&&this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}i=this.container_id+"_c_"+l.array_index;this.choices+=1;if(l.disabled){j='<li class="search-choice search-choice-disabled" id="'+i+'"><span>'+l.html+"</span></li>"}else{j='<li class="search-choice" id="'+i+'"><span>'+l.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+l.array_index+'"></a></li>'}this.search_container.before(j);k=e("#"+i).find("a").first();return k.click(function(n){return m.choice_destroy_link_click(n)})};h.prototype.choice_destroy_link_click=function(i){i.preventDefault();if(!this.is_disabled){this.pending_destroy_click=true;return this.choice_destroy(e(i.target))}else{return i.stopPropagation}};h.prototype.choice_destroy=function(i){if(this.result_deselect(i.attr("rel"))){this.choices-=1;this.show_search_field_default();if(this.is_multiple&&this.choices>0&&this.search_field.val().length<1){this.results_hide()}return i.parents("li").first().remove()}};h.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_item.find("span").text(this.default_text);if(!this.is_multiple){this.selected_item.addClass("chzn-default")}this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};h.prototype.results_reset_cleanup=function(){this.current_value=this.form_field_jq.val();return this.selected_item.find("abbr").remove()};h.prototype.result_select=function(j){var m,l,k,i;if(this.result_highlight){m=this.result_highlight;l=m.attr("id");this.result_clear_highlight();if(this.is_multiple){this.result_deactivate(m)}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=m;this.selected_item.removeClass("chzn-default")}m.addClass("result-selected");i=l.substr(l.lastIndexOf("_")+1);k=this.results_data[i];k.selected=true;this.form_field.options[k.options_index].selected=true;if(this.is_multiple){this.choice_build(k)}else{this.selected_item.find("span").first().text(k.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}if(!(j.metaKey&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field_jq.val()!==this.current_value){this.form_field_jq.trigger("change",{selected:this.form_field.options[k.options_index].value})}this.current_value=this.form_field_jq.val();return this.search_field_scale()}};h.prototype.result_activate=function(i){return i.addClass("active-result")};h.prototype.result_deactivate=function(i){return i.removeClass("active-result")};h.prototype.result_deselect=function(k){var i,j;j=this.results_data[k];if(!this.form_field.options[j.options_index].disabled){j.selected=false;this.form_field.options[j.options_index].selected=false;i=e("#"+this.container_id+"_o_"+k);i.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[j.options_index].value});this.search_field_scale();return true}else{return false}};h.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1){return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}};h.prototype.winnow_results=function(){var o,q,u,t,k,r,n,x,s,w,v,p,l,j,i,y,z,m;this.no_results_clear();s=0;w=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html();r=this.search_contains?"":"^";k=new RegExp(r+w.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");l=new RegExp(w.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");m=this.results_data;for(j=0,y=m.length;j<y;j++){q=m[j];if(!q.disabled&&!q.empty){if(q.group){e("#"+q.dom_id).css("display","none")}else{if(!(this.is_multiple&&q.selected)){o=false;x=q.dom_id;n=e("#"+x);if(k.test(q.html)){o=true;s+=1}else{if(q.html.indexOf(" ")>=0||q.html.indexOf("[")===0){t=q.html.replace(/\[|\]/g,"").split(" ");if(t.length){for(i=0,z=t.length;i<z;i++){u=t[i];if(k.test(u)){o=true;s+=1}}}}}if(o){if(w.length){v=q.html.search(l);p=q.html.substr(0,v+w.length)+"</em>"+q.html.substr(v+w.length);p=p.substr(0,v)+"<em>"+p.substr(v)}else{p=q.html}n.html(p);this.result_activate(n);if(q.group_array_index!=null){e("#"+this.results_data[q.group_array_index].dom_id).css("display","list-item")}}else{if(this.result_highlight&&x===this.result_highlight.attr("id")){this.result_clear_highlight()}this.result_deactivate(n)}}}}}if(s<1&&w.length){return this.no_results(w)}else{return this.winnow_results_set_highlight()}};h.prototype.winnow_results_clear=function(){var i,l,m,k,j;this.search_field.val("");l=this.search_results.find("li");j=[];for(m=0,k=l.length;m<k;m++){i=l[m];i=e(i);if(i.hasClass("group-result")){j.push(i.css("display","auto"))}else{if(!this.is_multiple||!i.hasClass("result-selected")){j.push(this.result_activate(i))}else{j.push(void 0)}}}return j};h.prototype.winnow_results_set_highlight=function(){var i,j;if(!this.result_highlight){j=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];i=j.length?j.first():this.search_results.find(".active-result").first();if(i!=null){return this.result_do_highlight(i)}}};h.prototype.no_results=function(i){var j;j=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');j.find("span").first().html(i);return this.search_results.append(j)};h.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};h.prototype.keydown_arrow=function(){var j,i;if(!this.result_highlight){j=this.search_results.find("li.active-result").first();if(j){this.result_do_highlight(e(j))}}else{if(this.results_showing){i=this.result_highlight.nextAll("li.active-result").first();if(i){this.result_do_highlight(i)}}}if(!this.results_showing){return this.results_show()}};h.prototype.keyup_arrow=function(){var i;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else{if(this.result_highlight){i=this.result_highlight.prevAll("li.active-result");if(i.length){return this.result_do_highlight(i.first())}else{if(this.choices>0){this.results_hide()}return this.result_clear_highlight()}}}};h.prototype.keydown_backstroke=function(){var i;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{i=this.search_container.siblings("li.search-choice").last();if(i.length&&!i.hasClass("search-choice-disabled")){this.pending_backstroke=i;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};h.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};h.prototype.keydown_checker=function(i){var k,j;k=(j=i.which)!=null?j:i.keyCode;this.search_field_scale();if(k!==8&&this.pending_backstroke){this.clear_backstroke()}switch(k){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(i)}this.mouse_on_container=false;break;case 13:i.preventDefault();break;case 38:i.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow();break}};h.prototype.search_field_scale=function(){var q,i,l,j,o,p,n,k,m;if(this.is_multiple){l=0;n=0;o="position:absolute; left: -1000px; top: -1000px; display:none;";p=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(k=0,m=p.length;k<m;k++){j=p[k];o+=j+":"+this.search_field.css(j)+";"}i=e("<div />",{style:o});i.text(this.search_field.val());e("body").append(i);n=i.width()+25;i.remove();if(n>this.f_width-10){n=this.f_width-10}this.search_field.css({width:n+"px"});q=this.container.height();return this.dropdown.css({top:q+"px"})}};h.prototype.generate_random_id=function(){var i;i="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(e("#"+i).length>0){i+=this.generate_random_char()}return i};return h})(AbstractChosen);d=function(g){var h;return h=g.outerWidth()-g.width()};a.get_side_border_padding=d}).call(this);(function(b){var a=function(){var S={},c,N=65,t,P='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',B={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:true,flat:false},J=function(T,V){var U=j(T);b(V).data("colorpicker").fields.eq(1).val(U.r).end().eq(2).val(U.g).end().eq(3).val(U.b).end()},u=function(T,U){b(U).data("colorpicker").fields.eq(4).val(T.h).end().eq(5).val(T.s).end().eq(6).val(T.b).end()},g=function(T,U){b(U).data("colorpicker").fields.eq(0).val(R(T)).end()},l=function(T,U){b(U).data("colorpicker").selector.css("backgroundColor","#"+R({h:T.h,s:100,b:100}));b(U).data("colorpicker").selectorIndic.css({left:parseInt(150*T.s/100,10),top:parseInt(150*(100-T.b)/100,10)})},G=function(T,U){b(U).data("colorpicker").hue.css("top",parseInt(150-150*T.h/360,10))},h=function(T,U){b(U).data("colorpicker").currentColor.css("backgroundColor","#"+R(T))},E=function(T,U){b(U).data("colorpicker").newColor.css("backgroundColor","#"+R(T))},n=function(T){var V=T.charCode||T.keyCode||-1;if((V>N&&V<=90)||V==32){return false}var U=b(this).parent().parent();if(U.data("colorpicker").livePreview===true){e.apply(this)}},e=function(U){var V=b(this).parent().parent(),T;if(this.parentNode.className.indexOf("_hex")>0){V.data("colorpicker").color=T=m(y(this.value))}else{if(this.parentNode.className.indexOf("_hsb")>0){V.data("colorpicker").color=T=f({h:parseInt(V.data("colorpicker").fields.eq(4).val(),10),s:parseInt(V.data("colorpicker").fields.eq(5).val(),10),b:parseInt(V.data("colorpicker").fields.eq(6).val(),10)})}else{V.data("colorpicker").color=T=i(M({r:parseInt(V.data("colorpicker").fields.eq(1).val(),10),g:parseInt(V.data("colorpicker").fields.eq(2).val(),10),b:parseInt(V.data("colorpicker").fields.eq(3).val(),10)}))}}if(U){J(T,V.get(0));g(T,V.get(0));u(T,V.get(0))}l(T,V.get(0));G(T,V.get(0));E(T,V.get(0));V.data("colorpicker").onChange.apply(V,[T,R(T),j(T)])},o=function(T){var U=b(this).parent().parent();U.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},K=function(){N=this.parentNode.className.indexOf("_hex")>0?70:65;b(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");b(this).parent().addClass("colorpicker_focus")},I=function(T){var V=b(this).parent().find("input").focus();var U={el:b(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:(this.parentNode.className.indexOf("_hsb")>0?100:255),y:T.pageY,field:V,val:parseInt(V.val(),10),preview:b(this).parent().parent().data("colorpicker").livePreview};b(document).bind("mouseup",U,s);b(document).bind("mousemove",U,L)},L=function(T){T.data.field.val(Math.max(0,Math.min(T.data.max,parseInt(T.data.val+T.pageY-T.data.y,10))));if(T.data.preview){e.apply(T.data.field.get(0),[true])}return false},s=function(T){e.apply(T.data.field.get(0),[true]);T.data.el.removeClass("colorpicker_slider").find("input").focus();b(document).unbind("mouseup",s);b(document).unbind("mousemove",L);return false},w=function(T){var U={cal:b(this).parent(),y:b(this).offset().top};U.preview=U.cal.data("colorpicker").livePreview;b(document).bind("mouseup",U,r);b(document).bind("mousemove",U,k)},k=function(T){e.apply(T.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,(T.pageY-T.data.y))))/150,10)).get(0),[T.data.preview]);return false},r=function(T){J(T.data.cal.data("colorpicker").color,T.data.cal.get(0));g(T.data.cal.data("colorpicker").color,T.data.cal.get(0));b(document).unbind("mouseup",r);b(document).unbind("mousemove",k);return false},x=function(T){var U={cal:b(this).parent(),pos:b(this).offset()};U.preview=U.cal.data("colorpicker").livePreview;b(document).bind("mouseup",U,A);b(document).bind("mousemove",U,q);T.data=U;q(T)},q=function(T){e.apply(T.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,(T.pageY-T.data.pos.top))))/150,10)).end().eq(5).val(parseInt(100*(Math.max(0,Math.min(150,(T.pageX-T.data.pos.left))))/150,10)).get(0),[T.data.preview]);return false},A=function(T){J(T.data.cal.data("colorpicker").color,T.data.cal.get(0));g(T.data.cal.data("colorpicker").color,T.data.cal.get(0));b(document).unbind("mouseup",A);b(document).unbind("mousemove",q);return false},v=function(T){b(this).addClass("colorpicker_focus")},Q=function(T){b(this).removeClass("colorpicker_focus")},p=function(U){var V=b(this).parent();var T=V.data("colorpicker").color;V.data("colorpicker").origColor=T;h(T,V.get(0));V.data("colorpicker").onSubmit(T,R(T),j(T),V.data("colorpicker").el)},D=function(T){var X=b("#"+b(this).data("colorpickerId"));X.data("colorpicker").onBeforeShow.apply(this,[X.get(0)]);var Y=b(this).offset();var W=z();var V=Y.top+this.offsetHeight;var U=Y.left;if(V+176>W.t+W.h){V-=this.offsetHeight+176}if(U+356>W.l+W.w){U-=356}X.css({left:U+"px",top:V+"px"});if(X.data("colorpicker").onShow.apply(this,[X.get(0)])!=false){X.show()}b(document).bind("mousedown",{cal:X},O);return false},O=function(T){if(!H(T.data.cal.get(0),T.target,T.data.cal.get(0))){if(T.data.cal.data("colorpicker").onHide.apply(this,[T.data.cal.get(0)])!=false){T.data.cal.hide()}b(document).unbind("mousedown",O)}},H=function(V,U,T){if(V==U){return true}if(V.contains){return V.contains(U)}if(V.compareDocumentPosition){return !!(V.compareDocumentPosition(U)&16)}var W=U.parentNode;while(W&&W!=T){if(W==V){return true}W=W.parentNode}return false},z=function(){var T=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(T?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(T?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(T?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(T?document.documentElement.clientHeight:document.body.clientHeight)}},f=function(T){return{h:Math.min(360,Math.max(0,T.h)),s:Math.min(100,Math.max(0,T.s)),b:Math.min(100,Math.max(0,T.b))}},M=function(T){return{r:Math.min(255,Math.max(0,T.r)),g:Math.min(255,Math.max(0,T.g)),b:Math.min(255,Math.max(0,T.b))}},y=function(V){var T=6-V.length;if(T>0){var W=[];for(var U=0;U<T;U++){W.push("0")}W.push(V);V=W.join("")}return V},d=function(T){var T=parseInt(((T.indexOf("#")>-1)?T.substring(1):T),16);return{r:T>>16,g:(T&65280)>>8,b:(T&255)}},m=function(T){return i(d(T))},i=function(V){var U={h:0,s:0,b:0};var W=Math.min(V.r,V.g,V.b);var T=Math.max(V.r,V.g,V.b);var X=T-W;U.b=T;if(T!=0){}U.s=T!=0?255*X/T:0;if(U.s!=0){if(V.r==T){U.h=(V.g-V.b)/X}else{if(V.g==T){U.h=2+(V.b-V.r)/X}else{U.h=4+(V.r-V.g)/X}}}else{U.h=-1}U.h*=60;if(U.h<0){U.h+=360}U.s*=100/255;U.b*=100/255;U.h=Math.round(U.h);U.s=Math.round(U.s);U.b=Math.round(U.b);return U},j=function(T){var V={};var Z=Math.round(T.h);var Y=Math.round(T.s*255/100);var U=Math.round(T.b*255/100);if(Y==0){V.r=V.g=V.b=U}else{var aa=U;var X=(255-Y)*U/255;var W=(aa-X)*(Z%60)/60;if(Z==360){Z=0}if(Z<60){V.r=aa;V.b=X;V.g=X+W}else{if(Z<120){V.g=aa;V.b=X;V.r=aa-W}else{if(Z<180){V.g=aa;V.r=X;V.b=X+W}else{if(Z<240){V.b=aa;V.r=X;V.g=aa-W}else{if(Z<300){V.b=aa;V.g=X;V.r=X+W}else{if(Z<360){V.r=aa;V.g=X;V.b=aa-W}else{V.r=0;V.g=0;V.b=0}}}}}}}return{r:Math.round(V.r),g:Math.round(V.g),b:Math.round(V.b)}},C=function(T){var U=[T.r.toString(16),T.g.toString(16),T.b.toString(16)];b.each(U,function(V,W){if(W.length==1){U[V]="0"+W}});return U.join("")},R=function(T){return C(j(T))},F=function(){var U=b(this).parent();var T=U.data("colorpicker").origColor;U.data("colorpicker").color=T;J(T,U.get(0));g(T,U.get(0));u(T,U.get(0));l(T,U.get(0));G(T,U.get(0));E(T,U.get(0));U.data("colorpicker").onChange.apply(U,[T,R(T),j(T)])};return{init:function(T){T=b.extend({},B,T||{});if(typeof T.color=="string"){T.color=m(T.color)}else{if(T.color.r!=undefined&&T.color.g!=undefined&&T.color.b!=undefined){T.color=i(T.color)}else{if(T.color.h!=undefined&&T.color.s!=undefined&&T.color.b!=undefined){T.color=f(T.color)}else{return this}}}return this.each(function(){if(!b(this).data("colorpickerId")){var U=b.extend({},T);U.origColor=T.color;var W="collorpicker_"+parseInt(Math.random()*1000);b(this).data("colorpickerId",W);var V=b(P).attr("id",W);if(U.flat){V.appendTo(this).show()}else{V.appendTo(document.body)}U.fields=V.find("input").bind("keyup",n).bind("change",e).bind("blur",o).bind("focus",K);V.find("span").bind("mousedown",I).end().find(">div.colorpicker_current_color").bind("click",F);U.selector=V.find("div.colorpicker_color").bind("mousedown",x);U.selectorIndic=U.selector.find("div div");U.el=this;U.hue=V.find("div.colorpicker_hue div");V.find("div.colorpicker_hue").bind("mousedown",w);U.newColor=V.find("div.colorpicker_new_color");U.currentColor=V.find("div.colorpicker_current_color");V.data("colorpicker",U);V.find("div.colorpicker_submit").bind("mouseenter",v).bind("mouseleave",Q).bind("click",p);J(U.color,V.get(0));u(U.color,V.get(0));g(U.color,V.get(0));G(U.color,V.get(0));l(U.color,V.get(0));h(U.color,V.get(0));E(U.color,V.get(0));if(U.flat){V.css({position:"relative",display:"block"})}else{b(this).bind(U.eventName,D)}}})},showPicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){D.apply(this)}})},hidePicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){b("#"+b(this).data("colorpickerId")).hide()}})},setColor:function(T){if(typeof T=="string"){T=m(T)}else{if(T.r!=undefined&&T.g!=undefined&&T.b!=undefined){T=i(T)}else{if(T.h!=undefined&&T.s!=undefined&&T.b!=undefined){T=f(T)}else{return this}}}return this.each(function(){if(b(this).data("colorpickerId")){var U=b("#"+b(this).data("colorpickerId"));U.data("colorpicker").color=T;U.data("colorpicker").origColor=T;J(T,U.get(0));u(T,U.get(0));g(T,U.get(0));G(T,U.get(0));l(T,U.get(0));h(T,U.get(0));E(T,U.get(0))}})}}}();b.fn.extend({ColorPicker:a.init,ColorPickerHide:a.hidePicker,ColorPickerShow:a.showPicker,ColorPickerSetColor:a.setColor})})(jQuery);(function(e){var f={topPadding:0,topSpacing:0,height:0,className:"",container:""},h=e(window),a=h.height(),b=e(document),g=[];var c=function(){var j=h.scrollTop(),r=b.height();for(var m=0;m<g.length;m++){var q=g[m],l=q.parent.offset(),o=l.top-q.topPadding-q.topSpacing;if(j<=o){if(q.currentTop!==null){q.sticky.css("position","").css("top","").css("left","").css("width","");q.sticky.removeClass(q.className);q.currentTop=null}}else{var n=q.topSpacing;if(q.currentTop!=n){q.sticky.css("position","fixed").css("top",n);q.sticky.addClass(q.className);q.currentTop=n}var k=h.scrollLeft();if(k>0){var p=l.left-k;q.sticky.css("left",p)}else{q.sticky.css("left","")}if(q.container){q.sticky.css("width",e(q.container).width())}}}};h.scroll(c);h.resize(function(){a=h.height();c()});var d=function(i,k){var j=e(i);j.wrapAll(e("<div></div>"));j.parent().css("height",k.height?k.height:j.outerHeight());g.push({topPadding:k.topPadding,topSpacing:k.topSpacing,sticky:j,parent:j.parent(),className:k.className,currentTop:null,container:k.container})};e.fn.sticky=function(i){var j=e.extend({},f,i);return this.each(function(){d(this,j);c()})}})(jQuery);(function(g){var f=null;var k=null;var j=false;var a=null;var d=null;g.fn.tooltip=function(l){var m=g.extend({},g.fn.tooltip.defaults,l);return this.each(function(){i(this,m)})};g.fn.tooltip.defaults={offsetX:15,offsetY:0,toggleEvent:"hover",tooltip:null,showDelay:600,hideDelay:400,autoHide:true};var i=function(m,n){var l=g(m);e(l,n)};var e=function(l,n){var m=g(n.tooltip);l.unbind("mouseover").mouseover(function(o){if(f){clearTimeout(f)}f=null;if(j){if(this!=d){d=this;c(a);h(l,m,false);return}}else{d=this}if(k){return}k=setTimeout(function(){h(l,m,true)},n.showDelay);return false});l.unbind("click").click(function(o){if(j){c(a)}else{if(k){clearTimeout(k)}k=null}});m.unbind("mouseover").mouseover(function(){if(f){clearTimeout(f)}f=null;return false});l.add(m).unbind("mouseout").mouseout(function(o){if(k){clearTimeout(k)}k=null;if(f){clearTimeout(f)}f=setTimeout(function(){c(m)},n.hideDelay);return false})};var h=function(r,u,m){k=null;j=true;a=u;var o=r.attr("tooltip-header");if(o){u.find(".tooltip-header").text(o).show()}else{u.find(".tooltip-header").hide()}u.find("p").text(r.attr("tooltip-text"));var l=r.attr("tooltip-width");if(!l){l=190}u.css("width",l+"px");var p=r.attr("tooltip-position");var s=b(r,u,p);u.css({top:s.top,left:s.left});var n=g(".tooltip-pointer-up",u);var q=g(".tooltip-pointer-right",u);if(p=="left"){n.hide();q.css({top:Math.floor(r.outerHeight()/2)+1,left:u.outerWidth()}).show()}else{if(p=="top"||p=="right"){n.hide();q.hide()}else{q.hide();n.css({top:-6,left:r.offset().left-s.left+(r.outerWidth()>10?3:-3)}).show()}}if(m){u.hide().fadeIn(100)}else{u.show()}};var b=function(n,p,s){var l=g(window);var m=l.width()+l.scrollLeft();var r=n.offset();if(s=="left"){return{top:r.top-8,left:r.left-p.outerWidth()-12}}else{if(s=="right"){return{top:r.top-8,left:r.left+n.outerWidth()}}else{if(s=="top"){var q=r.left+parseInt(n.outerWidth()/2)-parseInt(p.outerWidth()/2);var o=p.outerWidth();return{top:r.top-p.outerHeight()-12,left:Math.max(15,Math.min(q,m-o-15))}}else{var q=r.left-15;var o=p.outerWidth();return{top:r.top+n.height()+8,left:Math.min(q,m-o-10)}}}}};var c=function(l){f=null;a=null;d=null;l.hide();j=false}})(jQuery);(function(b){b.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:true,filterTextInputs:true,filterContentEditable:true}};function a(d){if(typeof d.data==="string"){d.data={keys:d.data}}if(!d.data||!d.data.keys||typeof d.data.keys!=="string"){return}var c=d.handler,e=d.data.keys.toLowerCase().split(" ");d.handler=function(m){if(this!==m.target&&(b.hotkeys.options.filterInputAcceptingElements&&b.hotkeys.textInputTypes.test(m.target.nodeName)||(b.hotkeys.options.filterContentEditable&&b(m.target).attr("contenteditable"))||(b.hotkeys.options.filterTextInputs&&b.inArray(m.target.type,b.hotkeys.textAcceptingInputTypes)>-1))){return}var h=m.type!=="keypress"&&b.hotkeys.specialKeys[m.which],n=String.fromCharCode(m.which).toLowerCase(),k="",g={};b.each(["alt","ctrl","shift"],function(i,l){if(m[l+"Key"]&&h!==l){k+=l+"+"}});if(m.metaKey&&!m.ctrlKey&&h!=="meta"){k+="meta+"}if(m.metaKey&&h!=="meta"&&k.indexOf("alt+ctrl+shift+")>-1){k=k.replace("alt+ctrl+shift+","hyper+")}if(h){g[k+h]=true}else{g[k+n]=true;g[k+b.hotkeys.shiftNums[n]]=true;if(k==="shift+"){g[b.hotkeys.shiftNums[n]]=true}}for(var j=0,f=e.length;j<f;j++){if(g[e[j]]){return c.apply(this,arguments)}}}}b.each(["keydown","keyup","keypress"],function(){b.event.special[this]={add:a}})})(jQuery||this.jQuery||window.jQuery);(function(a){a.fn.clipboard=function(f){if(!window.FileReader){return this}var h=a.extend({},a.fn.clipboard.defaults,f);var e=new RegExp(h.accept),g=new RegExp("/(.*)");this.on("paste",function(j){var j=j.originalEvent;if(!j.clipboardData||!j.clipboardData.items){return}c(j,j.clipboardData.items)});function c(p,k){var n=[];for(var m=0;m<k.length;m++){var l=k[m].getAsFile();if(!l){continue}if(!l.type.match(e)){continue}var o=g.exec(l.type);if(!l.name&&o){var q=o[1];l.name=d(m,q)}n.push(l)}if(!n.length){return}for(var m=0;m<n.length;m++){var l=n[m],j=new FileReader();j.onloadend=function(){h.paste(p,l)};j.readAsDataURL(l)}p.preventDefault();p.stopPropagation()}function d(j,l){var k=b(new Date());return h.prefix+j+"-"+k+"."+l}function b(){var k=new Date();var r=k.getYear()+1900,j=i(k.getMonth()),p=i(k.getDay()),o=i(k.getHours()),q=i(k.getMinutes()),l=i(k.getSeconds());return r+"-"+j+"-"+p+"-"+o+"-"+q+"-"+l}function i(j){return j<10?("0"+j):j}return this};a.fn.clipboard.defaults={accept:"image/.*",prefix:"image-"}})(jQuery);if(!this.JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapeable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapeable.lastIndex=0;return escapeable.test(string)?'"'+string.replace(escapeable,function(a){var c=meta[a];if(typeof c==="string"){return c}return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(typeof value.length==="number"&&!value.propertyIsEnumerable("length")){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();(function(){function ar(o,n){var q;o||(o={});for(q in n){o[q]=n[q]}return o}function ao(){var o,n=arguments.length,s={},q=function(u,t){var w,v;for(v in t){t.hasOwnProperty(v)&&(w=t[v],typeof u!=="object"&&(u={}),u[v]=w&&typeof w==="object"&&Object.prototype.toString.call(w)!=="[object Array]"&&typeof w.nodeType!=="number"?q(u[v]||{},w):t[v])}return u};for(o=0;o<n;o++){s=q(s,arguments[o])}return s}function aq(o,n){return parseInt(o,n||10)}function bN(n){return typeof n==="string"}function aR(n){return typeof n==="object"}function a7(n){return Object.prototype.toString.call(n)==="[object Array]"}function aK(n){return typeof n==="number"}function bf(n){return a0.log(n)/a0.LN10}function H(n){return a0.pow(10,n)}function bv(o,n){for(var q=o.length;q--;){if(o[q]===n){o.splice(q,1);break}}}function au(n){return n!==ap&&n!==null}function bi(o,n,t){var s,q;if(bN(n)){au(t)?o.setAttribute(n,t):o&&o.getAttribute&&(q=o.getAttribute(n))}else{if(au(n)&&aR(n)){for(s in n){o.setAttribute(s,n[s])}}}return q}function a6(n){return a7(n)?n:[n]}function aw(){var o=arguments,n,s,q=o.length;for(n=0;n<q;n++){if(s=o[n],typeof s!=="undefined"&&s!==null){return s}}}function a1(o,n){if(aD&&n&&n.opacity!==ap){n.filter="alpha(opacity="+n.opacity*100+")"}ar(o.style,n)}function aS(o,n,t,s,q){o=am.createElement(o);n&&ar(o,n);q&&a1(o,{padding:0,border:aZ,margin:0});t&&a1(o,t);s&&s.appendChild(o);return o}function f(o,n){var q=function(){};q.prototype=new o;ar(q.prototype,n);return q}function bF(o,n,v,u){var t=aW.lang,s=o;n===-1?(n=(o||0).toString(),o=n.indexOf(".")>-1?n.split(".")[1].length:0):o=isNaN(n=aV(n))?2:n;var n=o,v=v===void 0?t.decimalPoint:v,u=u===void 0?t.thousandsSep:u,t=s<0?"-":"",o=String(aq(s=aV(+s||0).toFixed(n))),q=o.length>3?o.length%3:0;return t+(q?o.substr(0,q)+u:"")+o.substr(q).replace(/(\d{3})(?=\d)/g,"$1"+u)+(n?v+aV(s-o).toFixed(n).slice(2):"")}function ak(o,n){return Array((n||2)+1-String(o).length).join(0)+o}function ad(z,x){for(var w="{",v=!1,u,t,s,q,o,n=[];(w=z.indexOf(w))!==-1;){u=z.slice(0,w);if(v){t=u.split(":");s=t.shift().split(".");o=s.length;u=x;for(q=0;q<o;q++){u=u[s[q]]}if(t.length){t=t.join(":"),s=/\.([0-9])/,q=aW.lang,o=void 0,/f$/.test(t)?(o=(o=t.match(s))?o[1]:6,u=bF(u,o,q.decimalPoint,t.indexOf(",")>-1?q.thousandsSep:"")):u=bq(t,u)}}n.push(u);z=z.slice(w+1);w=(v=!v)?"}":"{"}n.push(z);return n.join("")}function aA(o,n,t,s){var q,t=aw(t,1);q=o/t;n||(n=[1,2,2.5,5,10],s&&s.allowDecimals===!1&&(t===1?n=[1,2,5,10]:t<=0.1&&(n=[1/t])));for(s=0;s<n.length;s++){if(o=n[s],q<=(n[s]+(n[s+1]||n[s]))/2){break}}o*=t;return o}function bG(o,n){var v=n||[[bo,[1,2,5,10,20,25,50,100,200,500]],[I,[1,2,5,10,15,30]],[aN,[1,2,5,10,15,30]],[bn,[1,2,3,4,6,8,12]],[aF,[1,2]],[an,[1,2]],[aL,[1,2,3,4,6]],[p,null]],u=v[v.length-1],t=bj[u[0]],s=u[1],q;for(q=0;q<v.length;q++){if(u=v[q],t=bj[u[0]],s=u[1],v[q+1]&&o<=(t*s[s.length-1]+bj[v[q+1][0]])/2){break}}t===bj[p]&&o<5*t&&(s=[1,2,5]);t===bj[p]&&o<5*t&&(s=[1,2,5]);v=aA(o/t,s);return{unitRange:t,count:v,unitName:u[0]}}function bM(E,C,A,z){var x=[],w={},v=aW.global.useUTC,u,t=new Date(C),s=E.unitRange,q=E.count;if(au(C)){s>=bj[I]&&(t.setMilliseconds(0),t.setSeconds(s>=bj[aN]?0:q*aT(t.getSeconds()/q)));if(s>=bj[aN]){t[bu](s>=bj[bn]?0:q*aT(t[g]()/q))}if(s>=bj[bn]){t[a5](s>=bj[aF]?0:q*aT(t[bP]()/q))}if(s>=bj[aF]){t[bx](s>=bj[aL]?1:q*aT(t[al]()/q))}s>=bj[aL]&&(t[aB](s>=bj[p]?0:q*aT(t[B]()/q)),u=t[d]());s>=bj[p]&&(u-=u%q,t[Q](u));if(s===bj[an]){t[bx](t[al]()-t[a9]()+aw(z,1))}C=1;u=t[d]();for(var z=t.getTime(),n=t[B](),o=t[al](),t=v?0:(86400000+t.getTimezoneOffset()*60000)%86400000;z<A;){x.push(z),s===bj[p]?z=bK(u+C*q,0):s===bj[aL]?z=bK(u,n+C*q):!v&&(s===bj[aF]||s===bj[an])?z=bK(u,n,o+C*q*(s===bj[aF]?1:7)):(z+=s*q,s<=bj[bn]&&z%bj[aF]===t&&(w[z]=aF)),C++}x.push(z)}x.info=ar(E,{higherRanks:w,totalRange:s*q});return x}function i(){this.symbol=this.color=0}function bR(o,n){var t=o.length,s,q;for(q=0;q<t;q++){o[q].ss_i=q}o.sort(function(u,v){s=n(u,v);return s===0?u.ss_i-v.ss_i:s});for(q=0;q<t;q++){delete o[q].ss_i}}function j(o){for(var n=o.length,q=o[0];n--;){o[n]<q&&(q=o[n])}return q}function ag(o){for(var n=o.length,q=o[0];n--;){o[n]>q&&(q=o[n])}return q}function bS(o,n){for(var q in o){o[q]&&o[q]!==n&&o[q].destroy&&o[q].destroy(),delete o[q]}}function y(n){bh||(bh=aS(b));n&&bh.appendChild(n);bh.innerHTML=""}function m(o,n){var q="Highcharts error #"+o+": www.highcharts.com/errors/"+o;if(n){throw q}else{bd.console&&console.log(q)}}function aC(n){return parseFloat(n.toPrecision(14))}function bA(o,n){bI=aw(o,n.animation)}function bz(){var o=aW.global.useUTC,n=o?"getUTC":"get",q=o?"setUTC":"set";bK=o?Date.UTC:function(t,s,x,w,v,u){return(new Date(t,s,aw(x,1),aw(w,0),aw(v,0),aw(u,0))).getTime()};g=n+"Minutes";bP=n+"Hours";a9=n+"Day";al=n+"Date";B=n+"Month";d=n+"FullYear";bu=q+"Minutes";a5=q+"Hours";bx=q+"Date";aB=q+"Month";Q=q+"FullYear"}function bV(){}function bg(o,n,s,q){this.axis=o;this.pos=n;this.type=s||"";this.isNew=!0;!s&&!q&&this.addLabel()}function aE(o,n){this.axis=o;if(n){this.options=n,this.id=n.id}}function be(o,n,v,u,t,s){var q=o.chart.inverted;this.axis=o;this.isNegative=v;this.options=n;this.x=u;this.stack=t;this.percent=s==="percent";this.alignOptions={align:n.align||(q?v?"left":"right":"center"),verticalAlign:n.verticalAlign||(q?"middle":v?"bottom":"top"),y:aw(n.y,q?4:v?14:-6),x:aw(n.x,q?v?-6:6:0)};this.textAlign=n.textAlign||(q?v?"right":"left":"center")}function br(){this.init.apply(this,arguments)}function ae(){this.init.apply(this,arguments)}function k(o,n){this.init(o,n)}function bT(o,n){this.init(o,n)}function bC(){this.init.apply(this,arguments)}var ap,am=document,bd=window,a0=Math,at=a0.round,aT=a0.floor,ac=a0.ceil,av=a0.max,bc=a0.min,aV=a0.abs,aO=a0.cos,az=a0.sin,aH=a0.PI,aX=aH*2/360,bp=navigator.userAgent,aG=bd.opera,aD=/msie/i.test(bp)&&!aG,ax=am.documentMode===8,D=/AppleWebKit/.test(bp),e=/Firefox/.test(bp),af=/(Mobile|Android|Windows Phone)/.test(bp),bE="http://www.w3.org/2000/svg",aM=!!am.createElementNS&&!!am.createElementNS(bE,"svg").createSVGRect,r=e&&parseInt(bp.split("Firefox/")[1],10)<4,bB=!aM&&!aD&&!!am.createElement("canvas").getContext,c,bL=am.documentElement.ontouchstart!==ap,l={},bk=0,bh,aW,bq,bI,aI,bj,bm=function(){},bO=[],b="div",aZ="none",bU="rgba(192,192,192,"+(aM?0.0001:0.002)+")",bo="millisecond",I="second",aN="minute",bn="hour",aF="day",an="week",aL="month",p="year",bD="stroke-width",bK,g,bP,a9,al,B,d,bu,a5,bx,aB,Q,bs={};bd.Highcharts=bd.Highcharts?m(16,!0):{};bq=function(C,A,z){if(!au(A)||isNaN(A)){return"Invalid date"}var C=aw(C,"%Y-%m-%d %H:%M:%S"),x=new Date(A),w,v=x[bP](),u=x[a9](),t=x[al](),s=x[B](),q=x[d](),o=aW.lang,n=o.weekdays,x=ar({a:n[u].substr(0,3),A:n[u],d:ak(t),e:t,b:o.shortMonths[s],B:o.months[s],m:ak(s+1),y:q.toString().substr(2,2),Y:q,H:ak(v),I:ak(v%12||12),l:v%12||12,M:ak(x[g]()),p:v<12?"AM":"PM",P:v<12?"am":"pm",S:ak(x.getSeconds()),L:ak(at(A%1000),3)},Highcharts.dateFormats);for(w in x){for(;C.indexOf("%"+w)!==-1;){C=C.replace("%"+w,typeof x[w]==="function"?x[w](A):x[w])}}return z?C.substr(0,1).toUpperCase()+C.substr(1):C};i.prototype={wrapColor:function(n){if(this.color>=n){this.color=0}},wrapSymbol:function(n){if(this.symbol>=n){this.symbol=0}}};bj=function(){for(var o=0,n=arguments,s=n.length,q={};o<s;o++){q[n[o++]]=n[o]}return q}(bo,1,I,1000,aN,60000,bn,3600000,aF,86400000,an,604800000,aL,2678400000,p,31556952000);aI={init:function(z,x,w){var x=x||"",v=z.shift,u=x.indexOf("C")>-1,t=u?7:3,s,x=x.split(" "),w=[].concat(w),q,o,n=function(A){for(s=A.length;s--;){A[s]==="M"&&A.splice(s+1,0,A[s+1],A[s+2],A[s+1],A[s+2])}};u&&(n(x),n(w));z.isArea&&(q=x.splice(x.length-6,6),o=w.splice(w.length-6,6));if(v<=w.length/t){for(;v--;){w=[].concat(w).splice(0,t).concat(w)}}z.shift=0;if(x.length){for(z=w.length;x.length<z;){v=[].concat(x).splice(x.length-t,t),u&&(v[t-6]=v[t-2],v[t-5]=v[t-1]),x=x.concat(v)}}q&&(x=x.concat(q),w=w.concat(o));return[x,w]},step:function(o,n,u,t){var s=[],q=o.length;if(u===1){s=t}else{if(q===n.length&&u<1){for(;q--;){t=parseFloat(o[q]),s[q]=isNaN(t)?o[q]:u*parseFloat(n[q]-t)+t}}else{s=n}}return s}};(function(n){bd.HighchartsAdapter=bd.HighchartsAdapter||n&&{init:function(o){var v=n.fx,u=v.step,t,s=n.Tween,q=s&&s.propHooks;n.extend(n.easing,{easeOutQuad:function(x,w,C,A,z){return -A*(w/=z)*(w-2)+C}});n.each(["cur","_default","width","height","opacity"],function(z,x){var C=u,A,w;x==="cur"?C=v.prototype:x==="_default"&&s&&(C=q[x],x="set");(A=C[x])&&(C[x]=function(E){E=z?E:this;w=E.elem;return w.attr?w.attr(E.prop,x==="cur"?ap:E.now):A.apply(this,arguments)})});t=function(w){var z=w.elem,x;if(!w.started){x=o.init(z,z.d,z.toD),w.start=x[0],w.end=x[1],w.started=!0}z.attr("d",o.step(w.start,w.end,w.pos,z.toD))};s?q.d={set:t}:u.d=t;this.each=Array.prototype.forEach?function(x,w){return Array.prototype.forEach.call(x,w)}:function(x,w){for(var A=0,z=x.length;A<z;A++){if(w.call(x[A],x[A],A,x)===!1){return A}}};n.fn.highcharts=function(){var x="Chart",w=arguments,A,z;bN(w[0])&&(x=w[0],w=Array.prototype.slice.call(w,1));A=w[0];if(A!==ap){A.chart=A.chart||{},A.chart.renderTo=this[0],new Highcharts[x](A,w[1]),z=this}A===ap&&(z=bO[bi(this[0],"data-highcharts-chart")]);return z}},getScript:n.getScript,inArray:n.inArray,adapterRun:function(o,q){return n(o)[q]()},grep:n.grep,map:function(o,u){for(var t=[],s=0,q=o.length;s<q;s++){t[s]=u.call(o[s],o[s],s,o)}return t},offset:function(o){return n(o).offset()},addEvent:function(o,s,q){n(o).bind(s,q)},removeEvent:function(o,t,s){var q=am.removeEventListener?"removeEventListener":"detachEvent";am[q]&&!o[q]&&(o[q]=function(){});n(o).unbind(t,s)},fireEvent:function(o,w,v,u){var t=n.Event(w),s="detached"+w,q;!aD&&v&&(delete v.layerX,delete v.layerY);ar(t,v);o[w]&&(o[s]=o[w],o[w]=null);n.each(["preventDefault","stopPropagation"],function(z,x){var A=t[x];t[x]=function(){try{A.call(t)}catch(C){x==="preventDefault"&&(q=!0)}}});n(o).trigger(t);o[s]&&(o[w]=o[s],o[s]=null);u&&!t.isDefaultPrevented()&&!q&&u(t)},washMouseEvent:function(o){var q=o.originalEvent||o;if(q.pageX===ap){q.pageX=o.pageX,q.pageY=o.pageY}return q},animate:function(o,t,s){var q=n(o);if(t.d){o.toD=t.d,t.d=1}q.stop();t.opacity!==ap&&o.attr&&(t.opacity+="px");q.animate(t,s)},stop:function(o){n(o).stop()}}})(bd.jQuery);var aQ=bd.HighchartsAdapter,a2=aQ||{};aQ&&aQ.init.call(aQ,aI);var bt=a2.adapterRun,a=a2.getScript,h=a2.inArray,ay=a2.each,bl=a2.grep,bH=a2.offset,ah=a2.map,a4=a2.addEvent,aY=a2.removeEvent,a8=a2.fireEvent,aJ=a2.washMouseEvent,ai=a2.animate,bJ=a2.stop,a2={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};aW={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.0/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.0/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:ao(a2,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:aM,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:af?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var aP=aW.plotOptions,aQ=aP.line;bz();var bQ=function(o){var n=[],s,q;(function(t){t&&t.stops?q=ah(t.stops,function(u){return bQ(u[1])}):(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t))?n=[aq(s[1]),aq(s[2]),aq(s[3]),parseFloat(s[4],10)]:(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?n=[aq(s[1],16),aq(s[2],16),aq(s[3],16),1]:(s=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))&&(n=[aq(s[1]),aq(s[2]),aq(s[3]),1])})(o);return{get:function(u){var t;q?(t=ao(o),t.stops=[].concat(t.stops),ay(q,function(w,v){t.stops[v]=[t.stops[v][0],w.get(u)]})):t=n&&!isNaN(n[0])?u==="rgb"?"rgb("+n[0]+","+n[1]+","+n[2]+")":u==="a"?n[3]:"rgba("+n.join(",")+")":o;return t},brighten:function(t){if(q){ay(q,function(v){v.brighten(t)})}else{if(aK(t)&&t!==0){var u;for(u=0;u<3;u++){n[u]+=aq(t*255),n[u]<0&&(n[u]=0),n[u]>255&&(n[u]=255)}}}return this},rgba:n,setOpacity:function(t){n[3]=t;return this}}};bV.prototype={init:function(o,n){this.element=n==="span"?aS(n):am.createElementNS(bE,n);this.renderer=o;this.attrSetters={}},opacity:1,animate:function(o,n,q){n=aw(n,bI,!0);bJ(this);if(n){n=ao(n);if(q){n.complete=q}ai(this,o,n)}else{this.attr(o),q&&q()}},attr:function(G,F){var E,C,A,z,x=this.element,w=x.nodeName.toLowerCase(),v=this.renderer,u,t=this.attrSetters,q=this.shadows,s,o,n=this;bN(G)&&au(F)&&(E=G,G={},G[E]=F);if(bN(G)){E=G,w==="circle"?E={x:"cx",y:"cy"}[E]||E:E==="strokeWidth"&&(E="stroke-width"),n=bi(x,E)||this[E]||0,E!=="d"&&E!=="visibility"&&(n=parseFloat(n))}else{for(E in G){if(u=!1,C=G[E],A=t[E]&&t[E].call(this,C,E),A!==!1){A!==ap&&(C=A);if(E==="d"){C&&C.join&&(C=C.join(" ")),/(NaN| {2}|^$)/.test(C)&&(C="M 0 0")}else{if(E==="x"&&w==="text"){for(A=0;A<x.childNodes.length;A++){z=x.childNodes[A],bi(z,"x")===bi(x,"x")&&bi(z,"x",C)}}else{if(this.rotation&&(E==="x"||E==="y")){o=!0}else{if(E==="fill"){C=v.color(C,x,E)}else{if(w==="circle"&&(E==="x"||E==="y")){E={x:"cx",y:"cy"}[E]||E}else{if(w==="rect"&&E==="r"){bi(x,{rx:C,ry:C}),u=!0}else{if(E==="translateX"||E==="translateY"||E==="rotation"||E==="verticalAlign"||E==="scaleX"||E==="scaleY"){u=o=!0}else{if(E==="stroke"){C=v.color(C,x,E)}else{if(E==="dashstyle"){if(E="stroke-dasharray",C=C&&C.toLowerCase(),C==="solid"){C=aZ}else{if(C){C=C.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(A=C.length;A--;){C[A]=aq(C[A])*G["stroke-width"]}C=C.join(",")}}}else{if(E==="width"){C=aq(C)}else{if(E==="align"){E="text-anchor",C={left:"start",center:"middle",right:"end"}[C]}else{if(E==="title"){A=x.getElementsByTagName("title")[0],A||(A=am.createElementNS(bE,"title"),x.appendChild(A)),A.textContent=C}}}}}}}}}}}}E==="strokeWidth"&&(E="stroke-width");if(E==="stroke-width"||E==="stroke"){this[E]=C;if(this.stroke&&this["stroke-width"]){bi(x,"stroke",this.stroke),bi(x,"stroke-width",this["stroke-width"]),this.hasStroke=!0}else{if(E==="stroke-width"&&C===0&&this.hasStroke){x.removeAttribute("stroke"),this.hasStroke=!1}}u=!0}this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(E)&&(s||(this.symbolAttr(G),s=!0),u=!0);if(q&&/^(width|height|visibility|x|y|d|transform)$/.test(E)){for(A=q.length;A--;){bi(q[A],E,E==="height"?av(C-(q[A].cutHeight||0),0):C)}}if((E==="width"||E==="height")&&w==="rect"&&C<0){C=0}this[E]=C;E==="text"?(C!==this.textStr&&delete this.bBox,this.textStr=C,this.added&&v.buildText(this)):u||bi(x,E,C)}}o&&this.updateTransform()}return n},addClass:function(n){bi(this.element,"class",bi(this.element,"class")+" "+n);return this},symbolAttr:function(o){var n=this;ay("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(q){n[q]=aw(o[q],n[q])});n.attr({d:n.renderer.symbols[n.symbolName](n.x,n.y,n.width,n.height,n)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":aZ)},crisp:function(x,w,v,u,t){var s,q={},o={},n,x=x||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;n=at(x)%2/2;o.x=aT(w||this.x||0)+n;o.y=aT(v||this.y||0)+n;o.width=aT((u||this.width||0)-2*n);o.height=aT((t||this.height||0)-2*n);o.strokeWidth=x;for(s in o){this[s]!==o[s]&&(this[s]=q[s]=o[s])}return q},css:function(o){var n=this.element,n=o&&o.width&&n.nodeName.toLowerCase()==="text",t,s="",q=function(v,u){return"-"+u.toLowerCase()};if(o&&o.color){o.fill=o.color}this.styles=o=ar(this.styles,o);bB&&n&&delete o.width;if(aD&&!aM){n&&delete o.width,a1(this.element,o)}else{for(t in o){s+=t.replace(/([A-Z])/g,q)+":"+o[t]+";"}this.attr({style:s})}n&&this.added&&this.renderer.buildText(this);return this},on:function(o,n){if(bL&&o==="click"){this.element.ontouchstart=function(q){q.preventDefault();n()}}this.element["on"+o]=n;return this},setRadialReference:function(n){this.element.radialReference=n;return this},translate:function(o,n){return this.attr({translateX:o,translateY:n})},invert:function(){this.inverted=!0;this.updateTransform();return this},htmlCss:function(o){var n=this.element;if(n=o&&n.tagName==="SPAN"&&o.width){delete o.width,this.textWidth=n,this.updateTransform()}this.styles=ar(this.styles,o);a1(this.element,o);return this},htmlGetBBox:function(){var o=this.element,n=this.bBox;if(!n){if(o.nodeName==="text"){o.style.position="absolute"}n=this.bBox={x:o.offsetLeft,y:o.offsetTop,width:o.offsetWidth,height:o.offsetHeight}}return n},htmlUpdateTransform:function(){if(this.added){var M=this.renderer,L=this.element,K=this.translateX||0,J=this.translateY||0,G=this.x||0,F=this.y||0,E=this.textAlign||"left",C={left:0,center:0.5,right:1}[E],A=E&&E!=="left",z=this.shadows;if(K||J){a1(L,{marginLeft:K,marginTop:J}),z&&ay(z,function(N){a1(N,{marginLeft:K+1,marginTop:J+1})})}this.inverted&&ay(L.childNodes,function(N){M.invertChild(N,L)});if(L.tagName==="SPAN"){var x,v,z=this.rotation,w,u=0,s=1,u=0,o;w=aq(this.textWidth);var t=this.xCorr||0,n=this.yCorr||0,q=[z,E,L.innerHTML,this.textWidth].join(",");x={};if(q!==this.cTT){if(au(z)){M.isSVG?(t=aD?"-ms-transform":D?"-webkit-transform":e?"MozTransform":aG?"-o-transform":"",x[t]=x.transform="rotate("+z+"deg)"):(u=z*aX,s=aO(u),u=az(u),x.filter=z?["progid:DXImageTransform.Microsoft.Matrix(M11=",s,", M12=",-u,", M21=",u,", M22=",s,", sizingMethod='auto expand')"].join(""):aZ),a1(L,x)}x=aw(this.elemWidth,L.offsetWidth);v=aw(this.elemHeight,L.offsetHeight);if(x>w&&/[ \-]/.test(L.textContent||L.innerText)){a1(L,{width:w+"px",display:"block",whiteSpace:"normal"}),x=w}w=M.fontMetrics(L.style.fontSize).b;t=s<0&&-x;n=u<0&&-v;o=s*u<0;t+=u*w*(o?1-C:C);n-=s*w*(z?o?C:1-C:1);A&&(t-=x*C*(s<0?-1:1),z&&(n-=v*C*(u<0?-1:1)),a1(L,{textAlign:E}));this.xCorr=t;this.yCorr=n}a1(L,{left:G+t+"px",top:F+n+"px"});if(D){v=L.offsetHeight}this.cTT=q}}else{this.alignOnAdd=!0}},updateTransform:function(){var o=this.translateX||0,n=this.translateY||0,v=this.scaleX,u=this.scaleY,t=this.inverted,s=this.rotation,q=[];t&&(o+=this.attr("width"),n+=this.attr("height"));(o||n)&&q.push("translate("+o+","+n+")");t?q.push("rotate(90) scale(-1,1)"):s&&q.push("rotate("+s+" "+(this.x||0)+" "+(this.y||0)+")");(au(v)||au(u))&&q.push("scale("+aw(v,1)+" "+aw(u,1)+")");q.length&&bi(this.element,"transform",q.join(" "))},toFront:function(){var n=this.element;n.parentNode.appendChild(n);return this},align:function(o,n,w){var v,u,t,s,q={};u=this.renderer;t=u.alignedObjects;if(o){if(this.alignOptions=o,this.alignByTranslate=n,!w||bN(w)){this.alignTo=v=w||"renderer",bv(t,this),t.push(this),w=null}}else{o=this.alignOptions,n=this.alignByTranslate,v=this.alignTo}w=aw(w,u[v],u);v=o.align;u=o.verticalAlign;t=(w.x||0)+(o.x||0);s=(w.y||0)+(o.y||0);if(v==="right"||v==="center"){t+=(w.width-(o.width||0))/{right:1,center:2}[v]}q[n?"translateX":"x"]=at(t);if(u==="bottom"||u==="middle"){s+=(w.height-(o.height||0))/({bottom:1,middle:2}[u]||1)}q[n?"translateY":"y"]=at(s);this[this.placed?"animate":"attr"](q);this.placed=!0;this.alignAttr=q;return this},getBBox:function(){var o=this.bBox,n=this.renderer,v,u=this.rotation;v=this.element;var t=this.styles,s=u*aX;if(!o){if(v.namespaceURI===bE||n.forExport){try{o=v.getBBox?ar({},v.getBBox()):{width:v.offsetWidth,height:v.offsetHeight}}catch(q){}if(!o||o.width<0){o={width:0,height:0}}}else{o=this.htmlGetBBox()}if(n.isSVG){n=o.width;v=o.height;if(aD&&t&&t.fontSize==="11px"&&v.toPrecision(3)===22.7){o.height=v=14}if(u){o.width=aV(v*az(s))+aV(n*aO(s)),o.height=aV(v*aO(s))+aV(n*az(s))}}this.bBox=o}return o},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(o){var n=this;n.animate({opacity:0},{duration:o||150,complete:function(){n.hide()}})},add:function(o){var n=this.renderer,w=o||n,v=w.element||n.box,u=v.childNodes,t=this.element,s=bi(t,"zIndex"),q;if(o){this.parentGroup=o}this.parentInverted=o&&o.inverted;this.textStr!==void 0&&n.buildText(this);if(s){w.handleZ=!0,s=aq(s)}if(w.handleZ){for(w=0;w<u.length;w++){if(o=u[w],n=bi(o,"zIndex"),o!==t&&(aq(n)>s||!au(s)&&au(n))){v.insertBefore(t,o);q=!0;break}}}q||v.appendChild(t);this.added=!0;a8(this,"add");return this},safeRemoveChild:function(o){var n=o.parentNode;n&&n.removeChild(o)},destroy:function(){var o=this,n=o.element||{},t=o.shadows,s,q;n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null;bJ(o);if(o.clipPath){o.clipPath=o.clipPath.destroy()}if(o.stops){for(q=0;q<o.stops.length;q++){o.stops[q]=o.stops[q].destroy()}o.stops=null}o.safeRemoveChild(n);t&&ay(t,function(u){o.safeRemoveChild(u)});o.alignTo&&bv(o.renderer.alignedObjects,o);for(s in o){delete o[s]}return null},shadow:function(A,z,x){var w=[],v,u,t=this.element,s,q,o,n;if(A){q=aw(A.width,3);o=(A.opacity||0.15)/q;n=this.parentInverted?"(-1,-1)":"("+aw(A.offsetX,1)+", "+aw(A.offsetY,1)+")";for(v=1;v<=q;v++){u=t.cloneNode(0);s=q*2+1-2*v;bi(u,{isShadow:"true",stroke:A.color||"black","stroke-opacity":o*v,"stroke-width":s,transform:"translate"+n,fill:aZ});if(x){bi(u,"height",av(bi(u,"height")-s,0)),u.cutHeight=s}z?z.element.appendChild(u):t.parentNode.insertBefore(u,t);w.push(u)}this.shadows=w}return this}};var bw=function(){this.init.apply(this,arguments)};bw.prototype={Element:bV,init:function(o,n,v,u){var t=location,s;s=this.createElement("svg").attr({xmlns:bE,version:"1.1"});o.appendChild(s.element);this.isSVG=!0;this.box=s.element;this.boxWrapper=s;this.alignedObjects=[];this.url=(e||D)&&am.getElementsByTagName("base").length?t.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(am.createTextNode("Created with Highcharts 3.0.0"));this.defs=this.createElement("defs").add();this.forExport=u;this.gradients={};this.setSize(n,v,!1);var q;if(e&&o.getBoundingClientRect){this.subPixelFix=n=function(){a1(o,{left:0,top:0});q=o.getBoundingClientRect();a1(o,{left:ac(q.left)-q.left+"px",top:ac(q.top)-q.top+"px"})},n(),a4(bd,"resize",n)}},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var n=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();bS(this.gradients||{});this.gradients=null;if(n){this.defs=n.destroy()}this.subPixelFix&&aY(bd,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(o){var n=new this.Element;n.init(this,o);return n},draw:function(){},buildText:function(E){for(var C=E.element,A=this,z=A.forExport,x=aw(E.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),w=C.childNodes,v=/style="([^"]+)"/,u=/href="([^"]+)"/,t=bi(C,"x"),s=E.styles,q=s&&s.width&&aq(s.width),n=s&&s.lineHeight,o=w.length;o--;){C.removeChild(w[o])}q&&!E.added&&this.box.appendChild(C);x[x.length-1]===""&&x.pop();ay(x,function(J,G){var F,K=0,J=J.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");F=J.split("|||");ay(F,function(P){if(P!==""||F.length===1){var O={},R=am.createElementNS(bE,"tspan"),N;v.test(P)&&(N=P.match(v)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),bi(R,"style",N));u.test(P)&&!z&&(bi(R,"onclick",'location.href="'+P.match(u)[1]+'"'),a1(R,{cursor:"pointer"}));P=(P.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");R.appendChild(am.createTextNode(P));K?O.dx=0:O.x=t;bi(R,O);!K&&G&&(!aM&&z&&a1(R,{display:"block"}),bi(R,"dy",n||A.fontMetrics(/px$/.test(R.style.fontSize)?R.style.fontSize:s.fontSize).h,D&&R.offsetHeight));C.appendChild(R);K++;if(q){for(var P=P.replace(/([^\^])-/g,"$1- ").split(" "),M,L=[];P.length||L.length;){delete E.bBox,M=E.getBBox().width,O=M>q,!O||P.length===1?(P=L,L=[],P.length&&(R=am.createElementNS(bE,"tspan"),bi(R,{dy:n||16,x:t}),N&&bi(R,"style",N),C.appendChild(R),M>q&&(q=M))):(R.removeChild(R.firstChild),L.unshift(P.pop())),P.length&&R.appendChild(am.createTextNode(P.join(" ").replace(/- /g,"-")))}}}})})},button:function(F,E,C,A,z,x,w){var v=this.label(F,E,C,null,null,null,null,null,"button"),u=0,t,s,o,q,n,F={x1:0,y1:0,x2:0,y2:1},z=ao({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:F,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},z);o=z.style;delete z.style;x=ao(z,{stroke:"#68A",fill:{linearGradient:F,stops:[[0,"#FFF"],[1,"#ACF"]]}},x);q=x.style;delete x.style;w=ao(z,{stroke:"#68A",fill:{linearGradient:F,stops:[[0,"#9BD"],[1,"#CDF"]]}},w);n=w.style;delete w.style;a4(v.element,"mouseenter",function(){v.attr(x).css(q)});a4(v.element,"mouseleave",function(){t=[z,x,w][u];s=[o,q,n][u];v.attr(t).css(s)});v.setState=function(G){(u=G)?G===2&&v.attr(w).css(n):v.attr(z).css(o)};return v.on("click",function(){A.call(v)}).attr(z).css(ar({cursor:"default"},o))},crispLine:function(o,n){o[1]===o[4]&&(o[1]=o[4]=at(o[1])-n%2/2);o[2]===o[5]&&(o[2]=o[5]=at(o[2])+n%2/2);return o},path:function(o){var n={fill:aZ};a7(o)?n.d=o:aR(o)&&ar(n,o);return this.createElement("path").attr(n)},circle:function(o,n,q){o=aR(o)?o:{x:o,y:n,r:q};return this.createElement("circle").attr(o)},arc:function(o,n,u,t,s,q){if(aR(o)){n=o.y,u=o.r,t=o.innerR,s=o.start,q=o.end,o=o.x}return this.symbol("arc",o||0,n||0,u||0,u||0,{innerR:t||0,start:s||0,end:q||0})},rect:function(o,n,u,t,s,q){s=aR(o)?o.r:s;s=this.createElement("rect").attr({rx:s,ry:s,fill:aZ});return s.attr(aR(o)?o:s.crisp(q,o,n,av(u,0),av(t,0)))},setSize:function(o,n,t){var s=this.alignedObjects,q=s.length;this.width=o;this.height=n;for(this.boxWrapper[aw(t,!0)?"animate":"attr"]({width:o,height:n});q--;){s[q].align()}},g:function(o){var n=this.createElement("g");return au(o)?n.attr({"class":"highcharts-"+o}):n},image:function(o,n,u,t,s){var q={preserveAspectRatio:aZ};arguments.length>1&&ar(q,{x:n,y:u,width:t,height:s});q=this.createElement("image").attr(q);q.element.setAttributeNS?q.element.setAttributeNS("http://www.w3.org/1999/xlink","href",o):q.element.setAttribute("hc-svg-href",o);return q},symbol:function(A,z,x,w,v,u){var t,s=this.symbols[A],s=s&&s(at(z),at(x),w,v,u),q=/^url\((.*?)\)$/,o,n;s?(t=this.path(s),ar(t,{symbolName:A,x:z,y:x,width:w,height:v}),u&&ar(t,u)):q.test(A)&&(n=function(E,C){E.element&&(E.attr({width:C[0],height:C[1]}),E.alignByTranslate||E.translate(at((w-C[0])/2),at((v-C[1])/2)))},o=A.match(q)[1],A=l[o],t=this.image(o).attr({x:z,y:x}),A?n(t,A):(t.attr({width:0,height:0}),aS("img",{onload:function(){n(t,l[o]=[this.width,this.height])},src:o})));return t},symbols:{circle:function(o,n,t,s){var q=0.166*t;return["M",o+t/2,n,"C",o+t+q,n,o+t+q,n+s,o+t/2,n+s,"C",o-q,n+s,o-q,n,o+t/2,n,"Z"]},square:function(o,n,s,q){return["M",o,n,"L",o+s,n,o+s,n+q,o,n+q,"Z"]},triangle:function(o,n,s,q){return["M",o+s/2,n,"L",o+s,n+q,o,n+q,"Z"]},"triangle-down":function(o,n,s,q){return["M",o,n,"L",o+s,n,o+s/2,n+q,"Z"]},diamond:function(o,n,s,q){return["M",o+s/2,n,"L",o+s,n+q/2,o+s/2,n+q,o,n+q/2,"Z"]},arc:function(A,z,x,w,v){var u=v.start,x=v.r||x||w,t=v.end-0.001,w=v.innerR,s=v.open,q=aO(u),o=az(u),n=aO(t),t=az(t),v=v.end-u<aH?0:1;return["M",A+x*q,z+x*o,"A",x,x,0,v,1,A+x*n,z+x*t,s?"M":"L",A+w*n,z+w*t,"A",w,w,0,v,0,A+w*q,z+w*o,s?"":"Z"]}},clipRect:function(o,n,u,t){var s="highcharts-"+bk++,q=this.createElement("clipPath").attr({id:s}).add(this.defs),o=this.rect(o,n,u,t,0).add(q);o.id=s;o.clipPath=q;return o},color:function(F,E,C){var A=this,z,x=/^rgba/,w,v,u,t,s,o,q,n=[];F&&F.linearGradient?w="linearGradient":F&&F.radialGradient&&(w="radialGradient");if(w){C=F[w];v=A.gradients;t=F.stops;E=E.radialReference;a7(C)&&(F[w]=C={x1:C[0],y1:C[1],x2:C[2],y2:C[3],gradientUnits:"userSpaceOnUse"});w==="radialGradient"&&E&&!au(C.gradientUnits)&&(C=ao(C,{cx:E[0]-E[2]/2+C.cx*E[2],cy:E[1]-E[2]/2+C.cy*E[2],r:C.r*E[2],gradientUnits:"userSpaceOnUse"}));for(q in C){q!=="id"&&n.push(q,C[q])}for(q in t){n.push(t[q])}n=n.join(",");v[n]?F=v[n].id:(C.id=F="highcharts-"+bk++,v[n]=u=A.createElement(w).attr(C).add(A.defs),u.stops=[],ay(t,function(G){x.test(G[1])?(z=bQ(G[1]),s=z.get("rgb"),o=z.get("a")):(s=G[1],o=1);G=A.createElement("stop").attr({offset:G[0],"stop-color":s,"stop-opacity":o}).add(u);u.stops.push(G)}));return"url("+A.url+"#"+F+")"}else{return x.test(F)?(z=bQ(F),bi(E,C+"-opacity",z.get("a")),z.get("rgb")):(E.removeAttribute(C+"-opacity"),F)}},text:function(o,n,u,t){var s=aW.chart.style,q=bB||!aM&&this.forExport;if(t&&!this.forExport){return this.html(o,n,u)}n=at(aw(n,0));u=at(aw(u,0));o=this.createElement("text").attr({x:n,y:u,text:o}).css({fontFamily:s.fontFamily,fontSize:s.fontSize});q&&o.css({position:"absolute"});o.x=n;o.y=u;return o},html:function(o,n,w){var v=aW.chart.style,u=this.createElement("span"),t=u.attrSetters,s=u.element,q=u.renderer;t.text=function(x){x!==s.innerHTML&&delete this.bBox;s.innerHTML=x;return !1};t.x=t.y=t.align=function(z,x){x==="align"&&(x="textAlign");u[x]=z;u.htmlUpdateTransform();return !1};u.attr({text:o,x:at(n),y:at(w)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:v.fontFamily,fontSize:v.fontSize});u.css=u.htmlCss;if(q.isSVG){u.add=function(z){var x,C=q.box.parentNode,A=[];if(z){if(x=z.div,!x){for(;z;){A.push(z),z=z.parentGroup}ay(A.reverse(),function(E){var F;x=E.div=E.div||aS(b,{className:bi(E.element,"class")},{position:"absolute",left:(E.translateX||0)+"px",top:(E.translateY||0)+"px"},x||C);F=x.style;ar(E.attrSetters,{translateX:function(G){F.left=G+"px"},translateY:function(G){F.top=G+"px"},visibility:function(J,G){F[G]=J}})})}}else{x=C}x.appendChild(s);u.added=!0;u.alignOnAdd&&u.htmlUpdateTransform();return u}}return u},fontMetrics:function(o){var o=aq(o||11),o=o<24?o+4:at(o*1.2),n=at(o*0.8);return{h:o,b:n}},label:function(bX,bb,ba,ab,aa,Z,Y,W,V){function T(){var q,o;q=O.element.style;u=(X===void 0||U===void 0||J.styles.textAlign)&&O.getBBox();J.width=(X||u.width||0)+2*K+s;J.height=(U||u.height||0)+2*K;G=K+N.fontMetrics(q&&q.fontSize).b;if(t){if(!L){q=at(-w*K),o=W?-G:0,J.box=L=ab?N.symbol(ab,q,o,J.width,J.height):N.rect(q,o,J.width,J.height,0,E[bD]),L.add(J)}L.attr(ao({width:J.width,height:J.height},E));E=null}}function S(){var q=J.styles,q=q&&q.textAlign,o=s+K*(1-w),v;v=W?0:G;if(au(X)&&(q==="center"||q==="right")){o+={center:0.5,right:1}[q]*(X-u.width)}(o!==O.x||v!==O.y)&&O.attr({x:o,y:v});O.x=o;O.y=v}function P(q,o){L?L.attr(q,o):E[q]=o}function R(){O.add(J);J.attr({text:bX,x:bb,y:ba});L&&au(aa)&&J.attr({anchorX:aa,anchorY:Z})}var N=this,J=N.g(V),O=N.text("",0,0,Y).attr({zIndex:1}),L,u,w=0,K=3,s=0,X,U,n,x,F=0,E={},G,Y=J.attrSetters,t;a4(J,"add",R);Y.width=function(o){X=o;return !1};Y.height=function(o){U=o;return !1};Y.padding=function(o){au(o)&&o!==K&&(K=o,S());return !1};Y.paddingLeft=function(o){au(o)&&o!==s&&(s=o,S());return !1};Y.align=function(o){w={left:0,center:0.5,right:1}[o];return !1};Y.text=function(q,o){O.attr(o,q);T();S();return !1};Y[bD]=function(q,o){t=!0;F=q%2/2;P(o,q);return !1};Y.stroke=Y.fill=Y.r=function(q,o){o==="fill"&&(t=!0);P(o,q);return !1};Y.anchorX=function(q,o){aa=q;P(o,q+F-n);return !1};Y.anchorY=function(q,o){Z=q;P(o,q-x);return !1};Y.x=function(o){J.x=o;o-=w*((X||u.width)+K);n=at(o);J.attr("translateX",n);return !1};Y.y=function(o){x=J.y=at(o);J.attr("translateY",x);return !1};var M=J.css;return ar(J,{css:function(q){if(q){var o={},q=ao(q);ay("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(v){q[v]!==ap&&(o[v]=q[v],delete q[v])});O.css(o)}return M.call(J,q)},getBBox:function(){return{width:u.width+2*K,height:u.height+2*K,x:u.x-K,y:u.y-K}},shadow:function(o){L&&L.shadow(o);return J},destroy:function(){aY(J,"add",R);aY(J.element,"mouseenter");aY(J.element,"mouseleave");O&&(O=O.destroy());L&&(L=L.destroy());bV.prototype.destroy.call(J);J=N=T=S=P=R=null}})}};c=bw;var a3;if(!aM&&!bB){Highcharts.VMLElement=a3={init:function(o,n){var t=["<",n,' filled="f" stroked="f"'],s=["position: ","absolute",";"],q=n===b;(n==="shape"||q)&&s.push("left:0;top:0;width:1px;height:1px;");s.push("visibility: ",q?"hidden":"visible");t.push(' style="',s.join(""),'"/>');if(n){t=q||n==="span"||n==="img"?t.join(""):o.prepVML(t),this.element=aS(t)}this.renderer=o;this.attrSetters={}},add:function(o){var n=this.renderer,s=this.element,q=n.box,q=o?o.element||o:q;o&&o.inverted&&n.invertChild(s,q);q.appendChild(s);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();a8(this,"add");return this},updateTransform:bV.prototype.htmlUpdateTransform,attr:function(G,F){var E,C,A,z=this.element||{},x=z.style,w=z.nodeName,v=this.renderer,u=this.symbolName,t,q=this.shadows,s,o=this.attrSetters,n=this;bN(G)&&au(F)&&(E=G,G={},G[E]=F);if(bN(G)){E=G,n=E==="strokeWidth"||E==="stroke-width"?this.strokeweight:this[E]}else{for(E in G){if(C=G[E],s=!1,A=o[E]&&o[E].call(this,C,E),A!==!1&&C!==null){A!==ap&&(C=A);if(u&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(E)){t||(this.symbolAttr(G),t=!0),s=!0}else{if(E==="d"){C=C||[];this.d=C.join(" ");A=C.length;for(s=[];A--;){if(aK(C[A])){s[A]=at(C[A]*10)-5}else{if(C[A]==="Z"){s[A]="x"}else{if(s[A]=C[A],C[A]==="wa"||C[A]==="at"){s[A+5]===s[A+7]&&(s[A+7]-=1),s[A+6]===s[A+8]&&(s[A+8]-=1)}}}}C=s.join(" ")||"x";z.path=C;if(q){for(A=q.length;A--;){q[A].path=q[A].cutOff?this.cutOffPath(C,q[A].cutOff):C}}s=!0}else{if(E==="visibility"){if(q){for(A=q.length;A--;){q[A].style[E]=C}}w==="DIV"&&(C=C==="hidden"?"-999em":0,ax||(x[E]=C?"hidden":"visible"),E="top");x[E]=C;s=!0}else{if(E==="zIndex"){C&&(x[E]=C),s=!0}else{if(h(E,["x","y","width","height"])!==-1){this[E]=C,E==="x"||E==="y"?E={x:"left",y:"top"}[E]:C=av(0,C),this.updateClipping?(this[E]=C,this.updateClipping()):x[E]=C,s=!0}else{if(E==="class"&&w==="DIV"){z.className=C}else{if(E==="stroke"){C=v.color(C,z,E),E="strokecolor"}else{if(E==="stroke-width"||E==="strokeWidth"){z.stroked=C?!0:!1,E="strokeweight",this[E]=C,aK(C)&&(C+="px")}else{if(E==="dashstyle"){(z.getElementsByTagName("stroke")[0]||aS(v.prepVML(["<stroke/>"]),null,null,z))[E]=C||"solid",this.dashstyle=C,s=!0}else{if(E==="fill"){if(w==="SPAN"){x.color=C}else{if(w!=="IMG"){z.filled=C!==aZ?!0:!1,C=v.color(C,z,E,this),E="fillcolor"}}}else{if(E==="opacity"){s=!0}else{if(w==="shape"&&E==="rotation"){this[E]=C,z.style.left=-at(az(C*aX)+1)+"px",z.style.top=at(aO(C*aX))+"px"}else{if(E==="translateX"||E==="translateY"||E==="rotation"){this[E]=C,this.updateTransform(),s=!0}else{if(E==="text"){this.bBox=null,z.innerHTML=C,s=!0}}}}}}}}}}}}}}s||(ax?z[E]=C:bi(z,E,C))}}}return n},clip:function(o){var n=this,q;o?(q=o.members,bv(q,n),q.push(n),n.destroyClip=function(){bv(q,n)},o=o.getCSS(n)):(n.destroyClip&&n.destroyClip(),o={clip:ax?"inherit":"rect(auto)"});return n.css(o)},css:bV.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&y(n)},destroy:function(){this.destroyClip&&this.destroyClip();return bV.prototype.destroy.apply(this)},on:function(o,n){this.element["on"+o]=function(){var q=bd.event;q.target=q.srcElement;n(q)};return this},cutOffPath:function(o,n){var q,o=o.split(/[ ,]/);q=o.length;if(q===9||q===11){o[q-4]=o[q-2]=aq(o[q-2])-10*n}return o.join(" ")},shadow:function(G,F,E){var C=[],A,z=this.element,x=this.renderer,w,v=z.style,u,t=z.path,q,s,o,n;t&&typeof t.value!=="string"&&(t="x");s=t;if(G){o=aw(G.width,3);n=(G.opacity||0.15)/o;for(A=1;A<=3;A++){q=o*2+1-2*A;E&&(s=this.cutOffPath(t.value,q+0.5));u=['<shape isShadow="true" strokeweight="',q,'" filled="false" path="',s,'" coordsize="10 10" style="',z.style.cssText,'" />'];w=aS(x.prepVML(u),null,{left:aq(v.left)+aw(G.offsetX,1),top:aq(v.top)+aw(G.offsetY,1)});if(E){w.cutOff=q+1}u=['<stroke color="',G.color||"black",'" opacity="',n*A,'"/>'];aS(x.prepVML(u),null,null,w);F?F.element.appendChild(w):z.parentNode.insertBefore(w,z);C.push(w)}this.shadows=C}return this}};a3=f(bV,a3);var by={Element:a3,isIE8:bp.indexOf("MSIE 8.0")>-1,init:function(o,n,t){var s,q;this.alignedObjects=[];s=this.createElement(b);q=s.element;q.style.position="relative";o.appendChild(s.element);this.isVML=!0;this.box=q;this.boxWrapper=s;this.setSize(n,t,!1);if(!am.namespaces.hcv){am.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),am.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(o,n,u,t){var s=this.createElement(),q=aR(o);return ar(s,{members:[],left:q?o.x:o,top:q?o.y:n,width:q?o.width:u,height:q?o.height:t,getCSS:function(w){var v=w.element,C=v.nodeName,w=w.inverted,A=this.top-(C==="shape"?v.offsetTop:0),z=this.left,v=z+this.width,x=A+this.height,A={clip:"rect("+at(w?z:A)+"px,"+at(w?x:v)+"px,"+at(w?v:x)+"px,"+at(w?A:z)+"px)"};!w&&ax&&C==="DIV"&&ar(A,{width:v+"px",height:x+"px"});return A},updateClipping:function(){ay(s.members,function(v){v.css(s.getCSS(v))})}})},color:function(bX,bb,ba,ab){var aa=this,Z,Y=/^rgba/,X,W,V=aZ;bX&&bX.linearGradient?W="gradient":bX&&bX.radialGradient&&(W="pattern");if(W){var U,S,T=bX.linearGradient||bX.radialGradient,P,M,R,O,z,N="",bX=bX.stops,L,J=[],E=function(){X=['<fill colors="'+J.join(",")+'" opacity="',R,'" o:opacity2="',M,'" type="',W,'" ',N,'focus="100%" method="any" />'];aS(aa.prepVML(X),null,null,bb)};P=bX[0];L=bX[bX.length-1];P[0]>0&&bX.unshift([0,P[1]]);L[0]<1&&bX.push([1,L[1]]);ay(bX,function(q,o){Y.test(q[1])?(Z=bQ(q[1]),U=Z.get("rgb"),S=Z.get("a")):(U=q[1],S=1);J.push(q[0]*100+"% "+U);o?(R=S,O=U):(M=S,z=U)});if(ba==="fill"){if(W==="gradient"){ba=T.x1||T[0]||0,bX=T.y1||T[1]||0,P=T.x2||T[2]||0,T=T.y2||T[3]||0,N='angle="'+(90-a0.atan((T-bX)/(P-ba))*180/aH)+'"',E()}else{var V=T.r,G=V*2,n=V*2,C=T.cx,K=T.cy,A=bb.radialReference,F,V=function(){A&&(F=ab.getBBox(),C+=(A[0]-F.x)/F.width-0.5,K+=(A[1]-F.y)/F.height-0.5,G*=A[2]/F.width,n*=A[2]/F.height);N='src="'+aW.global.VMLRadialGradientURL+'" size="'+G+","+n+'" origin="0.5,0.5" position="'+C+","+K+'" color2="'+z+'" ';E()};ab.added?V():a4(ab,"add",V);V=O}}else{V=U}}else{if(Y.test(bX)&&bb.tagName!=="IMG"){Z=bQ(bX),X=["<",ba,' opacity="',Z.get("a"),'"/>'],aS(this.prepVML(X),null,null,bb),V=Z.get("rgb")}else{V=bb.getElementsByTagName(ba);if(V.length){V[0].opacity=1,V[0].type="solid"}V=bX}}return V},prepVML:function(o){var n=this.isIE8,o=o.join("");n?(o=o.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),o=o.indexOf('style="')===-1?o.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):o.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):o=o.replace("<","<hcv:");return o},text:bw.prototype.html,path:function(o){var n={coordsize:"10 10"};a7(o)?n.d=o:aR(o)&&ar(n,o);return this.createElement("shape").attr(n)},circle:function(o,n,q){if(aR(o)){q=o.r,n=o.y,o=o.x}return this.symbol("circle").attr({x:o-q,y:n-q,width:2*q,height:2*q})},g:function(o){var n;o&&(n={className:"highcharts-"+o,"class":"highcharts-"+o});return this.createElement(b).attr(n)},image:function(o,n,u,t,s){var q=this.createElement("img").attr({src:o});arguments.length>1&&q.attr({x:n,y:u,width:t,height:s});return q},rect:function(o,n,v,u,t,s){if(aR(o)){n=o.y,v=o.width,u=o.height,s=o.strokeWidth,o=o.x}var q=this.symbol("rect");q.r=t;return q.attr(q.crisp(s,o,n,av(v,0),av(u,0)))},invertChild:function(o,n){var q=n.style;a1(o,{flip:"x",left:aq(q.width)-1,top:aq(q.height)-1,rotation:-90})},symbols:{arc:function(A,z,x,w,v){var u=v.start,t=v.end,s=v.r||x||w,x=v.innerR,w=aO(u),q=az(u),o=aO(t),n=az(t);if(t-u===0){return["x"]}u=["wa",A-s,z-s,A+s,z+s,A+s*w,z+s*q,A+s*o,z+s*n];v.open&&!x&&u.push("e","M",A,z);u.push("at",A-x,z-x,A+x,z+x,A+x*o,z+x*n,A+x*w,z+x*q,"x","e");return u},circle:function(o,n,s,q){return["wa",o,n,o+s,n+q,o+s,n+q/2,o+s,n+q/2,"e"]},rect:function(o,n,w,v,u){var t=o+w,s=n+v,q;!au(u)||!u.r?t=bw.prototype.symbols.square.apply(0,arguments):(q=bc(u.r,w,v),t=["M",o+q,n,"L",t-q,n,"wa",t-2*q,n,t,n+2*q,t-q,n,t,n+q,"L",t,s-q,"wa",t-2*q,s-2*q,t,s,t,s-q,t-q,s,"L",o+q,s,"wa",o,s-2*q,o+2*q,s,o+q,s,o,s-q,"L",o,n+q,"wa",o,n,o+2*q,n+2*q,o,n+q,o+q,n,"x","e"]);return t}}};Highcharts.VMLRenderer=a3=function(){this.init.apply(this,arguments)};a3.prototype=ao(bw.prototype,by);c=a3}var aj;if(bB){Highcharts.CanVGRenderer=a3=function(){bE="http://www.w3.org/1999/xhtml"},a3.prototype.symbols={},aj=function(){function o(){var q=n.length,s;for(s=0;s<q;s++){n[s]()}n=[]}var n=[];return{push:function(s,q){n.length===0&&a(q,o);n.push(s)}}}(),c=a3}bg.prototype={addLabel:function(){var C=this.axis,A=C.options,z=C.chart,x=C.horiz,w=C.categories,v=C.series[0]&&C.series[0].names,u=this.pos,t=A.labels,s=C.tickPositions,x=x&&w&&!t.step&&!t.staggerLines&&!t.rotation&&z.plotWidth/s.length||!x&&z.plotWidth/2,q=u===s[0],o=u===s[s.length-1],v=w?aw(w[u],v&&v[u],u):u,w=this.label,s=s.info,n;C.isDatetimeAxis&&s&&(n=A.dateTimeLabelFormats[s.higherRanks[u]||s.unitName]);this.isFirst=q;this.isLast=o;A=C.labelFormatter.call({axis:C,chart:z,isFirst:q,isLast:o,dateTimeLabelFormat:n,value:C.isLog?aC(H(v)):v});u=x&&{width:av(1,at(x-2*(t.padding||10)))+"px"};u=ar(u,t.style);if(au(w)){w&&w.attr({text:A}).css(u)}else{x={align:t.align};if(aK(t.rotation)){x.rotation=t.rotation}this.label=au(A)&&t.enabled?z.renderer.text(A,0,0,t.useHTML).attr(x).css(u).add(C.labelGroup):null}},getLabelSize:function(){var o=this.label,n=this.axis;return o?(this.labelBBox=o.getBBox())[n.horiz?"height":"width"]:0},getLabelSides:function(){var o=this.axis.options.labels,n=this.labelBBox.width,o=n*{left:0,center:0.5,right:1}[o.align]-o.x;return[-o,n-o]},handleOverflow:function(E,C){var A=!0,z=this.axis,x=z.chart,w=this.isFirst,v=this.isLast,u=C.x,t=z.reversed,s=z.tickPositions;if(w||v){var q=this.getLabelSides(),n=q[0],q=q[1],x=x.plotLeft,o=x+z.len,s=(z=z.ticks[s[E+(w?1:-1)]])&&z.label.xy&&z.label.xy.x+z.getLabelSides()[w?0:1];w&&!t||v&&t?u+n<x&&(u=x-n,z&&u+q>s&&(A=!1)):u+q>o&&(u=o-q,z&&u+n<s&&(A=!1));C.x=u}return A},getPosition:function(o,n,v,u){var t=this.axis,s=t.chart,q=u&&s.oldChartHeight||s.chartHeight;return{x:o?t.translate(n+v,null,null,u)+t.transB:t.left+t.offset+(t.opposite?(u&&s.oldChartWidth||s.chartWidth)-t.right-t.left:0),y:o?q-t.bottom+t.offset-(t.opposite?t.height:0):q-t.translate(n+v,null,null,u)-t.transB}},getLabelPosition:function(A,z,x,w,v,u,t,s){var q=this.axis,o=q.transA,n=q.reversed,q=q.staggerLines,A=A+v.x-(u&&w?u*o*(n?-1:1):0),z=z+v.y-(u&&!w?u*o*(n?1:-1):0);au(v.y)||(z+=aq(x.styles.lineHeight)*0.9-x.getBBox().height/2);q&&(z+=t/(s||1)%q*16);return{x:A,y:z}},getMarkPath:function(o,n,u,t,s,q){return q.crispLine(["M",o,n,"L",o+(s?0:-u),n+(s?u:0)],t)},render:function(ba,ab,aa){var Z=this.axis,Y=Z.options,X=Z.chart.renderer,W=Z.horiz,V=this.type,U=this.label,T=this.pos,S=Y.labels,P=this.gridLine,R=V?V+"Grid":"grid",N=V?V+"Tick":"tick",K=Y[R+"LineWidth"],O=Y[R+"LineColor"],M=Y[R+"LineDashStyle"],w=Y[N+"Length"],R=Y[N+"Width"]||0,L=Y[N+"Color"],J=Y[N+"Position"],N=this.mark,F=S.step,E=!0,C=Z.tickmarkOffset,o=this.getPosition(W,T,C,ab),A=o.x,o=o.y,G=W&&A===Z.pos||!W&&o===Z.pos+Z.len?-1:1,z=Z.staggerLines;this.isActive=!0;if(K){T=Z.getPlotLinePath(T+C,K*G,ab,!0);if(P===ap){P={stroke:O,"stroke-width":K};if(M){P.dashstyle=M}if(!V){P.zIndex=1}if(ab){P.opacity=0}this.gridLine=P=K?X.path(T).attr(P).add(Z.gridGroup):null}if(!ab&&P&&T){P[this.isNew?"attr":"animate"]({d:T,opacity:aa})}}if(R&&w){J==="inside"&&(w=-w),Z.opposite&&(w=-w),ab=this.getMarkPath(A,o,w,R*G,W,X),N?N.animate({d:ab,opacity:aa}):this.mark=X.path(ab).attr({stroke:L,"stroke-width":R,opacity:aa}).add(Z.axisGroup)}if(U&&!isNaN(A)){U.xy=o=this.getLabelPosition(A,o,U,W,S,C,ba,F),this.isFirst&&!aw(Y.showFirstLabel,1)||this.isLast&&!aw(Y.showLastLabel,1)?E=!1:!z&&W&&S.overflow==="justify"&&!this.handleOverflow(ba,o)&&(E=!1),F&&ba%F&&(E=!1),E&&!isNaN(o.y)?(o.opacity=aa,U[this.isNew?"attr":"animate"](o),this.isNew=!1):U.attr("y",-9999)}},destroy:function(){bS(this,this.axis)}};aE.prototype={render:function(){var P=this,O=P.axis,N=O.horiz,M=(O.pointRange||0)/2,L=P.options,K=L.label,J=P.label,G=L.width,F=L.to,E=L.from,C=au(E)&&au(F),z=L.value,A=L.dashStyle,w=P.svgElem,u=[],x,v=L.color,o=L.zIndex,q=L.events,s=O.chart.renderer;O.isLog&&(E=bf(E),F=bf(F),z=bf(z));if(G){if(u=O.getPlotLinePath(z,G),M={stroke:v,"stroke-width":G},A){M.dashstyle=A}}else{if(C){if(E=av(E,O.min-M),F=bc(F,O.max+M),u=O.getPlotBandPath(E,F,L),M={fill:v},L.borderWidth){M.stroke=L.borderColor,M["stroke-width"]=L.borderWidth}}else{return}}if(au(o)){M.zIndex=o}if(w){u?w.animate({d:u},null,w.onGetPath):(w.hide(),w.onGetPath=function(){w.show()})}else{if(u&&u.length&&(P.svgElem=w=s.path(u).attr(M).add(),q)){for(x in L=function(n){w.on(n,function(t){q[n].apply(P,[t])})},q){L(x)}}}if(K&&au(K.text)&&u&&u.length&&O.width>0&&O.height>0){K=ao({align:N&&C&&"center",x:N?!C&&4:10,verticalAlign:!N&&C&&"middle",y:N?C?16:10:C?6:-4,rotation:N&&!C&&90},K);if(!J){P.label=J=s.text(K.text,0,0).attr({align:K.textAlign||K.align,rotation:K.rotation,zIndex:o}).css(K.style).add()}O=[u[1],u[4],aw(u[6],u[1])];u=[u[2],u[5],aw(u[7],u[2])];N=j(O);C=j(u);J.align(K,!1,{x:N,y:C,width:ag(O)-N,height:ag(u)-C});J.show()}else{J&&J.hide()}return P},destroy:function(){bv(this.axis.plotLinesAndBands,this);bS(this,this.axis)}};be.prototype={destroy:function(){bS(this,this.axis)},setTotal:function(n){this.cum=this.total=n},render:function(o){var n=this.options,q=n.formatter.call(this);this.label?this.label.attr({text:q,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(q,0,0,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:"hidden"}).add(o)},setOffset:function(x,w){var v=this.axis,u=v.chart,t=u.inverted,s=this.isNegative,q=v.translate(this.percent?100:this.total,0,0,0,1),v=v.translate(0),v=aV(q-v),o=u.xAxis[0].translate(this.x)+x,n=u.plotHeight,s={x:t?s?q:q-v:o,y:t?n-o-w:s?n-q-v:n-q,width:t?v:w,height:t?w:v};if(t=this.label){t.align(this.alignOptions,null,s),s=t.alignAttr,t.attr({visibility:this.options.crop===!1||u.isInsidePlot(s.x,s.y)?aM?"inherit":"visible":"hidden"})}}};br.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:a2,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:a2.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(o,n){var u=n.isX;this.horiz=o.inverted?!u:u;this.xOrY=(this.isXAxis=u)?"x":"y";this.opposite=n.opposite;this.side=this.horiz?this.opposite?0:2:this.opposite?1:3;this.setOptions(n);var t=this.options,s=t.type;this.labelFormatter=t.labels.formatter||this.defaultLabelFormatter;this.staggerLines=this.horiz&&t.labels.staggerLines;this.userOptions=n;this.minPixelPadding=0;this.chart=o;this.reversed=t.reversed;this.zoomEnabled=t.zoomEnabled!==!1;this.categories=t.categories||s==="category";this.isLog=s==="logarithmic";this.isDatetimeAxis=s==="datetime";this.isLinked=au(t.linkedTo);this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"?0.5:0;this.ticks={};this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=t.minRange||t.maxZoom;this.range=t.range;this.offset=t.offset||0;this.stacks={};this._stacksTouched=0;this.min=this.max=null;var q,t=this.options.events;h(this,o.axes)===-1&&(o.axes.push(this),o[u?"xAxis":"yAxis"].push(this));this.series=this.series||[];if(o.inverted&&u&&this.reversed===ap){this.reversed=!0}this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(q in t){a4(this,q,t[q])}if(this.isLog){this.val2lin=bf,this.lin2val=H}},setOptions:function(n){this.options=ao(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],ao(aW[this.isXAxis?"xAxis":"yAxis"],n))},update:function(o,n){var q=this.chart,o=q.options[this.xOrY+"Axis"][this.options.index]=ao(this.userOptions,o);this.destroy();this._addedPlotLB=!1;this.init(q,o);q.isDirtyBox=!0;aw(n,!0)&&q.redraw()},remove:function(o){var n=this.chart,q=this.xOrY+"Axis";ay(this.series,function(s){s.remove(!1)});bv(n.axes,this);bv(n[q],this);n.options[q].splice(this.options.index,1);this.destroy();n.isDirtyBox=!0;aw(o,!0)&&n.redraw()},defaultLabelFormatter:function(){var o=this.axis,n=this.value,w=o.categories,v=this.dateTimeLabelFormat,u=aW.lang.numericSymbols,t=u&&u.length,s,q=o.options.labels.format,o=o.isLog?n:o.tickInterval;if(q){s=ad(q,this)}else{if(w){s=n}else{if(v){s=bq(v,n)}else{if(t&&o>=1000){for(;t--&&s===ap;){w=Math.pow(1000,t+1),o>=w&&u[t]!==null&&(s=bF(n/w,-1)+u[t])}}}}}s===ap&&(s=n>=1000?bF(n,0):bF(n,-1));return s},getSeriesExtremes:function(){var o=this,n=o.chart,w=o.stacks,v=[],u=[],t=o._stacksTouched+=1,s,q;o.hasVisibleSeries=!1;o.dataMin=o.dataMax=null;ay(o.series,function(ab){if(ab.visible||!n.options.chart.ignoreHiddenSeries){var aa=ab.options,Z,X,Y,V,S,W,T,G,J,O=aa.threshold,N,M=[],K=0;o.hasVisibleSeries=!0;if(o.isLog&&O<=0){O=aa.threshold=null}if(o.isXAxis){if(aa=ab.xData,aa.length){o.dataMin=bc(aw(o.dataMin,aa[0]),j(aa)),o.dataMax=av(aw(o.dataMax,aa[0]),ag(aa))}}else{var E,L,P,R=ab.cropped,F=ab.xAxis.getExtremes(),U=!!ab.modifyValue;Z=aa.stacking;o.usePercentage=Z==="percent";if(Z){S=aa.stack,V=ab.type+aw(S,""),W="-"+V,ab.stackKey=V,X=v[V]||[],v[V]=X,Y=u[W]||[],u[W]=Y}if(o.usePercentage){o.dataMin=0,o.dataMax=99}aa=ab.processedXData;T=ab.processedYData;N=T.length;for(q=0;q<N;q++){G=aa[q];J=T[q];if(Z){L=(E=J<O)?Y:X,P=E?W:V,au(L[G])?(L[G]=aC(L[G]+J),J=[J,L[G]]):L[G]=J,w[P]||(w[P]={}),w[P][G]||(w[P][G]=new be(o,o.options.stackLabels,E,G,S,Z)),w[P][G].setTotal(L[G]),w[P][G].touched=t}if(J!==null&&J!==ap&&(!o.isLog||J>0)){if(U&&(J=ab.modifyValue(J)),ab.getExtremesFromAll||R||(aa[q+1]||G)>=F.min&&(aa[q-1]||G)<=F.max){if(G=J.length){for(;G--;){J[G]!==null&&(M[K++]=J[G])}}else{M[K++]=J}}}}if(!o.usePercentage&&M.length){ab.dataMin=Z=j(M),ab.dataMax=ab=ag(M),o.dataMin=bc(aw(o.dataMin,Z),Z),o.dataMax=av(aw(o.dataMax,ab),ab)}if(au(O)){if(o.dataMin>=O){o.dataMin=O,o.ignoreMinPadding=!0}else{if(o.dataMax<O){o.dataMax=O,o.ignoreMaxPadding=!0}}}}}});for(s in w){for(q in w[s]){w[s][q].touched<t&&(w[s][q].destroy(),delete w[s][q])}}},translate:function(A,z,x,w,v,u){var t=this.len,s=1,q=0,o=w?this.oldTransA:this.transA,w=w?this.oldMin:this.min,n=this.minPixelPadding,v=(this.options.ordinal||this.isLog&&v)&&this.lin2val;if(!o){o=this.transA}x&&(s*=-1,q=t);this.reversed&&(s*=-1,q-=s*t);z?(A=A*s+q,A-=n,A=A/o+w,v&&(A=this.lin2val(A))):(v&&(A=this.val2lin(A)),A=s*(A-w)*o+q+s*n+(u?o*this.pointRange/2:0));return A},toPixels:function(o,n){return this.translate(o,!1,!this.horiz,null,!0)+(n?0:this.pos)},toValue:function(o,n){return this.translate(o-(n?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(E,C,A,z){var x=this.chart,w=this.left,v=this.top,u,t,s,E=this.translate(E,null,null,A),q=A&&x.oldChartHeight||x.chartHeight,n=A&&x.oldChartWidth||x.chartWidth,o;u=this.transB;A=t=at(E+u);u=s=at(q-E-u);if(isNaN(E)){o=!0}else{if(this.horiz){if(u=v,s=q-this.bottom,A<w||A>w+this.width){o=!0}}else{if(A=w,t=n-this.right,u<v||u>v+this.height){o=!0}}}return o&&!z?null:x.renderer.crispLine(["M",A,u,"L",t,s],C||0)},getPlotBandPath:function(o,n){var s=this.getPlotLinePath(n),q=this.getPlotLinePath(o);q&&s?q.push(s[4],s[5],s[1],s[2]):q=null;return q},getLinearTickPositions:function(o,n,t){for(var s,n=aC(aT(n/o)*o),t=aC(ac(t/o)*o),q=[];n<=t;){q.push(n);n=aC(n+o);if(n===s){break}s=n}return q},getLogTickPositions:function(C,A,z,x){var w=this.options,v=this.len,u=[];if(!x){this._minorAutoInterval=null}if(C>=0.5){C=at(C),u=this.getLinearTickPositions(C,A,z)}else{if(C>=0.08){for(var v=aT(A),t,s,q,o,n,w=C>0.3?[1,2,4]:C>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];v<z+1&&!n;v++){s=w.length;for(t=0;t<s&&!n;t++){q=bf(H(v)*w[t]),q>A&&o<=z&&u.push(o),o>z&&(n=!0),o=q}}}else{if(A=H(A),z=H(z),C=w[x?"minorTickInterval":"tickInterval"],C=aw(C==="auto"?null:C,this._minorAutoInterval,(z-A)*(w.tickPixelInterval/(x?5:1))/((x?v/this.tickPositions.length:v)||1)),C=aA(C,null,a0.pow(10,aT(a0.log(C)/a0.LN10))),u=ah(this.getLinearTickPositions(C,A,z),bf),!x){this._minorAutoInterval=C/5}}}if(!x){this.tickInterval=C}return u},getMinorTickPositions:function(){var o=this.options,n=this.tickPositions,t=this.minorTickInterval,s=[],q;if(this.isLog){q=n.length;for(o=1;o<q;o++){s=s.concat(this.getLogTickPositions(t,n[o-1],n[o],!0))}}else{if(this.isDatetimeAxis&&o.minorTickInterval==="auto"){s=s.concat(bM(bG(t),this.min,this.max,o.startOfWeek)),s[0]<this.min&&s.shift()}else{for(n=this.min+(n[0]-this.min)%t;n<=this.max;n+=t){s.push(n)}}}return s},adjustForMinRange:function(){var A=this.options,z=this.min,x=this.max,w,v=this.dataMax-this.dataMin>=this.minRange,u,t,s,q,o;if(this.isXAxis&&this.minRange===ap&&!this.isLog){au(A.min)||au(A.max)?this.minRange=null:(ay(this.series,function(C){q=C.xData;for(t=o=C.xIncrement?1:q.length-1;t>0;t--){if(s=q[t]-q[t-1],u===ap||s<u){u=s}}}),this.minRange=bc(u*5,this.dataMax-this.dataMin))}if(x-z<this.minRange){var n=this.minRange;w=(n-x+z)/2;w=[z-w,aw(A.min,z-w)];if(v){w[2]=this.dataMin}z=ag(w);x=[z+n,aw(A.max,z+n)];if(v){x[2]=this.dataMax}x=j(x);x-z<n&&(w[0]=x-n,w[1]=aw(A.min,x-n),z=ag(w))}this.min=z;this.max=x},setAxisTranslation:function(o){var n=this.max-this.min,w=0,v,u=0,t=0,s=this.linkedParent,q=this.transA;if(this.isXAxis){s?(u=s.minPointOffset,t=s.pointRangePadding):ay(this.series,function(z){var C=z.pointRange,A=z.options.pointPlacement,x=z.closestPointRange;C>n&&(C=0);w=av(w,C);u=av(u,A?0:C/2);t=av(t,A==="on"?0:C);!z.noSharedTooltip&&au(x)&&(v=au(v)?bc(v,x):x)}),this.minPointOffset=u,this.pointRangePadding=t,this.pointRange=bc(w,n),this.closestPointRange=v}if(o){this.oldTransA=q}this.translationSlope=this.transA=q=this.len/(n+t||1);this.transB=this.horiz?this.left:this.bottom;this.minPixelPadding=q*u},setTickPositions:function(G){var F=this,E=F.chart,C=F.options,A=F.isLog,z=F.isDatetimeAxis,x=F.isXAxis,w=F.isLinked,v=F.options.tickPositioner,u=C.maxPadding,t=C.minPadding,q=C.tickInterval,s=C.minTickInterval,o=C.tickPixelInterval,n=F.categories;w?(F.linkedParent=E[x?"xAxis":"yAxis"][C.linkedTo],E=F.linkedParent.getExtremes(),F.min=aw(E.min,E.dataMin),F.max=aw(E.max,E.dataMax),C.type!==F.linkedParent.options.type&&m(11,1)):(F.min=aw(F.userMin,C.min,F.dataMin),F.max=aw(F.userMax,C.max,F.dataMax));if(A){!G&&bc(F.min,aw(F.dataMin,F.min))<=0&&m(10,1),F.min=aC(bf(F.min)),F.max=aC(bf(F.max))}if(F.range&&(F.userMin=F.min=av(F.min,F.max-F.range),F.userMax=F.max,G)){F.range=null}F.beforePadding&&F.beforePadding();F.adjustForMinRange();if(!n&&!F.usePercentage&&!w&&au(F.min)&&au(F.max)&&(E=F.max-F.min)){if(!au(C.min)&&!au(F.userMin)&&t&&(F.dataMin<0||!F.ignoreMinPadding)){F.min-=E*t}if(!au(C.max)&&!au(F.userMax)&&u&&(F.dataMax>0||!F.ignoreMaxPadding)){F.max+=E*u}}F.tickInterval=F.min===F.max||F.min===void 0||F.max===void 0?1:w&&!q&&o===F.linkedParent.options.tickPixelInterval?F.linkedParent.tickInterval:aw(q,n?1:(F.max-F.min)*o/(F.len||1));x&&!G&&ay(F.series,function(J){J.processData(F.min!==F.oldMin||F.max!==F.oldMax)});F.setAxisTranslation(!0);F.beforeSetTickPositions&&F.beforeSetTickPositions();if(F.postProcessTickInterval){F.tickInterval=F.postProcessTickInterval(F.tickInterval)}if(!q&&F.tickInterval<s){F.tickInterval=s}if(!z&&!A&&(G=a0.pow(10,aT(a0.log(F.tickInterval)/a0.LN10)),!q)){F.tickInterval=aA(F.tickInterval,null,G,C)}F.minorTickInterval=C.minorTickInterval==="auto"&&F.tickInterval?F.tickInterval/5:C.minorTickInterval;F.tickPositions=v=C.tickPositions?[].concat(C.tickPositions):v&&v.apply(F,[F.min,F.max]);if(!v){v=z?(F.getNonLinearTimeTicks||bM)(bG(F.tickInterval,C.units),F.min,F.max,C.startOfWeek,F.ordinalPositions,F.closestPointRange,!0):A?F.getLogTickPositions(F.tickInterval,F.min,F.max):F.getLinearTickPositions(F.tickInterval,F.min,F.max),F.tickPositions=v}if(!w){A=v[0],z=v[v.length-1],w=F.minPointOffset||0,C.startOnTick?F.min=A:F.min-w>A&&v.shift(),C.endOnTick?F.max=z:F.max+w<z&&v.pop(),v.length===1&&(F.min-=0.001,F.max+=0.001)}},setMaxTicks:function(){var o=this.chart,n=o.maxTicks||{},s=this.tickPositions,q=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&s&&s.length>(n[q]||0)&&this.options.alignTicks!==!1){n[q]=s.length}o.maxTicks=n},adjustTickAmount:function(){var o=this._maxTicksKey,n=this.tickPositions,t=this.chart.maxTicks;if(t&&t[o]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var s=this.tickAmount,q=n.length;this.tickAmount=o=t[o];if(q<o){for(;n.length<o;){n.push(aC(n[n.length-1]+this.tickInterval))}this.transA*=(q-1)/(o-1);this.max=n[n.length-1]}if(au(s)&&o!==s){this.isDirty=!0}}},setScale:function(){var o=this.stacks,n,t,s,q;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();q=this.len!==this.oldAxisLength;ay(this.series,function(u){if(u.isDirtyData||u.isDirty||u.xAxis.isDirty){s=!0}});if(q||s||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty){this.isDirty=q||this.min!==this.oldMin||this.max!==this.oldMax}}if(!this.isXAxis){for(n in o){for(t in o[n]){o[n][t].cum=o[n][t].total}}}this.setMaxTicks()},setExtremes:function(o,n,v,u,t){var s=this,q=s.chart,v=aw(v,!0),t=ar(t,{min:o,max:n});a8(s,"setExtremes",t,function(){s.userMin=o;s.userMax=n;s.isDirtyExtremes=!0;v&&q.redraw(u)})},zoom:function(o,n){o<=this.dataMin&&(o=ap);n>=this.dataMax&&(n=ap);this.displayBtn=o!==ap||n!==ap;this.setExtremes(o,n,!1,ap,{trigger:"zoom"});return !0},setAxisSize:function(){var o=this.chart,n=this.options,v=n.offsetLeft||0,u=n.offsetRight||0,t=this.horiz,s,q;this.left=q=aw(n.left,o.plotLeft+v);this.top=s=aw(n.top,o.plotTop);this.width=v=aw(n.width,o.plotWidth-v+u);this.height=n=aw(n.height,o.plotHeight);this.bottom=o.chartHeight-n-s;this.right=o.chartWidth-v-q;this.len=av(t?v:n,0);this.pos=t?q:s},getExtremes:function(){var n=this.isLog;return{min:n?aC(H(this.min)):this.min,max:n?aC(H(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(o){var n=this.isLog,q=n?H(this.min):this.min,n=n?H(this.max):this.max;q>o||o===null?o=q:n<o&&(o=n);return this.translate(o,0,1,0,1)},addPlotBand:function(n){this.addPlotBandOrLine(n,"plotBands")},addPlotLine:function(n){this.addPlotBandOrLine(n,"plotLines")},addPlotBandOrLine:function(o,n){var s=(new aE(this,o)).render(),q=this.userOptions;n&&(q[n]=q[n]||[],q[n].push(o));this.plotLinesAndBands.push(s);return s},getOffset:function(){var P=this,O=P.chart,N=O.renderer,M=P.options,L=P.tickPositions,K=P.ticks,J=P.horiz,G=P.side,F=O.inverted?[1,0,3,2][G]:G,E,C=0,z,A=0,x=M.title,v=M.labels,s=0,w=O.axisOffset,n=O.clipOffset,o=[-1,1,1,-1][G],q;P.hasData=O=P.hasVisibleSeries||au(P.min)&&au(P.max)&&!!L;P.showAxis=E=O||aw(M.showEmpty,!0);if(!P.axisGroup){P.gridGroup=N.g("grid").attr({zIndex:M.gridZIndex||1}).add(),P.axisGroup=N.g("axis").attr({zIndex:M.zIndex||2}).add(),P.labelGroup=N.g("axis-labels").attr({zIndex:v.zIndex||7}).add()}if(O||P.isLinked){ay(L,function(t){K[t]?K[t].addLabel():K[t]=new bg(P,t)}),ay(L,function(t){if(G===0||G===2||{1:"left",3:"right"}[G]===v.align){s=av(K[t].getLabelSize(),s)}}),P.staggerLines&&(s+=(P.staggerLines-1)*16)}else{for(q in K){K[q].destroy(),delete K[q]}}if(x&&x.text&&x.enabled!==!1){if(!P.axisTitle){P.axisTitle=N.text(x.text,0,0,x.useHTML).attr({zIndex:7,rotation:x.rotation||0,align:x.textAlign||{low:"left",middle:"center",high:"right"}[x.align]}).css(x.style).add(P.axisGroup),P.axisTitle.isNew=!0}if(E){C=P.axisTitle.getBBox()[J?"height":"width"],A=aw(x.margin,J?5:10),z=x.offset}P.axisTitle[E?"show":"hide"]()}P.offset=o*aw(M.offset,w[G]);P.axisTitleMargin=aw(z,s+A+(G!==2&&s&&o*M.labels[J?"y":"x"]));w[G]=av(w[G],P.axisTitleMargin+C+o*P.offset);n[F]=av(n[F],M.lineWidth)},getLinePath:function(o){var n=this.chart,u=this.opposite,t=this.offset,s=this.horiz,q=this.left+(u?this.width:0)+t;this.lineTop=t=n.chartHeight-this.bottom-(u?this.height:0)+t;u||(o*=-1);return n.renderer.crispLine(["M",s?this.left:q,s?t:this.top,"L",s?n.chartWidth-this.right:q,s?t:n.chartHeight-this.bottom],o)},getTitlePosition:function(){var x=this.horiz,w=this.left,v=this.top,u=this.len,t=this.options.title,s=x?w:v,q=this.opposite,o=this.offset,n=aq(t.style.fontSize||12),u={low:s+(x?0:u),middle:s+u/2,high:s+(x?u:0)}[t.align],w=(x?v+this.height:w)+(x?1:-1)*(q?-1:1)*this.axisTitleMargin+(this.side===2?n:0);return{x:x?u:w+(q?this.width:0)+o+(t.x||0),y:x?w-(q?this.height:0)+o:u+(t.y||0)}},render:function(){var Y=this,X=Y.chart,W=X.renderer,V=Y.options,U=Y.isLog,T=Y.isLinked,S=Y.tickPositions,R=Y.axisTitle,P=Y.stacks,O=Y.ticks,N=Y.minorTicks,L=Y.alternateBands,M=V.stackLabels,J=V.alternateGridColor,E=Y.tickmarkOffset,K=V.lineWidth,G,F=X.hasRendered&&au(Y.oldMin)&&!isNaN(Y.oldMin),z=Y.showAxis,w,s;if(Y.hasData||T){if(ay([O,N,L],function(q){for(var o in q){q[o].isActive=!1}}),Y.minorTickInterval&&!Y.categories&&ay(Y.getMinorTickPositions(),function(o){N[o]||(N[o]=new bg(Y,o,"minor"));F&&N[o].isNew&&N[o].render(null,!0);N[o].render(null,!1,1)}),S.length&&(ay(S.slice(1).concat([S[0]]),function(o,q){q=q===S.length-1?0:q+1;if(!T||o>=Y.min&&o<=Y.max){O[o]||(O[o]=new bg(Y,o)),F&&O[o].isNew&&O[o].render(q,!0),O[o].render(q,!1,1)}}),E&&Y.min===0&&(O[-1]||(O[-1]=new bg(Y,-1,null,!0)),O[-1].render(-1))),J&&ay(S,function(o,q){if(q%2===0&&o<Y.max){L[o]||(L[o]=new aE(Y)),w=o+E,s=S[q+1]!==ap?S[q+1]+E:Y.max,L[o].options={from:U?H(w):w,to:U?H(s):s,color:J},L[o].render(),L[o].isActive=!0}}),!Y._addedPlotLB){ay((V.plotLines||[]).concat(V.plotBands||[]),function(o){Y.addPlotBandOrLine(o)}),Y._addedPlotLB=!0}}ay([O,N,L],function(o){var x,v,u=[],t=bI?bI.duration||500:0,q=function(){for(v=u.length;v--;){o[u[v]]&&!o[u[v]].isActive&&(o[u[v]].destroy(),delete o[u[v]])}};for(x in o){if(!o[x].isActive){o[x].render(x,!1,0),o[x].isActive=!1,u.push(x)}}o===L||!X.hasRendered||!t?q():t&&setTimeout(q,t)});if(K){G=Y.getLinePath(K),Y.axisLine?Y.axisLine.animate({d:G}):Y.axisLine=W.path(G).attr({stroke:V.lineColor,"stroke-width":K,zIndex:7}).add(Y.axisGroup),Y.axisLine[z?"show":"hide"]()}if(R&&z){R[R.isNew?"attr":"animate"](Y.getTitlePosition()),R.isNew=!1}if(M&&M.enabled){var n,A,V=Y.stackTotalGroup;if(!V){Y.stackTotalGroup=V=W.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()}V.translate(X.plotLeft,X.plotTop);for(n in P){for(A in W=P[n],W){W[A].render(V)}}}Y.isDirty=!1},removePlotBandOrLine:function(o){for(var n=this.plotLinesAndBands,q=n.length;q--;){n[q].id===o&&n[q].destroy()}},setTitle:function(o,n){this.update({title:o},n)},redraw:function(){var n=this.chart.pointer;n.reset&&n.reset(!0);this.render();ay(this.plotLinesAndBands,function(o){o.render()});ay(this.series,function(o){o.isDirty=!0})},setCategories:function(o,n){this.update({categories:o},n)},destroy:function(){var o=this,n=o.stacks,q;aY(o);for(q in n){bS(n[q]),n[q]=null}ay([o.ticks,o.minorTicks,o.alternateBands,o.plotLinesAndBands],function(s){bS(s)});ay("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(s){o[s]&&(o[s]=o[s].destroy())})}};ae.prototype={init:function(o,n){var t=n.borderWidth,s=n.style,q=aq(s.padding);this.chart=o;this.options=n;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=o.renderer.label("",0,0,n.shape,null,null,n.useHTML,null,"tooltip").attr({padding:q,fill:n.backgroundColor,"stroke-width":t,r:n.borderRadius,zIndex:8}).css(s).css({padding:0}).hide().add();bB||this.label.shadow(n.shadow);this.shared=n.shared},destroy:function(){ay(this.crosshairs,function(n){n&&n.destroy()});if(this.label){this.label=this.label.destroy()}},move:function(o,n,v,u){var t=this,s=t.now,q=t.options.animation!==!1&&!t.isHidden;ar(s,{x:q?(2*s.x+o)/3:o,y:q?(s.y+n)/2:n,anchorX:q?(2*s.anchorX+v)/3:v,anchorY:q?(s.anchorY+u)/2:u});t.label.attr(s);if(q&&(aV(o-s.x)>1||aV(n-s.y)>1)){clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){t&&t.move(o,n,v,u)},32)}},hide:function(){var o=this,n;if(!this.isHidden){n=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){o.label.fadeOut();o.isHidden=!0},aw(this.options.hideDelay,500)),n&&ay(n,function(q){q.setState()}),this.chart.hoverPoints=null}},hideCrosshairs:function(){ay(this.crosshairs,function(n){n&&n.hide()})},getAnchor:function(x,w){var v,u=this.chart,t=u.inverted,s=u.plotTop,q=0,o=0,n,x=a6(x);v=x[0].tooltipPos;this.followPointer&&w&&(w.chartX===ap&&(w=u.pointer.normalize(w)),v=[w.chartX-u.plotLeft,w.chartY-s]);v||(ay(x,function(z){n=z.series.yAxis;q+=z.plotX;o+=(z.plotLow?(z.plotLow+z.plotHigh)/2:z.plotY)+(!t&&n?n.top-s:0)}),q/=x.length,o/=x.length,v=[t?u.plotWidth-o:q,this.shared&&!t&&x.length>1&&w?w.chartY-s:t?u.plotHeight-q:o]);return ah(v,at)},getPosition:function(C,A,z){var x=this.chart,w=x.plotLeft,v=x.plotTop,u=x.plotWidth,t=x.plotHeight,s=aw(this.options.distance,12),q=z.plotX,z=z.plotY,x=q+w+(x.inverted?s:-C-s),o=z-A+v+15,n;x<7&&(x=w+av(q,0)+s);x+C>w+u&&(x-=x+C-(w+u),o=z-A+v-s,n=!0);o<v+5&&(o=v+5,n&&z>=o&&z<=o+A&&(o=z+v+s));o+A>v+t&&(o=av(v,v+t-A-s));return{x:x,y:o}},defaultFormatter:function(o){var n=this.points||a6(this),s=n[0].series,q;q=[s.tooltipHeaderFormatter(n[0])];ay(n,function(t){s=t.series;q.push(s.tooltipFormatter&&s.tooltipFormatter(t)||t.point.tooltipFormatter(s.tooltipOptions.pointFormat))});q.push(o.options.footerFormat||"");return q.join("")},refresh:function(E,C){var A=this.chart,z=this.label,x=this.options,w,v,u,t={},s,q=[];s=x.formatter||this.defaultFormatter;var t=A.hoverPoints,n,o=x.crosshairs;u=this.shared;clearTimeout(this.hideTimer);this.followPointer=a6(E)[0].series.tooltipOptions.followPointer;v=this.getAnchor(E,C);w=v[0];v=v[1];u&&(!E.series||!E.series.noSharedTooltip)?(A.hoverPoints=E,t&&ay(t,function(F){F.setState()}),ay(E,function(F){F.setState("hover");q.push(F.getLabelConfig())}),t={x:E[0].category,y:E[0].y},t.points=q,E=E[0]):t=E.getLabelConfig();s=s.call(t,this);t=E.series;u=u||!t.isCartesian||t.tooltipOutsidePlot||A.isInsidePlot(w,v);s===!1||!u?this.hide():(this.isHidden&&(bJ(z),z.attr("opacity",1).show()),z.attr({text:s}),n=x.borderColor||E.color||t.color||"#606060",z.attr({stroke:n}),this.updatePosition({plotX:w,plotY:v}),this.isHidden=!1);if(o){o=a6(o);for(z=o.length;z--;){if(x=E.series[z?"yAxis":"xAxis"],o[z]&&x){if(x=x.getPlotLinePath(z?aw(E.stackY,E.y):E.x,1),this.crosshairs[z]){this.crosshairs[z].attr({d:x,visibility:"visible"})}else{u={"stroke-width":o[z].width||1,stroke:o[z].color||"#C0C0C0",zIndex:o[z].zIndex||2};if(o[z].dashStyle){u.dashstyle=o[z].dashStyle}this.crosshairs[z]=A.renderer.path(x).attr(u).add()}}}}a8(A,"tooltipRefresh",{text:s,x:w+A.plotLeft,y:v+A.plotTop,borderColor:n})},updatePosition:function(o){var n=this.chart,q=this.label,q=(this.options.positioner||this.getPosition).call(this,q.width,q.height,o);this.move(at(q.x),at(q.y),o.plotX+n.plotLeft,o.plotY+n.plotTop)}};k.prototype={init:function(o,n){var t=bB?"":n.chart.zoomType,s=o.inverted,q;this.options=n;this.chart=o;this.zoomX=q=/x/.test(t);this.zoomY=t=/y/.test(t);this.zoomHor=q&&!s||t&&s;this.zoomVert=t&&!s||q&&s;this.pinchDown=[];this.lastValidTouch={};if(n.tooltip.enabled){o.tooltip=new ae(o,n.tooltip)}this.setDOMEvents()},normalize:function(o){var n,s,q,o=o||bd.event;if(!o.target){o.target=o.srcElement}o=aJ(o);q=o.touches?o.touches.item(0):o;this.chartPosition=n=bH(this.chart.container);q.pageX===ap?(s=o.x,n=o.y):(s=q.pageX-n.left,n=q.pageY-n.top);return ar(o,{chartX:at(s),chartY:at(n)})},getCoordinates:function(o){var n={xAxis:[],yAxis:[]};ay(this.chart.axes,function(q){n[q.isXAxis?"xAxis":"yAxis"].push({axis:q,value:q.toValue(o[q.horiz?"chartX":"chartY"])})});return n},getIndex:function(o){var n=this.chart;return n.inverted?n.plotHeight+n.plotTop-o.chartY:o.chartX-n.plotLeft},runPointActions:function(A){var z=this.chart,x=z.series,w=z.tooltip,v,u=z.hoverPoint,t=z.hoverSeries,s,q,o=z.chartWidth,n=this.getIndex(A);if(w&&this.options.tooltip.shared&&(!t||!t.noSharedTooltip)){v=[];s=x.length;for(q=0;q<s;q++){if(x[q].visible&&x[q].options.enableMouseTracking!==!1&&!x[q].noSharedTooltip&&x[q].tooltipPoints.length&&(z=x[q].tooltipPoints[n],z.series)){z._dist=aV(n-z.clientX),o=bc(o,z._dist),v.push(z)}}for(s=v.length;s--;){v[s]._dist>o&&v.splice(s,1)}if(v.length&&v[0].clientX!==this.hoverX){w.refresh(v,A),this.hoverX=v[0].clientX}}if(t&&t.tracker){if((z=t.tooltipPoints[n])&&z!==u){z.onMouseOver(A)}}else{w&&w.followPointer&&!w.isHidden&&(A=w.getAnchor([{}],A),w.updatePosition({plotX:A[0],plotY:A[1]}))}},reset:function(o){var n=this.chart,t=n.hoverSeries,s=n.hoverPoint,q=n.tooltip,n=q&&q.shared?n.hoverPoints:s;(o=o&&q&&n)&&a6(n)[0].plotX===ap&&(o=!1);if(o){q.refresh(n)}else{if(s){s.onMouseOut()}if(t){t.onMouseOut()}q&&(q.hide(),q.hideCrosshairs());this.hoverX=null}},scaleGroups:function(o,n){var q=this.chart;ay(q.series,function(s){s.xAxis.zoomEnabled&&(s.group.attr(o),s.markerGroup&&(s.markerGroup.attr(o),s.markerGroup.clip(n?q.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(o))});q.clipRect.attr(n||q.clipBox)},pinchTranslateDirection:function(ab,aa,Z,Y,X,W,V){var U=this.chart,T=ab?"x":"y",S=ab?"X":"Y",R="chart"+S,O=ab?"width":"height",P=U["plot"+(ab?"Left":"Top")],L,J,M=1,N=U.inverted,K=U.bounds[ab?"h":"v"],F=aa.length===1,G=aa[0][R],E=Z[0][R],C=!F&&aa[1][R],A=!F&&Z[1][R],z,Z=function(){!F&&aV(G-C)>20&&(M=aV(E-A)/aV(G-C));J=(P-E)/M+G;L=U["plot"+(ab?"Width":"Height")]/M};Z();aa=J;aa<K.min?(aa=K.min,z=!0):aa+L>K.max&&(aa=K.max-L,z=!0);z?(E-=0.8*(E-V[T][0]),F||(A-=0.8*(A-V[T][1])),Z()):V[T]=[E,A];N||(W[T]=J-P,W[O]=L);W=N?1/M:M;X[O]=L;X[T]=aa;Y[N?ab?"scaleY":"scaleX":"scale"+S]=M;Y["translate"+S]=W*P+(E-W*G)},pinch:function(A){var z=this,x=z.chart,w=z.pinchDown,v=A.touches,u=z.lastValidTouch,t=z.zoomHor||z.pinchHor,s=z.zoomVert||z.pinchVert,q=z.selectionMarker,o={},n={};A.type==="touchstart"&&(z.inClass(A.target,"highcharts-tracker")?x.runTrackerClick||A.preventDefault():x.runChartClick||A.preventDefault());ah(v,function(C){return z.normalize(C)});if(A.type==="touchstart"){ay(v,function(E,C){w[C]={chartX:E.chartX,chartY:E.chartY}}),u.x=[w[0].chartX,w[1]&&w[1].chartX],u.y=[w[0].chartY,w[1]&&w[1].chartY],ay(x.axes,function(E){if(E.zoomEnabled){var C=x.bounds[E.horiz?"h":"v"],K=E.minPixelPadding,J=E.toPixels(E.dataMin),G=E.toPixels(E.dataMax),F=bc(J,G),J=av(J,G);C.min=bc(E.pos,F-K);C.max=av(E.pos+E.len,J+K)}})}else{if(w.length){if(!q){z.selectionMarker=q=ar({destroy:bm},x.plotBox)}t&&z.pinchTranslateDirection(!0,w,v,o,q,n,u);s&&z.pinchTranslateDirection(!1,w,v,o,q,n,u);z.hasPinched=t||s;z.scaleGroups(o,n)}}},dragStart:function(o){var n=this.chart;n.mouseIsDown=o.type;n.cancelClick=!1;n.mouseDownX=this.mouseDownX=o.chartX;this.mouseDownY=o.chartY},drag:function(E){var C=this.chart,A=C.options.chart,z=E.chartX,E=E.chartY,x=this.zoomHor,w=this.zoomVert,v=C.plotLeft,u=C.plotTop,t=C.plotWidth,s=C.plotHeight,q,n=this.mouseDownX,o=this.mouseDownY;z<v?z=v:z>v+t&&(z=v+t);E<u?E=u:E>u+s&&(E=u+s);this.hasDragged=Math.sqrt(Math.pow(n-z,2)+Math.pow(o-E,2));if(this.hasDragged>10){q=C.isInsidePlot(n-v,o-u);if(C.hasCartesianSeries&&(this.zoomX||this.zoomY)&&q&&!this.selectionMarker){this.selectionMarker=C.renderer.rect(v,u,x?1:t,w?1:s,0).attr({fill:A.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}this.selectionMarker&&x&&(x=z-n,this.selectionMarker.attr({width:aV(x),x:(x>0?0:x)+n}));this.selectionMarker&&w&&(x=E-o,this.selectionMarker.attr({height:aV(x),y:(x>0?0:x)+o}));q&&!this.selectionMarker&&A.panning&&C.pan(z)}},drop:function(o){var n=this.chart,w=this.hasPinched;if(this.selectionMarker){var v={xAxis:[],yAxis:[],originalEvent:o.originalEvent||o},u=this.selectionMarker,t=u.x,s=u.y,q;if(this.hasDragged||w){ay(n.axes,function(A){if(A.zoomEnabled){var z=A.horiz,C=A.minPixelPadding,x=A.toValue((z?t:s)+C),z=A.toValue((z?t+u.width:s+u.height)-C);!isNaN(x)&&!isNaN(z)&&(v[A.xOrY+"Axis"].push({axis:A,min:bc(x,z),max:av(x,z)}),q=!0)}}),q&&a8(n,"selection",v,function(x){n.zoom(ar(x,w?{animation:!1}:null))})}this.selectionMarker=this.selectionMarker.destroy();w&&this.scaleGroups({translateX:n.plotLeft,translateY:n.plotTop,scaleX:1,scaleY:1})}if(n){a1(n.container,{cursor:"auto"}),n.cancelClick=this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]}},onContainerMouseDown:function(n){n=this.normalize(n);n.preventDefault&&n.preventDefault();this.dragStart(n)},onDocumentMouseUp:function(n){this.drop(n)},onDocumentMouseMove:function(o){var n=this.chart,s=this.chartPosition,q=n.hoverSeries,o=aJ(o);s&&q&&q.isCartesian&&!n.isInsidePlot(o.pageX-s.left-n.plotLeft,o.pageY-s.top-n.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset();this.chartPosition=null},onContainerMouseMove:function(o){var n=this.chart,o=this.normalize(o);o.returnValue=!1;n.mouseIsDown==="mousedown"&&this.drag(o);n.isInsidePlot(o.chartX-n.plotLeft,o.chartY-n.plotTop)&&this.runPointActions(o)},inClass:function(o,n){for(var q;o;){if(q=bi(o,"class")){if(q.indexOf(n)!==-1){return !0}else{if(q.indexOf("highcharts-container")!==-1){return !1}}}o=o.parentNode}},onTrackerMouseOut:function(o){var n=this.chart.hoverSeries;if(n&&!n.options.stickyTracking&&!this.inClass(o.toElement||o.relatedTarget,"highcharts-tooltip")){n.onMouseOut()}},onContainerClick:function(x){var w=this.chart,v=w.hoverPoint,u=w.plotLeft,t=w.plotTop,s=w.inverted,q,o,n,x=this.normalize(x);x.cancelBubble=!0;if(!w.cancelClick){v&&this.inClass(x.target,"highcharts-tracker")?(q=this.chartPosition,o=v.plotX,n=v.plotY,ar(v,{pageX:q.left+u+(s?w.plotWidth-n:o),pageY:q.top+t+(s?w.plotHeight-o:n)}),a8(v.series,"click",ar(x,{point:v})),v.firePointEvent("click",x)):(ar(x,this.getCoordinates(x)),w.isInsidePlot(x.chartX-u,x.chartY-t)&&a8(w,"click",x))}},onContainerTouchStart:function(o){var n=this.chart;o.touches.length===1?(o=this.normalize(o),n.isInsidePlot(o.chartX-n.plotLeft,o.chartY-n.plotTop)&&(this.runPointActions(o),this.pinch(o))):o.touches.length===2&&this.pinch(o)},onContainerTouchMove:function(n){(n.touches.length===1||n.touches.length===2)&&this.pinch(n)},onDocumentTouchEnd:function(n){this.drop(n)},setDOMEvents:function(){var o=this,n=o.chart.container,q;this._events=q=[[n,"onmousedown","onContainerMouseDown"],[n,"onmousemove","onContainerMouseMove"],[n,"onclick","onContainerClick"],[n,"mouseleave","onContainerMouseLeave"],[am,"mousemove","onDocumentMouseMove"],[am,"mouseup","onDocumentMouseUp"]];bL&&q.push([n,"ontouchstart","onContainerTouchStart"],[n,"ontouchmove","onContainerTouchMove"],[am,"touchend","onDocumentTouchEnd"]);ay(q,function(s){o["_"+s[2]]=function(t){o[s[2]](t)};s[1].indexOf("on")===0?s[0][s[1]]=o["_"+s[2]]:a4(s[0],s[1],o["_"+s[2]])})},destroy:function(){var n=this;ay(n._events,function(o){o[1].indexOf("on")===0?o[0][o[1]]=null:aY(o[0],o[1],n["_"+o[2]])});delete n._events;clearInterval(n.tooltipTimeout)}};bT.prototype={init:function(o,n){var u=this,t=n.itemStyle,s=aw(n.padding,8),q=n.itemMarginTop||0;this.options=n;if(n.enabled){u.baseline=aq(t.fontSize)+3+q,u.itemStyle=t,u.itemHiddenStyle=ao(t,n.itemHiddenStyle),u.itemMarginTop=q,u.padding=s,u.initialItemX=s,u.initialItemY=s-5,u.maxItemWidth=0,u.chart=o,u.itemHeight=0,u.lastLineHeight=0,u.render(),a4(u.chart,"endResize",function(){u.positionCheckboxes()})}},colorizeItem:function(z,x){var w=this.options,v=z.legendItem,u=z.legendLine,t=z.legendSymbol,s=this.itemHiddenStyle.color,w=x?w.itemStyle.color:s,q=x?z.color:s,s=z.options&&z.options.marker,o={stroke:q,fill:q},n;v&&v.css({fill:w,color:w});u&&u.attr({stroke:q});if(t){if(s){for(n in s=z.convertAttribs(s),s){v=s[n],v!==ap&&(o[n]=v)}}t.attr(o)}},positionItem:function(o){var n=this.options,u=n.symbolPadding,n=!n.rtl,t=o._legendItemPos,s=t[0],t=t[1],q=o.checkbox;o.legendGroup&&o.legendGroup.translate(n?s:this.legendWidth-s-2*u-4,t);if(q){q.x=s,q.y=t}},destroyItem:function(o){var n=o.checkbox;ay(["legendItem","legendLine","legendSymbol","legendGroup"],function(q){o[q]&&o[q].destroy()});n&&y(o.checkbox)},destroy:function(){var o=this.group,n=this.box;if(n){this.box=n.destroy()}if(o){this.group=o.destroy()}},positionCheckboxes:function(o){var n=this.group.alignAttr,s,q=this.clipHeight||this.legendHeight;if(n){s=n.translateY,ay(this.allItems,function(v){var u=v.checkbox,t;u&&(t=s+u.y+(o||0)+3,a1(u,{left:n.translateX+v.legendItemWidth+u.x-20+"px",top:t+"px",display:t>s-6&&t<s+q-6?"":aZ}))})}},renderTitle:function(){var o=this.padding,n=this.options.title,q=0;if(n.text){if(!this.title){this.title=this.chart.renderer.label(n.text,o-3,o-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)}q=this.title.getBBox().height;this.contentGroup.attr({translateY:q})}this.titleHeight=q},renderItem:function(W){var q;var V=this,U=V.chart,T=U.renderer,S=V.options,R=S.layout==="horizontal",P=S.symbolWidth,O=S.symbolPadding,N=V.itemStyle,M=V.itemHiddenStyle,L=V.padding,J=!S.rtl,K=S.width,E=S.itemMarginBottom||0,C=V.itemMarginTop,F=V.initialItemX,G=W.legendItem,z=W.series||W,A=z.options,x=A.showCheckbox,w=S.useHTML;if(!G&&(W.legendGroup=T.g("legend-item").attr({zIndex:1}).add(V.scrollGroup),z.drawLegendSymbol(V,W),W.legendItem=G=T.text(S.labelFormat?ad(S.labelFormat,W):S.labelFormatter.call(W),J?P+O:-O,V.baseline,w).css(ao(W.visible?N:M)).attr({align:J?"left":"right",zIndex:2}).add(W.legendGroup),(w?G:W.legendGroup).on("mouseover",function(){W.setState("hover");G.css(V.options.itemHoverStyle)}).on("mouseout",function(){G.css(W.visible?N:M);W.setState()}).on("click",function(n){var o=function(){W.setVisible()},n={browserEvent:n};W.firePointEvent?W.firePointEvent("legendItemClick",n,o):a8(W,"legendItemClick",n,o)}),V.colorizeItem(W,W.visible),A&&x)){W.checkbox=aS("input",{type:"checkbox",checked:W.selected,defaultChecked:W.selected},S.itemCheckboxStyle,U.container),a4(W.checkbox,"click",function(n){a8(W,"checkboxClick",{checked:n.target.checked},function(){W.select()})})}T=G.getBBox();q=W.legendItemWidth=S.itemWidth||P+O+T.width+L+(x?20:0),S=q;V.itemHeight=P=T.height;if(R&&V.itemX-F+S>(K||U.chartWidth-2*L-F)){V.itemX=F,V.itemY+=C+V.lastLineHeight+E,V.lastLineHeight=0}V.maxItemWidth=av(V.maxItemWidth,S);V.lastItemY=C+V.itemY+E;V.lastLineHeight=av(P,V.lastLineHeight);W._legendItemPos=[V.itemX,V.itemY];R?V.itemX+=S:(V.itemY+=C+P+E,V.lastLineHeight=P);V.offsetWidth=K||av(R?V.itemX-F:S,V.offsetWidth)},render:function(){var E=this,C=E.chart,A=C.renderer,z=E.group,x,w,v,u,t=E.box,s=E.options,q=E.padding,n=s.borderWidth,o=s.backgroundColor;E.itemX=E.initialItemX;E.itemY=E.initialItemY;E.offsetWidth=0;E.lastItemY=0;if(!z){E.group=z=A.g("legend").attr({zIndex:7}).add(),E.contentGroup=A.g().attr({zIndex:1}).add(z),E.scrollGroup=A.g().add(E.contentGroup),E.clipRect=A.clipRect(0,0,9999,C.chartHeight),E.contentGroup.clip(E.clipRect)}E.renderTitle();x=[];ay(C.series,function(G){var F=G.options;F.showInLegend&&!au(F.linkedTo)&&(x=x.concat(G.legendItems||(F.legendType==="point"?G.data:G)))});bR(x,function(G,F){return(G.options&&G.options.legendIndex||0)-(F.options&&F.options.legendIndex||0)});s.reversed&&x.reverse();E.allItems=x;E.display=w=!!x.length;ay(x,function(F){E.renderItem(F)});v=s.width||E.offsetWidth;u=E.lastItemY+E.lastLineHeight+E.titleHeight;u=E.handleOverflow(u);if(n||o){v+=q;u+=q;if(t){if(v>0&&u>0){t[t.isNew?"attr":"animate"](t.crisp(null,null,null,v,u)),t.isNew=!1}}else{E.box=t=A.rect(0,0,v,u,s.borderRadius,n||0).attr({stroke:s.borderColor,"stroke-width":n||0,fill:o||aZ}).add(z).shadow(s.shadow),t.isNew=!0}t[w?"show":"hide"]()}E.legendWidth=v;E.legendHeight=u;ay(x,function(F){E.positionItem(F)});w&&z.align(ar({width:v,height:u},s),!0,"spacingBox");C.isResizing||this.positionCheckboxes()},handleOverflow:function(C){var A=this,z=this.chart,x=z.renderer,w=this.options,v=w.y,v=z.spacingBox.height+(w.verticalAlign==="top"?-v:v)-this.padding,u=w.maxHeight,t=this.clipRect,s=w.navigation,q=aw(s.animation,!0),o=s.arrowSize||12,n=this.nav;w.layout==="horizontal"&&(v/=2);u&&(v=bc(v,u));if(C>v&&!w.useHTML){this.clipHeight=z=v-20-this.titleHeight;this.pageCount=ac(C/z);this.currentPage=aw(this.currentPage,1);this.fullHeight=C;t.attr({height:z});if(!n){this.nav=n=x.g().attr({zIndex:1}).add(this.group),this.up=x.symbol("triangle",0,0,o,o).on("click",function(){A.scroll(-1,q)}).add(n),this.pager=x.text("",15,10).css(s.style).add(n),this.down=x.symbol("triangle-down",0,0,o,o).on("click",function(){A.scroll(1,q)}).add(n)}A.scroll(0);C=v}else{if(n){t.attr({height:z.chartHeight}),n.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0}}return C},scroll:function(x,w){var v=this.pageCount,u=this.currentPage+x,t=this.clipHeight,s=this.options.navigation,q=s.activeColor,o=s.inactiveColor,s=this.pager,n=this.padding;u>v&&(u=v);if(u>0){w!==ap&&bA(w,this.chart),this.nav.attr({translateX:n,translateY:t+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:u===1?o:q}).css({cursor:u===1?"default":"pointer"}),s.attr({text:u+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:u===v?o:q}).css({cursor:u===v?"default":"pointer"}),t=-bc(t*(u-1),this.fullHeight-t+n)+1,this.scrollGroup.animate({translateY:t}),s.attr({text:u+"/"+v}),this.currentPage=u,this.positionCheckboxes(t)}}};bC.prototype={init:function(o,n){var v,u=o.series;o.series=null;v=ao(aW,o);v.series=o.series=u;var u=v.chart,t=u.margin,t=aR(t)?t:[t,t,t,t];this.optionsMarginTop=aw(u.marginTop,t[0]);this.optionsMarginRight=aw(u.marginRight,t[1]);this.optionsMarginBottom=aw(u.marginBottom,t[2]);this.optionsMarginLeft=aw(u.marginLeft,t[3]);this.runChartClick=(t=u.events)&&!!t.click;this.bounds={h:{},v:{}};this.callback=n;this.isResizing=0;this.options=v;this.axes=[];this.series=[];this.hasCartesianSeries=u.showAxes;var s=this,q;s.index=bO.length;bO.push(s);u.reflow!==!1&&a4(s,"load",function(){s.initReflow()});if(t){for(q in t){a4(s,q,t[q])}}s.xAxis=[];s.yAxis=[];s.animation=bB?!1:aw(u.animation,!0);s.pointCount=0;s.counters=new i;s.firstRender()},initSeries:function(o){var n=this.options.chart;(n=bs[o.type||n.type||n.defaultSeriesType])||m(17,!0);n=new n;n.init(this,o);return n},addSeries:function(o,n,t){var s,q=this;o&&(n=aw(n,!0),a8(q,"addSeries",{options:o},function(){s=q.initSeries(o);q.isDirtyLegend=!0;n&&q.redraw(t)}));return s},addAxis:function(o,n,t,s){var n=n?"xAxis":"yAxis",q=this.options;new br(this,ao(o,{index:this[n].length}));q[n]=a6(q[n]||{});q[n].push(o);aw(t,!0)&&this.redraw(s)},isInsidePlot:function(o,n,s){var q=s?n:o,o=s?o:n;return q>=0&&q<=this.plotWidth&&o>=0&&o<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&ay(this.axes,function(n){n.adjustTickAmount()});this.maxTicks=null},redraw:function(E){var C=this.axes,A=this.series,z=this.pointer,x=this.legend,w=this.isDirtyLegend,v,u=this.isDirtyBox,t=A.length,s=t,q=this.renderer,n=q.isHidden(),o=[];bA(E,this);for(n&&this.cloneRenderTo();s--;){if(E=A[s],E.isDirty&&E.options.stacking){v=!0;break}}if(v){for(s=t;s--;){if(E=A[s],E.options.stacking){E.isDirty=!0}}}ay(A,function(F){F.isDirty&&F.options.legendType==="point"&&(w=!0)});if(w&&x.options.enabled){x.render(),this.isDirtyLegend=!1}if(this.hasCartesianSeries){if(!this.isResizing){this.maxTicks=null,ay(C,function(F){F.setScale()})}this.adjustTickAmounts();this.getMargins();ay(C,function(F){if(F.isDirtyExtremes){F.isDirtyExtremes=!1,o.push(function(){a8(F,"afterSetExtremes",F.getExtremes())})}if(F.isDirty||u||v){F.redraw(),u=!0}})}u&&this.drawChartBox();ay(A,function(F){F.isDirty&&F.visible&&(!F.isCartesian||F.xAxis)&&F.redraw()});z&&z.reset&&z.reset(!0);q.draw();a8(this,"redraw");n&&this.cloneRenderTo(!0);ay(o,function(F){F.call()})},showLoading:function(o){var n=this.options,s=this.loadingDiv,q=n.loading;if(!s){this.loadingDiv=s=aS(b,{className:"highcharts-loading"},ar(q.style,{left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px",zIndex:10,display:aZ}),this.container),this.loadingSpan=aS("span",null,q.labelStyle,s)}this.loadingSpan.innerHTML=o||n.lang.loading;if(!this.loadingShown){a1(s,{opacity:0,display:""}),ai(s,{opacity:q.style.opacity},{duration:q.showDuration||0}),this.loadingShown=!0}},hideLoading:function(){var o=this.options,n=this.loadingDiv;n&&ai(n,{opacity:0},{duration:o.loading.hideDuration||100,complete:function(){a1(n,{display:aZ})}});this.loadingShown=!1},get:function(o){var n=this.axes,t=this.series,s,q;for(s=0;s<n.length;s++){if(n[s].options.id===o){return n[s]}}for(s=0;s<t.length;s++){if(t[s].options.id===o){return t[s]}}for(s=0;s<t.length;s++){q=t[s].points||[];for(n=0;n<q.length;n++){if(q[n].id===o){return q[n]}}}return null},getAxes:function(){var o=this,n=this.options,q=n.xAxis=a6(n.xAxis||{}),n=n.yAxis=a6(n.yAxis||{});ay(q,function(t,s){t.index=s;t.isX=!0});ay(n,function(t,s){t.index=s});q=q.concat(n);ay(q,function(s){new br(o,s)});o.adjustTickAmounts()},getSelectedPoints:function(){var n=[];ay(this.series,function(o){n=n.concat(bl(o.points,function(q){return q.selected}))});return n},getSelectedSeries:function(){return bl(this.series,function(n){return n.selected})},showResetZoom:function(){var o=this,n=aW.lang,u=o.options.chart.resetZoomButton,t=u.theme,s=t.states,q=u.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=o.renderer.button(n.resetZoom,null,null,function(){o.zoomOut()},t,s&&s.hover).attr({align:u.position.align,title:n.resetZoomTitle}).add().align(u.position,!1,q)},zoomOut:function(){var n=this;a8(n,"selection",{resetSelection:!0},function(){n.zoom()})},zoom:function(o){var n,t=this.pointer,s=!1,q;!o||o.resetSelection?ay(this.axes,function(u){n=u.zoom()}):ay(o.xAxis.concat(o.yAxis),function(u){var w=u.axis,v=w.isXAxis;if(t[v?"zoomX":"zoomY"]||t[v?"pinchX":"pinchY"]){n=w.zoom(u.min,u.max),w.displayBtn&&(s=!0)}});q=this.resetZoomButton;if(s&&!q){this.showResetZoom()}else{if(!s&&aR(q)){this.resetZoomButton=q.destroy()}}n&&this.redraw(aw(this.options.chart.animation,o&&o.animation,this.pointCount<100))},pan:function(o){var n=this.xAxis[0],u=this.mouseDownX,t=n.pointRange/2,s=n.getExtremes(),q=n.translate(u-o,!0)+t,u=n.translate(u+this.plotWidth-o,!0)-t;(t=this.hoverPoints)&&ay(t,function(v){v.setState()});n.series.length&&q>bc(s.dataMin,s.min)&&u<av(s.dataMax,s.max)&&n.setExtremes(q,u,!0,!1,{trigger:"pan"});this.mouseDownX=o;a1(this.container,{cursor:"move"})},setTitle:function(o,n){var q;var u=this,t=u.options,s;s=t.title=ao(t.title,o);q=t.subtitle=ao(t.subtitle,n),t=q;ay([["title",o,s],["subtitle",n,t]],function(w){var v=w[0],z=u[v],x=w[1],w=w[2];z&&x&&(u[v]=z=z.destroy());w&&w.text&&!z&&(u[v]=u.renderer.text(w.text,0,0,w.useHTML).attr({align:w.align,"class":"highcharts-"+v,zIndex:w.zIndex||4}).css(w.style).add().align(w,!1,"spacingBox"))})},getChartSize:function(){var o=this.options.chart,n=this.renderToClone||this.renderTo;this.containerWidth=bt(n,"width");this.containerHeight=bt(n,"height");this.chartWidth=av(0,o.width||this.containerWidth||600);this.chartHeight=av(0,aw(o.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(o){var n=this.renderToClone,q=this.container;o?n&&(this.renderTo.appendChild(q),y(n),delete this.renderToClone):(q&&this.renderTo.removeChild(q),this.renderToClone=n=this.renderTo.cloneNode(0),a1(n,{position:"absolute",top:"-9999px",display:"block"}),am.body.appendChild(n),q&&n.appendChild(q))},getContainer:function(){var o,n=this.options.chart,t,s,q;this.renderTo=o=n.renderTo;q="highcharts-"+bk++;if(bN(o)){this.renderTo=o=am.getElementById(o)}o||m(13,!0);t=aq(bi(o,"data-highcharts-chart"));!isNaN(t)&&bO[t]&&bO[t].destroy();bi(o,"data-highcharts-chart",this.index);o.innerHTML="";o.offsetWidth||this.cloneRenderTo();this.getChartSize();t=this.chartWidth;s=this.chartHeight;this.container=o=aS(b,{className:"highcharts-container"+(n.className?" "+n.className:""),id:q},ar({position:"relative",overflow:"hidden",width:t+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0},n.style),this.renderToClone||o);this.renderer=n.forExport?new bw(o,t,s,!0):new c(o,t,s);bB&&this.renderer.create(this,o,t,s)},getMargins:function(){var M=this.options.chart,L=M.spacingTop,K=M.spacingRight,J=M.spacingBottom,M=M.spacingLeft,G,F=this.legend,E=this.optionsMarginTop,C=this.optionsMarginLeft,A=this.optionsMarginRight,z=this.optionsMarginBottom,x=this.options.title,v=this.options.subtitle,w=this.options.legend,u=aw(w.margin,10),q=w.x,o=w.y,s=w.align,n=w.verticalAlign;this.resetMargins();G=this.axisOffset;if((this.title||this.subtitle)&&!au(this.optionsMarginTop)){if(v=av(this.title&&!x.floating&&!x.verticalAlign&&x.y||0,this.subtitle&&!v.floating&&!v.verticalAlign&&v.y||0)){this.plotTop=av(this.plotTop,v+aw(x.margin,15)+L)}}if(F.display&&!w.floating){if(s==="right"){if(!au(A)){this.marginRight=av(this.marginRight,F.legendWidth-q+u+K)}}else{if(s==="left"){if(!au(C)){this.plotLeft=av(this.plotLeft,F.legendWidth+q+u+M)}}else{if(n==="top"){if(!au(E)){this.plotTop=av(this.plotTop,F.legendHeight+o+u+L)}}else{if(n==="bottom"&&!au(z)){this.marginBottom=av(this.marginBottom,F.legendHeight-o+u+J)}}}}}this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&ay(this.axes,function(t){t.getOffset()});au(C)||(this.plotLeft+=G[3]);au(E)||(this.plotTop+=G[0]);au(z)||(this.marginBottom+=G[2]);au(A)||(this.marginRight+=G[1]);this.setChartSize()},initReflow:function(){function o(u){var w=t.width||bt(s,"width"),v=t.height||bt(s,"height"),u=u?u.target:bd;if(!n.hasUserSize&&w&&v&&(u===bd||u===am)){if(w!==n.containerWidth||v!==n.containerHeight){clearTimeout(q),n.reflowTimeout=q=setTimeout(function(){if(n.container){n.setSize(w,v,!1),n.hasUserSize=null}},100)}n.containerWidth=w;n.containerHeight=v}}var n=this,t=n.options.chart,s=n.renderTo,q;a4(bd,"resize",o);a4(n,"destroy",function(){aY(bd,"resize",o)})},setSize:function(o,n,v){var u=this,t,s,q;u.isResizing+=1;q=function(){u&&a8(u,"endResize",null,function(){u.isResizing-=1})};bA(v,u);u.oldChartHeight=u.chartHeight;u.oldChartWidth=u.chartWidth;if(au(o)){u.chartWidth=t=av(0,at(o)),u.hasUserSize=!!t}if(au(n)){u.chartHeight=s=av(0,at(n))}a1(u.container,{width:t+"px",height:s+"px"});u.setChartSize(!0);u.renderer.setSize(t,s,v);u.maxTicks=null;ay(u.axes,function(w){w.isDirty=!0;w.setScale()});ay(u.series,function(w){w.isDirty=!0});u.isDirtyLegend=!0;u.isDirtyBox=!0;u.getMargins();u.redraw(v);u.oldChartHeight=null;a8(u,"resize");bI===!1?q():setTimeout(q,bI&&bI.duration||500)},setChartSize:function(J){var G=this.inverted,F=this.renderer,E=this.chartWidth,C=this.chartHeight,A=this.options.chart,z=A.spacingTop,x=A.spacingRight,w=A.spacingBottom,v=A.spacingLeft,u=this.clipOffset,s,t,n,q;this.plotLeft=s=at(this.plotLeft);this.plotTop=t=at(this.plotTop);this.plotWidth=n=av(0,at(E-s-this.marginRight));this.plotHeight=q=av(0,at(C-t-this.marginBottom));this.plotSizeX=G?q:n;this.plotSizeY=G?n:q;this.plotBorderWidth=G=A.plotBorderWidth||0;this.spacingBox=F.spacingBox={x:v,y:z,width:E-v-x,height:C-z-w};this.plotBox=F.plotBox={x:s,y:t,width:n,height:q};F=ac(av(G,u[3])/2);E=ac(av(G,u[0])/2);this.clipBox={x:F,y:E,width:aT(this.plotSizeX-av(G,u[1])/2-F),height:aT(this.plotSizeY-av(G,u[2])/2-E)};J||ay(this.axes,function(o){o.setAxisSize();o.setAxisTranslation()})},resetMargins:function(){var o=this.options.chart,n=o.spacingRight,s=o.spacingBottom,q=o.spacingLeft;this.plotTop=aw(this.optionsMarginTop,o.spacingTop);this.marginRight=aw(this.optionsMarginRight,n);this.marginBottom=aw(this.optionsMarginBottom,s);this.plotLeft=aw(this.optionsMarginLeft,q);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var W=this.options.chart,V=this.renderer,U=this.chartWidth,T=this.chartHeight,S=this.chartBackground,R=this.plotBackground,P=this.plotBorder,O=this.plotBGImage,N=W.borderWidth||0,M=W.backgroundColor,L=W.plotBackgroundColor,J=W.plotBackgroundImage,K=W.plotBorderWidth||0,E,F=this.plotLeft,G=this.plotTop,z=this.plotWidth,C=this.plotHeight,A=this.plotBox,x=this.clipRect,w=this.clipBox;E=N+(W.shadow?8:0);if(N||M){if(S){S.animate(S.crisp(null,null,null,U-E,T-E))}else{S={fill:M||aZ};if(N){S.stroke=W.borderColor,S["stroke-width"]=N}this.chartBackground=V.rect(E/2,E/2,U-E,T-E,W.borderRadius,N).attr(S).add().shadow(W.shadow)}}if(L){R?R.animate(A):this.plotBackground=V.rect(F,G,z,C,0).attr({fill:L}).add().shadow(W.plotShadow)}if(J){O?O.animate(A):this.plotBGImage=V.image(J,F,G,z,C).add()}x?x.animate({width:w.width,height:w.height}):this.clipRect=V.clipRect(w);if(K){P?P.animate(P.crisp(null,F,G,z,C)):this.plotBorder=V.rect(F,G,z,C,0,K).attr({stroke:W.plotBorderColor,"stroke-width":K,zIndex:1}).add()}this.isDirtyBox=!1},propFromSeries:function(){var o=this,n=o.options.chart,u,t=o.options.series,s,q;ay(["inverted","angular","polar"],function(v){u=bs[n.type||n.defaultSeriesType];q=o[v]||n[v]||u&&u.prototype[v];for(s=t&&t.length;!q&&s--;){(u=bs[t[s].type])&&u.prototype[v]&&(q=!0)}o[v]=q})},render:function(){var o=this,n=o.axes,v=o.renderer,u=o.options,t=u.labels,s=u.credits,q;o.setTitle();o.legend=new bT(o,u.legend);ay(n,function(w){w.setScale()});o.getMargins();o.maxTicks=null;ay(n,function(w){w.setTickPositions(!0);w.setMaxTicks()});o.adjustTickAmounts();o.getMargins();o.drawChartBox();o.hasCartesianSeries&&ay(n,function(w){w.render()});if(!o.seriesGroup){o.seriesGroup=v.g("series-group").attr({zIndex:3}).add()}ay(o.series,function(w){w.translate();w.setTooltipPoints();w.render()});t.items&&ay(t.items,function(w){var A=ar(t.style,w.style),z=aq(A.left)+o.plotLeft,x=aq(A.top)+o.plotTop+12;delete A.left;delete A.top;v.text(w.html,z,x).attr({zIndex:2}).css(A).add()});if(s.enabled&&!o.credits){q=s.href,o.credits=v.text(s.text,0,0).on("click",function(){if(q){location.href=q}}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position)}o.hasRendered=!0},destroy:function(){var o=this,n=o.axes,u=o.series,t=o.container,s,q=t&&t.parentNode;a8(o,"destroy");bO[o.index]=ap;o.renderTo.removeAttribute("data-highcharts-chart");aY(o);for(s=n.length;s--;){n[s]=n[s].destroy()}for(s=u.length;s--;){u[s]=u[s].destroy()}ay("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(v){var w=o[v];w&&w.destroy&&(o[v]=w.destroy())});if(t){t.innerHTML="",aY(t),q&&y(t)}for(s in o){delete o[s]}},isReadyToRender:function(){var n=this;return !aM&&bd==bd.top&&am.readyState!=="complete"||bB&&!bd.canvg?(bB?aj.push(function(){n.firstRender()},n.options.global.canvasToolsURL):am.attachEvent("onreadystatechange",function(){am.detachEvent("onreadystatechange",n.firstRender);am.readyState==="complete"&&n.firstRender()}),!1):!0},firstRender:function(){var o=this,n=o.options,q=o.callback;if(o.isReadyToRender()){o.getContainer(),a8(o,"init"),o.resetMargins(),o.setChartSize(),o.propFromSeries(),o.getAxes(),ay(n.series||[],function(s){o.initSeries(s)}),a8(o,"beforeRender"),o.pointer=new k(o,n),o.render(),o.renderer.draw(),q&&q.apply(o,[o]),ay(o.callbacks,function(s){s.apply(o,[o])}),o.cloneRenderTo(!0),a8(o,"load")}}};bC.prototype.callbacks=[];var bW=function(){};bW.prototype={init:function(o,n,q){this.series=o;this.applyOptions(n,q);this.pointAttr={};if(o.options.colorByPoint&&(n=o.options.colors||o.chart.options.colors,this.color=this.color||n[o.colorCounter++],o.colorCounter===n.length)){o.colorCounter=0}o.chart.pointCount++;return this},applyOptions:function(o,n){var s=this.series,q=s.pointValKey,o=bW.prototype.optionsToObject.call(this,o);ar(this,o);this.options=this.options?ar(this.options,o):o;if(q){this.y=this[q]}if(this.x===ap&&s){this.x=n===ap?s.autoIncrement():n}return this},optionsToObject:function(o){var n,v=this.series,u=v.pointArrayMap||["y"],t=u.length,s=0,q=0;if(typeof o==="number"||o===null){n={y:o}}else{if(a7(o)){n={};if(o.length>t){v=typeof o[0];if(v==="string"){n.name=o[0]}else{if(v==="number"){n.x=o[0]}}s++}for(;q<t;){n[u[q++]]=o[s++]}}else{if(typeof o==="object"){n=o;if(o.dataLabels){v._hasPointLabels=!0}if(o.marker){v._hasPointMarkers=!0}}}}return n},destroy:function(){var o=this.series.chart,n=o.hoverPoints,q;o.pointCount--;if(n&&(this.setState(),bv(n,this),!n.length)){o.hoverPoints=null}if(this===o.hoverPoint){this.onMouseOut()}if(this.graphic||this.dataLabel){aY(this),this.destroyElements()}this.legendItem&&o.legend.destroyItem(this);for(q in this){this[q]=null}},destroyElements:function(){for(var o="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n,q=6;q--;){n=o[q],this[n]&&(this[n]=this[n].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(o,n){var t=this,s=t.series,q=s.chart,o=aw(o,!t.selected);t.firePointEvent(o?"select":"unselect",{accumulate:n},function(){t.selected=t.options.selected=o;s.options.data[h(t,s.data)]=t.options;t.setState(o&&"select");n||ay(q.getSelectedPoints(),function(u){if(u.selected&&u!==t){u.selected=u.options.selected=!1,s.options.data[h(u,s.data)]=u.options,u.setState(""),u.firePointEvent("unselect")}})})},onMouseOver:function(o){var n=this.series,t=n.chart,s=t.tooltip,q=t.hoverPoint;if(q&&q!==this){q.onMouseOut()}this.firePointEvent("mouseOver");s&&(!s.shared||n.noSharedTooltip)&&s.refresh(this,o);this.setState("hover");t.hoverPoint=this},onMouseOut:function(){var o=this.series.chart,n=o.hoverPoints;if(!n||h(this,n)===-1){this.firePointEvent("mouseOut"),this.setState(),o.hoverPoint=null}},tooltipFormatter:function(o){var n=this.series,u=n.tooltipOptions,t=u.valueDecimals,s=u.valuePrefix||"",q=u.valueSuffix||"";ay(n.pointArrayMap||["y"],function(v){v="{point."+v;if(s||q){o=o.replace(v+"}",s+v+"}"+q)}aK(t)&&(o=o.replace(v+"}",v+":,."+t+"f}"))});return ad(o,{point:this,series:this.series})},update:function(x,w,v){var u=this,t=u.series,s=u.graphic,q,o=t.data,n=t.chart,w=aw(w,!0);u.firePointEvent("update",{options:x},function(){u.applyOptions(x);aR(x)&&(t.getAttribs(),s&&s.attr(u.pointAttr[t.state]));q=h(u,o);t.xData[q]=u.x;t.yData[q]=t.toYData?t.toYData(u):u.y;t.zData[q]=u.z;t.options.data[q]=u.options;t.isDirty=!0;t.isDirtyData=!0;w&&n.redraw(v)})},remove:function(o,n){var v=this,u=v.series,t=u.chart,s,q=u.data;bA(n,t);o=aw(o,!0);v.firePointEvent("remove",null,function(){s=h(v,q);q.splice(s,1);u.options.data.splice(s,1);u.xData.splice(s,1);u.yData.splice(s,1);u.zData.splice(s,1);v.destroy();u.isDirty=!0;u.isDirtyData=!0;o&&t.redraw()})},firePointEvent:function(o,n,t){var s=this,q=this.series.options;(q.point.events[o]||s.options&&s.options.events&&s.options.events[o])&&this.importEvents();o==="click"&&q.allowPointSelect&&(t=function(u){s.select(null,u.ctrlKey||u.metaKey||u.shiftKey)});a8(this,o,n,t)},importEvents:function(){if(!this.hasImportedEvents){var o=ao(this.series.options.point,this.options).events,n;this.events=o;for(n in o){a4(this,n,o[n])}this.hasImportedEvents=!0}},setState:function(E){var C=this.plotX,A=this.plotY,z=this.series,x=z.options.states,w=aP[z.type].marker&&z.options.marker,v=w&&!w.enabled,u=w&&w.states[E],t=u&&u.enabled===!1,s=z.stateMarkerGraphic,q=this.marker||{},n=z.chart,o=this.pointAttr,E=E||"";if(!(E===this.state||this.selected&&E!=="select"||x[E]&&x[E].enabled===!1||E&&(t||v&&!u.enabled))){if(this.graphic){x=w&&this.graphic.symbolName&&o[E].r,this.graphic.attr(ao(o[E],x?{x:C-x,y:A-x,width:2*x,height:2*x}:{}))}else{if(E&&u){x=u.radius,q=q.symbol||z.symbol,s&&s.currentSymbol!==q&&(s=s.destroy()),s?s.attr({x:C-x,y:A-x}):(z.stateMarkerGraphic=s=n.renderer.symbol(q,C-x,A-x,2*x,2*x).attr(o[E]).add(z.markerGroup),s.currentSymbol=q)}if(s){s[E&&n.isInsidePlot(C,A)?"show":"hide"]()}}this.state=E}}};var aU=function(){};aU.prototype={isCartesian:!0,type:"line",pointClass:bW,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(o,n){var t,s,q=o.series;this.chart=o;this.options=n=this.setOptions(n);this.bindAxes();ar(this,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0});if(bB){n.animation=!1}s=n.events;for(t in s){a4(this,t,s[t])}if(s&&s.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect){o.runTrackerClick=!0}this.getColor();this.getSymbol();this.setData(n.data,!1);if(this.isCartesian){o.hasCartesianSeries=!0}q.push(this);this._i=q.length-1;bR(q,function(v,u){return aw(v.options.index,v._i)-aw(u.options.index,v._i)});ay(q,function(v,u){v.index=u;v.name=v.name||"Series "+(u+1)});t=n.linkedTo;this.linkedSeries=[];if(bN(t)&&(t=t===":previous"?q[this.index-1]:o.get(t))){t.linkedSeries.push(this),this.linkedParent=t}},bindAxes:function(){var o=this,n=o.options,s=o.chart,q;o.isCartesian&&ay(["xAxis","yAxis"],function(t){ay(s[t],function(u){q=u.options;if(n[t]===q.index||n[t]!==ap&&n[t]===q.id||n[t]===ap&&q.index===0){u.series.push(o),o[t]=u,u.isDirty=!0}});o[t]||m(17,!0)})},autoIncrement:function(){var o=this.options,n=this.xIncrement,n=aw(n,o.pointStart,0);this.pointInterval=aw(this.pointInterval,o.pointInterval,1);this.xIncrement=n+this.pointInterval;return n},getSegments:function(){var o=-1,n=[],t,s=this.points,q=s.length;if(q){if(this.options.connectNulls){for(t=q;t--;){s[t].y===null&&s.splice(t,1)}s.length&&(n=[s])}else{ay(s,function(v,u){v.y===null?(u>o+1&&n.push(s.slice(o+1,u)),o=u):u===q-1&&n.push(s.slice(o+1,u+1))})}}this.segments=n},setOptions:function(o){var n=this.chart.options,s=n.plotOptions,q=s[this.type];this.userOptions=o;o=ao(q,s.series,o);this.tooltipOptions=ao(n.tooltip,o.tooltip);q.marker===null&&delete o.marker;return o},getColor:function(){var o=this.options,n=this.userOptions,t=this.chart.options.colors,s=this.chart.counters,q;q=o.color||aP[this.type].color;if(!q&&!o.colorByPoint){au(n._colorIndex)?o=n._colorIndex:(n._colorIndex=s.color,o=s.color++),q=t[o]}this.color=q;s.wrapColor(t.length)},getSymbol:function(){var o=this.userOptions,n=this.options.marker,s=this.chart,q=s.options.symbols,s=s.counters;this.symbol=n.symbol;if(!this.symbol){au(o._symbolIndex)?o=o._symbolIndex:(o._symbolIndex=s.symbol,o=s.symbol++),this.symbol=q[o]}if(/^url/.test(this.symbol)){n.radius=0}s.wrapSymbol(q.length)},drawLegendSymbol:function(o){var n=this.options,v=n.marker,u=o.options.symbolWidth,t=this.chart.renderer,s=this.legendGroup,o=o.baseline,q;if(n.lineWidth){q={"stroke-width":n.lineWidth};if(n.dashStyle){q.dashstyle=n.dashStyle}this.legendLine=t.path(["M",0,o-4,"L",u,o-4]).attr(q).add(s)}if(v&&v.enabled){n=v.radius,this.legendSymbol=t.symbol(this.symbol,u/2-n,o-4-n,2*n,2*n).add(s)}},addPoint:function(J,G,F,E){var C=this.options,A=this.data,z=this.graph,x=this.area,w=this.chart,v=this.xData,u=this.yData,s=this.zData,t=this.names,o=z&&z.shift||0,q=C.data;bA(E,w);if(z&&F){z.shift=o+1}if(x){if(F){x.shift=o+1}x.isArea=!0}G=aw(G,!0);E={series:this};this.pointClass.prototype.applyOptions.apply(E,[J]);v.push(E.x);u.push(this.toYData?this.toYData(E):E.y);s.push(E.z);if(t){t[E.x]=E.name}q.push(J);C.legendType==="point"&&this.generatePoints();F&&(A[0]&&A[0].remove?A[0].remove(!1):(A.shift(),v.shift(),u.shift(),s.shift(),q.shift()));this.getAttribs();this.isDirtyData=this.isDirty=!0;G&&w.redraw()},setData:function(J,G){var F=this.points,E=this.options,C=this.chart,A=null,z=this.xAxis,x=z&&z.categories&&!z.categories.length?[]:null,w;this.xIncrement=null;this.pointRange=z&&z.categories?1:E.pointRange;this.colorCounter=0;var v=[],u=[],s=[],t=J?J.length:[],o=(w=this.pointArrayMap)&&w.length,q=!!this.toYData;if(t>(E.turboThreshold||1000)){for(w=0;A===null&&w<t;){A=J[w],w++}if(aK(A)){A=aw(E.pointStart,0);E=aw(E.pointInterval,1);for(w=0;w<t;w++){v[w]=A,u[w]=J[w],A+=E}this.xIncrement=A}else{if(a7(A)){if(o){for(w=0;w<t;w++){E=J[w],v[w]=E[0],u[w]=E.slice(1,o+1)}}else{for(w=0;w<t;w++){E=J[w],v[w]=E[0],u[w]=E[1]}}}}}else{for(w=0;w<t;w++){if(J[w]!==ap&&(E={series:this},this.pointClass.prototype.applyOptions.apply(E,[J[w]]),v[w]=E.x,u[w]=q?this.toYData(E):E.y,s[w]=E.z,x&&E.name)){x[w]=E.name}}}this.requireSorting&&v.length>1&&v[1]<v[0]&&m(15);bN(u[0])&&m(14,!0);this.data=[];this.options.data=J;this.xData=v;this.yData=u;this.zData=s;this.names=x;for(w=F&&F.length||0;w--;){F[w]&&F[w].destroy&&F[w].destroy()}if(z){z.minRange=z.userMinRange}this.isDirty=this.isDirtyData=C.isDirtyBox=!0;aw(G,!0)&&C.redraw(!1)},remove:function(o,n){var s=this,q=s.chart,o=aw(o,!0);if(!s.isRemoving){s.isRemoving=!0,a8(s,"remove",null,function(){s.destroy();q.isDirtyLegend=q.isDirtyBox=!0;o&&q.redraw(n)})}s.isRemoving=!1},processData:function(C){var A=this.xData,z=this.yData,x=A.length,w=0,v=x,u,t,s=this.xAxis,q=this.options,o=q.cropThreshold,n=this.isCartesian;if(n&&!this.isDirty&&!s.isDirty&&!this.yAxis.isDirty&&!C){return !1}if(n&&this.sorted&&(!o||x>o||this.forceCrop)){if(C=s.getExtremes(),s=C.min,o=C.max,A[x-1]<s||A[0]>o){A=[],z=[]}else{if(A[0]<s||A[x-1]>o){for(C=0;C<x;C++){if(A[C]>=s){w=av(0,C-1);break}}for(;C<x;C++){if(A[C]>o){v=C+1;break}}A=A.slice(w,v);z=z.slice(w,v);u=!0}}}for(C=A.length-1;C>0;C--){if(x=A[C]-A[C-1],x>0&&(t===ap||x<t)){t=x}}this.cropped=u;this.cropStart=w;this.processedXData=A;this.processedYData=z;if(q.pointRange===null){this.pointRange=t||1}this.closestPointRange=t},generatePoints:function(){var E=this.options.data,C=this.data,A,z=this.processedXData,x=this.processedYData,w=this.pointClass,v=z.length,u=this.cropStart||0,t,s=this.hasGroupedData,q,n=[],o;if(!C&&!s){C=[],C.length=E.length,C=this.data=C}for(o=0;o<v;o++){t=u+o,s?n[o]=(new w).init(this,[z[o]].concat(a6(x[o]))):(C[t]?q=C[t]:E[t]!==ap&&(C[t]=q=(new w).init(this,E[t],z[o])),n[o]=q)}if(C&&(v!==(A=C.length)||s)){for(o=0;o<A;o++){if(o===u&&!s&&(o+=v),C[o]){C[o].destroyElements(),C[o].plotX=ap}}}this.data=C;this.points=n},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var L=this.options,K=L.stacking,J=this.xAxis,G=J.categories,F=this.yAxis,E=this.points,C=E.length,A=!!this.modifyValue,z,x=F.series,w=x.length,u=L.pointPlacement==="between",L=L.threshold;w--;){if(x[w].visible){x[w]===this&&(z=!0);break}}for(w=0;w<C;w++){var x=E[w],v=x.x,s=x.y,t=x.low,o=F.stacks[(s<L?"-":"")+this.stackKey];if(F.isLog&&s<=0){x.y=s=null}x.plotX=J.translate(v,0,0,0,1,u);if(K&&this.visible&&o&&o[v]){t=o[v],o=t.total,t.cum=t=t.cum-s,s=t+s,z&&(t=aw(L,F.min)),F.isLog&&t<=0&&(t=null),K==="percent"&&(t=o?t*100/o:0,s=o?s*100/o:0),x.percentage=o?x.y*100/o:0,x.total=x.stackTotal=o,x.stackY=s}x.yBottom=au(t)?F.translate(t,0,1,0,1):null;A&&(s=this.modifyValue(s,x));x.plotY=typeof s==="number"&&s!==Infinity?at(F.translate(s,0,1,0,1)*10)/10:ap;x.clientX=u?J.translate(v,0,0,0,1):x.plotX;x.negative=x.y<(L||0);x.category=G&&G[x.x]!==ap?G[x.x]:x.x}this.getSegments()},setTooltipPoints:function(o){var n=[],w,v,u=(w=this.xAxis)?w.tooltipLen||w.len:this.chart.plotSizeX,t,s,q=[];if(this.options.enableMouseTracking!==!1){if(o){this.tooltipPoints=null}ay(this.segments||this.points,function(x){n=n.concat(x)});w&&w.reversed&&(n=n.reverse());o=n.length;for(s=0;s<o;s++){t=n[s];w=n[s-1]?v+1:0;for(v=n[s+1]?av(0,aT((t.clientX+(n[s+1]?n[s+1].clientX:u))/2)):u;w>=0&&w<=v;){q[w++]=t}}this.tooltipPoints=q}},tooltipHeaderFormatter:function(o){var n=this.tooltipOptions,v=n.xDateFormat,u=this.xAxis,t=u&&u.options.type==="datetime",s=n.headerFormat,q;if(t&&!v){for(q in bj){if(bj[q]>=u.closestPointRange){v=n.dateTimeLabelFormats[q];break}}}t&&v&&aK(o.key)&&(s=s.replace("{point.key}","{point.key:"+v+"}"));return ad(s,{point:o,series:this})},onMouseOver:function(){var o=this.chart,n=o.hoverSeries;if(n&&n!==this){n.onMouseOut()}this.options.events.mouseOver&&a8(this,"mouseOver");this.setState("hover");o.hoverSeries=this},onMouseOut:function(){var o=this.options,n=this.chart,s=n.tooltip,q=n.hoverPoint;if(q){q.onMouseOut()}this&&o.events.mouseOut&&a8(this,"mouseOut");s&&!o.stickyTracking&&(!s.shared||this.noSharedTooltip)&&s.hide();this.setState();n.hoverSeries=null},animate:function(o){var n=this,w=n.chart,v=w.renderer,u;u=n.options.animation;var t=w.clipBox,s=w.inverted,q;if(u&&!aR(u)){u=aP[n.type].animation}q="_sharedClip"+u.duration+u.easing;if(o){o=w[q],u=w[q+"m"],o||(w[q]=o=v.clipRect(ar(t,{width:0})),w[q+"m"]=u=v.clipRect(-99,s?-w.plotLeft:-w.plotTop,99,s?w.chartWidth:w.chartHeight)),n.group.clip(o),n.markerGroup.clip(u),n.sharedClipKey=q}else{if(o=w[q]){o.animate({width:w.plotSizeX},u),w[q+"m"].animate({width:w.plotSizeX+99},u)}n.animate=null;n.animationTimeout=setTimeout(function(){n.afterAnimate()},u.duration)}},afterAnimate:function(){var o=this.chart,n=this.sharedClipKey,q=this.group;q&&this.options.clip!==!1&&(q.clip(o.clipRect),this.markerGroup.clip());setTimeout(function(){n&&o[n]&&(o[n]=o[n].destroy(),o[n+"m"]=o[n+"m"].destroy())},100)},drawPoints:function(){var G,F=this.points,E=this.chart,C,A,z,x,w,v,u,t,q=this.options.marker,s,o=this.markerGroup;if(q.enabled||this._hasPointMarkers){for(z=F.length;z--;){if(x=F[z],C=x.plotX,A=x.plotY,t=x.graphic,v=x.marker||{},G=q.enabled&&v.enabled===ap||v.enabled,s=E.isInsidePlot(C,A,E.inverted),G&&A!==ap&&!isNaN(A)&&x.y!==null){if(G=x.pointAttr[x.selected?"select":""],w=G.r,v=aw(v.symbol,this.symbol),u=v.indexOf("url")===0,t){t.attr({visibility:s?aM?"inherit":"visible":"hidden"}).animate(ar({x:C-w,y:A-w},t.symbolName?{width:2*w,height:2*w}:{}))}else{if(s&&(w>0||u)){x.graphic=E.renderer.symbol(v,C-w,A-w,2*w,2*w).attr(G).add(o)}}}else{if(t){x.graphic=t.destroy()}}}}},convertAttribs:function(o,n,w,v){var u=this.pointAttrToOptions,t,s,q={},o=o||{},n=n||{},w=w||{},v=v||{};for(t in u){s=u[t],q[t]=aw(o[s],n[t],w[t],v[t])}return q},getAttribs:function(){var G=this,F=G.options,E=aP[G.type].marker?F.marker:F,C=E.states,A=C.hover,z,x=G.color,w={stroke:x,fill:x},v=G.points||[],u=[],t,q=G.pointAttrToOptions,s=F.negativeColor,n;F.marker?(A.radius=A.radius||E.radius+2,A.lineWidth=A.lineWidth||E.lineWidth+1):A.color=A.color||bQ(A.color||x).brighten(A.brightness).get();u[""]=G.convertAttribs(E,w);ay(["hover","select"],function(o){u[o]=G.convertAttribs(C[o],u[""])});G.pointAttr=u;for(x=v.length;x--;){w=v[x];if((E=w.options&&w.options.marker||w.options)&&E.enabled===!1){E.radius=0}if(w.negative){w.color=w.fillColor=s}z=F.colorByPoint||w.color;if(w.options){for(n in q){au(E[q[n]])&&(z=!0)}}if(z){E=E||{};t=[];C=E.states||{};z=C.hover=C.hover||{};if(!F.marker){z.color=bQ(z.color||w.color).brighten(z.brightness||A.brightness).get()}t[""]=G.convertAttribs(ar({color:w.color},E),u[""]);t.hover=G.convertAttribs(C.hover,u.hover,t[""]);t.select=G.convertAttribs(C.select,u.select,t[""]);if(w.negative&&F.marker){t[""].fill=t.hover.fill=t.select.fill=G.convertAttribs({fillColor:s}).fill}}else{t=u}w.pointAttr=t}},update:function(o,n){var s=this.chart,q=this.type,o=ao(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},o);this.remove(!1);ar(this,bs[o.type||q].prototype);this.init(s,o);aw(n,!0)&&s.redraw(!1)},destroy:function(){var x=this,w=x.chart,v=/AppleWebKit\/533/.test(bp),u,t,s=x.data||[],q,o,n;a8(x,"destroy");aY(x);ay(["xAxis","yAxis"],function(z){if(n=x[z]){bv(n.series,x),n.isDirty=n.forceRedraw=!0}});x.legendItem&&x.chart.legend.destroyItem(x);for(t=s.length;t--;){(q=s[t])&&q.destroy&&q.destroy()}x.points=null;clearTimeout(x.animationTimeout);ay("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(z){x[z]&&(u=v&&z==="group"?"hide":"destroy",x[z][u]())});if(w.hoverSeries===x){w.hoverSeries=null}bv(w.series,x);for(o in x){delete x[o]}},drawDataLabels:function(){var o=this,n=o.options.dataLabels,v=o.points,u,t,s,q;if(n.enabled||o._hasPointLabels){o.dlProcessOptions&&o.dlProcessOptions(n),q=o.plotGroup("dataLabelsGroup","data-labels",o.visible?"visible":"hidden",n.zIndex||6),t=n,ay(v,function(F){var C,A=F.dataLabel,z,w,x=F.connector,E=!0;u=F.options&&F.options.dataLabels;C=t.enabled||u&&u.enabled;if(A&&!C){F.dataLabel=A.destroy()}else{if(C){C=n.rotation;n=ao(t,u);z=F.getLabelConfig();s=n.format?ad(n.format,z):n.formatter.call(z,n);n.style.color=aw(n.color,n.style.color,o.color,"black");if(A){if(au(s)){A.attr({text:s}),E=!1}else{if(F.dataLabel=A=A.destroy(),x){F.connector=x.destroy()}}}else{if(au(s)){A={fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,r:n.borderRadius||0,rotation:C,padding:n.padding,zIndex:1};for(w in A){A[w]===ap&&delete A[w]}A=F.dataLabel=o.chart.renderer[C?"text":"label"](s,0,-999,null,null,null,n.useHTML).attr(A).css(n.style).add(q).shadow(n.shadow)}}A&&o.alignDataLabel(F,A,n,null,E)}}})}},alignDataLabel:function(x,w,v,u,t){var s=this.chart,q=s.inverted,o=aw(x.plotX,-999),x=aw(x.plotY,-999),n=w.getBBox(),u=ar({x:q?s.plotWidth-x:o,y:at(q?s.plotHeight-o:x),width:0,height:0},u);ar(v,{width:n.width,height:n.height});v.rotation?(u={align:v.align,x:u.x+v.x+u.width/2,y:u.y+v.y+u.height/2},w[t?"attr":"animate"](u)):w.align(v,null,u);w.attr({visibility:v.crop===!1||s.isInsidePlot(o,x,q)?s.renderer.isSVG?"inherit":"visible":"hidden"})},getSegmentPath:function(o){var n=this,s=[],q=n.options.step;ay(o,function(x,w){var v=x.plotX,u=x.plotY,t;n.getPointSpline?s.push.apply(s,n.getPointSpline(o,x,w)):(s.push(w?"L":"M"),q&&w&&(t=o[w-1],q==="right"?s.push(t.plotX,u):q==="center"?s.push((t.plotX+v)/2,t.plotY,(t.plotX+v)/2,u):s.push(v,t.plotY)),s.push(x.plotX,x.plotY))});return s},getGraphPath:function(){var o=this,n=[],s,q=[];ay(o.segments,function(t){s=o.getSegmentPath(t);t.length>1?n=n.concat(s):q.push(t[0])});o.singlePoints=q;return o.graphPath=n},drawGraph:function(){var o=this,n=this.options,v=[["graph",n.lineColor||this.color]],u=n.lineWidth,t=n.dashStyle,s=this.getGraphPath(),q=n.negativeColor;q&&v.push(["graphNeg",q]);ay(v,function(A,z){var x=A[0],w=o[x];if(w){bJ(w),w.animate({d:s})}else{if(u&&s.length){w={stroke:A[1],"stroke-width":u,zIndex:1};if(t){w.dashstyle=t}o[x]=o.chart.renderer.path(s).attr(w).add(o.group).shadow(!z&&n.shadow)}}})},clipNeg:function(){var x=this.options,w=this.chart,v=w.renderer,u=x.negativeColor,t,s=this.posClip,q=this.negClip;t=w.chartWidth;var o=w.chartHeight,n=av(t,o);if(u&&this.graph){u=ac(this.yAxis.len-this.yAxis.translate(x.threshold||0)),x={x:0,y:0,width:n,height:u},n={x:0,y:u,width:n,height:n-u},w.inverted&&v.isVML&&(x={x:w.plotWidth-u-w.plotLeft,y:0,width:t,height:o},n={x:u+w.plotLeft-t,y:0,width:w.plotLeft+u,height:t}),this.yAxis.reversed?(w=n,t=x):(w=x,t=n),s?(s.animate(w),q.animate(t)):(this.posClip=s=v.clipRect(w),this.graph.clip(s),this.negClip=q=v.clipRect(t),this.graphNeg.clip(q),this.area&&(this.area.clip(s),this.areaNeg.clip(q)))}},invertGroups:function(){function o(){var s={width:n.yAxis.len,height:n.xAxis.len};ay(["group","markerGroup"],function(t){n[t]&&n[t].attr(s).invert()})}var n=this,q=n.chart;a4(q,"resize",o);a4(n,"destroy",function(){aY(q,"resize",o)});o();n.invertGroups=o},plotGroup:function(z,x,w,v,u){var t=this[z],s=!t,q=this.chart,o=this.xAxis,n=this.yAxis;s&&(this[z]=t=q.renderer.g(x).attr({visibility:w,zIndex:v||0.1}).add(u));t[s?"attr":"animate"]({translateX:o?o.left:q.plotLeft,translateY:n?n.top:q.plotTop});return t},render:function(){var o=this.chart,n,w=this.options,v=w.animation&&!!this.animate&&o.renderer.isSVG,u=this.visible?"visible":"hidden",t=w.zIndex,s=this.hasRendered,q=o.seriesGroup;n=this.plotGroup("group","series",u,t,q);this.markerGroup=this.plotGroup("markerGroup","markers",u,t,q);v&&this.animate(!0);this.getAttribs();n.inverted=o.inverted;this.drawGraph&&(this.drawGraph(),this.clipNeg());this.drawDataLabels();this.drawPoints();this.options.enableMouseTracking!==!1&&this.drawTracker();o.inverted&&this.invertGroups();w.clip!==!1&&!this.sharedClipKey&&!s&&n.clip(o.clipRect);v?this.animate():s||this.afterAnimate();this.isDirty=this.isDirtyData=!1;this.hasRendered=!0},redraw:function(){var o=this.chart,n=this.isDirtyData,t=this.group,s=this.xAxis,q=this.yAxis;t&&(o.inverted&&t.attr({width:o.plotWidth,height:o.plotHeight}),t.animate({translateX:aw(s&&s.left,o.plotLeft),translateY:aw(q&&q.top,o.plotTop)}));this.translate();this.setTooltipPoints(!0);this.render();n&&a8(this,"updatedData")},setState:function(o){var n=this.options,t=this.graph,s=this.graphNeg,q=n.states,n=n.lineWidth,o=o||"";if(this.state!==o){this.state=o,q[o]&&q[o].enabled===!1||(o&&(n=q[o].lineWidth||n+1),t&&!t.dashstyle&&(o={"stroke-width":n},t.attr(o),s&&s.attr(o)))}},setVisible:function(o,n){var w=this,v=w.chart,u=w.legendItem,t,s=v.options.chart.ignoreHiddenSeries,q=w.visible;t=(w.visible=o=w.userOptions.visible=o===ap?!q:o)?"show":"hide";ay(["group","dataLabelsGroup","markerGroup","tracker"],function(x){if(w[x]){w[x][t]()}});if(v.hoverSeries===w){w.onMouseOut()}u&&v.legend.colorizeItem(w,o);w.isDirty=!0;w.options.stacking&&ay(v.series,function(x){if(x.options.stacking&&x.visible){x.isDirty=!0}});ay(w.linkedSeries,function(x){x.setVisible(o,!1)});if(s){v.isDirtyBox=!0}n!==!1&&v.redraw();a8(w,t)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){this.selected=n=n===ap?!this.selected:n;if(this.checkbox){this.checkbox.checked=n}a8(this,n?"select":"unselect")},drawTracker:function(){var G=this,F=G.options,E=F.trackByArea,C=[].concat(E?G.areaPath:G.graphPath),A=C.length,z=G.chart,x=z.pointer,w=z.renderer,v=z.options.tooltip.snap,u=G.tracker,t=F.cursor,t=t&&{cursor:t},q=G.singlePoints,s,o=function(){if(z.hoverSeries!==G){G.onMouseOver()}};if(A&&!E){for(s=A+1;s--;){C[s]==="M"&&C.splice(s+1,0,C[s+1]-v,C[s+2],"L"),(s&&C[s]==="M"||s===A)&&C.splice(s,0,"L",C[s-2]+v,C[s-1])}}for(s=0;s<q.length;s++){A=q[s],C.push("M",A.plotX-v,A.plotY,"L",A.plotX+v,A.plotY)}if(u){u.attr({d:C})}else{if(G.tracker=u=w.path(C).attr({"class":"highcharts-tracker","stroke-linejoin":"round",visibility:G.visible?"visible":"hidden",stroke:bU,fill:E?bU:aZ,"stroke-width":F.lineWidth+(E?0:2*v),zIndex:2}).addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(n){x.onTrackerMouseOut(n)}).css(t).add(G.markerGroup),bL){u.on("touchstart",o)}}}};a2=f(aU);bs.line=a2;aP.area=ao(aQ,{threshold:0});a2=f(aU,{type:"area",getSegments:function(){var o=[],n=this.yAxis.stacks[this.stackKey],u={},t,s;t=this.points;var q;if(this.options.stacking&&!this.cropped){for(s=0;s<t.length;s++){u[t[s].x]=t[s]}for(q in n){u[q]?o.push(u[q]):(t=this.xAxis.translate(q),s=this.yAxis.toPixels(n[q].cum,!0),o.push({y:null,plotX:t,clientX:t,plotY:s,yBottom:s,onMouseOver:bm}))}o=[o]}else{aU.prototype.getSegments.call(this),o=this.segments}this.segments=o},getSegmentPath:function(o){var n=aU.prototype.getSegmentPath.call(this,o),t=[].concat(n),s,q=this.options;n.length===3&&t.push("L",n[1],n[2]);if(q.stacking&&!this.closedStacks){for(s=o.length-1;s>=0;s--){s<o.length-1&&q.step&&t.push(o[s+1].plotX,o[s].yBottom),t.push(o[s].plotX,o[s].yBottom)}}else{this.closeSegment(t,o)}this.areaPath=this.areaPath.concat(t);return n},closeSegment:function(o,n){var q=this.yAxis.getThreshold(this.options.threshold);o.push("L",n[n.length-1].plotX,q,"L",n[0].plotX,q)},drawGraph:function(){this.areaPath=[];aU.prototype.drawGraph.apply(this);var o=this,n=this.areaPath,s=this.options,q=[["area",this.color,s.fillColor]];s.negativeColor&&q.push(["areaNeg",s.negativeColor,s.negativeFillColor]);ay(q,function(v){var u=v[0],t=o[u];t?t.animate({d:n}):o[u]=o.chart.renderer.path(n).attr({fill:aw(v[2],bQ(v[1]).setOpacity(s.fillOpacity||0.75).get()),zIndex:0}).add(o.group)})},drawLegendSymbol:function(o,n){n.legendSymbol=this.chart.renderer.rect(0,o.baseline-11,o.options.symbolWidth,12,2).attr({zIndex:3}).add(n.legendGroup)}});bs.area=a2;aP.spline=ao(aQ);a3=f(aU,{type:"spline",getPointSpline:function(C,A,z){var x=A.plotX,w=A.plotY,v=C[z-1],u=C[z+1],t,s,q,o;if(v&&u){C=v.plotY;q=u.plotX;var u=u.plotY,n;t=(1.5*x+v.plotX)/2.5;s=(1.5*w+C)/2.5;q=(1.5*x+q)/2.5;o=(1.5*w+u)/2.5;n=(o-s)*(q-x)/(q-t)+w-o;s+=n;o+=n;s>C&&s>w?(s=av(C,w),o=2*w-s):s<C&&s<w&&(s=bc(C,w),o=2*w-s);o>u&&o>w?(o=av(u,w),s=2*w-o):o<u&&o<w&&(o=bc(u,w),s=2*w-o);A.rightContX=q;A.rightContY=o}z?(A=["C",v.rightContX||v.plotX,v.rightContY||v.plotY,t||x,s||w,x,w],v.rightContX=v.rightContY=null):A=["M",x,w];return A}});bs.spline=a3;aP.areaspline=ao(aP.area);by=a2.prototype;a3=f(a3,{type:"areaspline",closedStacks:!0,getSegmentPath:by.getSegmentPath,closeSegment:by.closeSegment,drawGraph:by.drawGraph});bs.areaspline=a3;aP.column=ao(aQ,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});a3=f(aU,{type:"column",tooltipOutsidePlot:!0,requireSorting:!1,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},trackerGroups:["group","dataLabelsGroup"],init:function(){aU.prototype.init.apply(this,arguments);var o=this,n=o.chart;n.hasRendered&&ay(n.series,function(q){if(q.type===o.type){q.isDirty=!0}})},getColumnMetrics:function(){var A=this,z=A.chart,x=A.options,w=this.xAxis,v=w.reversed,u,t={},s,q=0;x.grouping===!1?q=1:ay(z.series,function(C){var E=C.options;if(C.type===A.type&&C.visible&&A.options.group===E.group){E.stacking?(u=C.stackKey,t[u]===ap&&(t[u]=q++),s=t[u]):E.grouping!==!1&&(s=q++),C.columnIndex=s}});var z=bc(aV(w.transA)*(w.ordinalSlope||x.pointRange||w.closestPointRange||1),w.len),w=z*x.groupPadding,o=(z-2*w)/q,n=x.pointWidth,x=au(n)?(o-n)/2:o*x.pointPadding,n=aw(n,o-2*x);return A.columnMetrics={width:n,offset:x+(w+((v?q-(A.columnIndex||0):A.columnIndex)||0)*o-z/2)*(v?-1:1)}},translate:function(){var A=this,z=A.chart,x=A.options,w=x.stacking,v=x.borderWidth,u=A.yAxis,t=A.translatedThreshold=u.getThreshold(x.threshold),s=aw(x.minPointLength,5),x=A.getColumnMetrics(),q=x.width,o=ac(av(q,1+2*v)),n=x.offset;aU.prototype.translate.apply(A);ay(A.points,function(K){var C=bc(av(-999,K.plotY),u.len+999),J=aw(K.yBottom,t),G=K.plotX+n,E=ac(bc(C,J)),C=ac(av(C,J)-E),F=u.stacks[(K.y<0?"-":"")+A.stackKey];w&&A.visible&&F&&F[K.x]&&F[K.x].setOffset(n,o);aV(C)<s&&s&&(C=s,E=aV(E-t)>s?J-s:t-(u.translate(K.y,0,1,0,1)<=t?s:0));K.barX=G;K.pointWidth=q;K.shapeType="rect";K.shapeArgs=K=z.renderer.Element.prototype.crisp.call(0,v,G,E,o,C);v%2&&(K.y-=1,K.height+=1)})},getSymbol:bm,drawLegendSymbol:a2.prototype.drawLegendSymbol,drawGraph:bm,drawPoints:function(){var o=this,n=o.options,s=o.chart.renderer,q;ay(o.points,function(v){var u=v.plotY,t=v.graphic;if(u!==ap&&!isNaN(u)&&v.y!==null){q=v.shapeArgs,t?(bJ(t),t.animate(ao(q))):v.graphic=s[v.shapeType](q).attr(v.pointAttr[v.selected?"select":""]).add(o.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius)}else{if(t){v.graphic=t.destroy()}}})},drawTracker:function(){var o=this,n=o.chart.pointer,t=o.options.cursor,s=t&&{cursor:t},q=function(u){var w=u.target,v;for(o.onMouseOver();w&&!v;){v=w.point,w=w.parentNode}if(v!==ap){v.onMouseOver(u)}};ay(o.points,function(u){if(u.graphic){u.graphic.element.point=u}if(u.dataLabel){u.dataLabel.element.point=u}});o._hasTracking?o._hasTracking=!0:ay(o.trackerGroups,function(u){if(o[u]&&(o[u].addClass("highcharts-tracker").on("mouseover",q).on("mouseout",function(v){n.onTrackerMouseOut(v)}).css(s),bL)){o[u].on("touchstart",q)}})},alignDataLabel:function(z,x,w,v,u){var t=this.chart,s=t.inverted,q=z.dlBox||z.shapeArgs,o=z.below||z.plotY>aw(this.translatedThreshold,t.plotSizeY),n=aw(w.inside,!!this.options.stacking);if(q&&(v=ao(q),s&&(v={x:t.plotWidth-v.y-v.height,y:t.plotHeight-v.x-v.width,width:v.height,height:v.width}),!n)){s?(v.x+=o?0:v.width,v.width=0):(v.y+=o?v.height:0,v.height=0)}w.align=aw(w.align,!s||n?"center":o?"right":"left");w.verticalAlign=aw(w.verticalAlign,s||n?"middle":o?"top":"bottom");aU.prototype.alignDataLabel.call(this,z,x,w,v,u)},animate:function(o){var n=this.yAxis,t=this.options,s=this.chart.inverted,q={};if(aM){o?(q.scaleY=0.001,o=bc(n.pos+n.len,av(n.pos,n.toPixels(t.threshold))),s?q.translateX=o-n.len:q.translateY=o,this.group.attr(q)):(q.scaleY=1,q[s?"translateX":"translateY"]=n.pos,this.group.animate(q,this.options.animation),this.animate=null)}},remove:function(){var o=this,n=o.chart;n.hasRendered&&ay(n.series,function(q){if(q.type===o.type){q.isDirty=!0}});aU.prototype.remove.apply(o,arguments)}});bs.column=a3;aP.bar=ao(aP.column);by=f(a3,{type:"bar",inverted:!0});bs.bar=by;aP.scatter=ao(aQ,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});by=f(aU,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],drawTracker:a3.prototype.drawTracker,setTooltipPoints:bm});bs.scatter=by;aP.pie=ao(aQ,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});aQ={type:"pie",isCartesian:!1,pointClass:f(bW,{init:function(){bW.prototype.init.apply(this,arguments);var o=this,n;if(o.y<0){o.y=null}ar(o,{visible:o.visible!==!1,name:aw(o.name,"Slice")});n=function(){o.slice()};a4(o,"select",n);a4(o,"unselect",n);return o},setVisible:function(o){var n=this,t=n.series,s=t.chart,q;n.visible=n.options.visible=o=o===ap?!n.visible:o;t.options.data[h(n,t.data)]=n.options;q=o?"show":"hide";ay(["graphic","dataLabel","connector","shadowGroup"],function(u){if(n[u]){n[u][q]()}});n.legendItem&&s.legend.colorizeItem(n,o);if(!t.isDirty&&t.options.ignoreHiddenPoint){t.isDirty=!0,s.redraw()}},slice:function(o,n,s){var q=this.series;bA(s,q.chart);aw(n,!0);this.sliced=this.options.sliced=o=au(o)?o:!this.sliced;q.options.data[h(this,q.data)]=this.options;o=o?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(o);this.shadowGroup&&this.shadowGroup.animate(o)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:bm,animate:function(o){var n=this,s=n.points,q=n.startAngleRad;if(!o){ay(s,function(t){var u=t.graphic,t=t.shapeArgs;u&&(u.attr({r:n.center[3]/2,start:q,end:q}),u.animate({r:t.r,start:t.start,end:t.end},n.options.animation))}),n.animate=null}},setData:function(o,n){aU.prototype.setData.call(this,o,!1);this.processData();this.generatePoints();aw(n,!0)&&this.chart.redraw()},getCenter:function(){var o=this.options,n=this.chart,v=2*(o.dataLabels&&o.dataLabels.enabled?0:o.slicedOffset||0),u=n.plotWidth-2*v,t=n.plotHeight-2*v,n=o.center,o=[aw(n[0],"50%"),aw(n[1],"50%"),o.size||"100%",o.innerSize||0],s=bc(u,t),q;return ah(o,function(x,w){q=/%$/.test(x);return(q?[u,t,s,s][w]*aq(x)/100:x)+(w<3?v:0)})},translate:function(N){this.generatePoints();var M=0,L=0,K=this.options,J=K.slicedOffset,G=J+K.borderWidth,F,E,C,A=this.startAngleRad=aH/180*((K.startAngle||0)%360-90),z=this.points,w=2*aH,x=K.dataLabels.distance,v=K.ignoreHiddenPoint,u,t=z.length,O;if(!N){this.center=N=this.getCenter()}this.getX=function(n,o){C=a0.asin((n-N[1])/(N[2]/2+x));return N[0]+(o?-1:1)*aO(C)*(N[2]/2+x)};for(u=0;u<t;u++){O=z[u],M+=v&&!O.visible?0:O.y}for(u=0;u<t;u++){O=z[u];K=M?O.y/M:0;F=at((A+L*w)*1000)/1000;if(!v||O.visible){L+=K}E=at((A+L*w)*1000)/1000;O.shapeType="arc";O.shapeArgs={x:N[0],y:N[1],r:N[2]/2,innerR:N[3]/2,start:F,end:E};C=(E+F)/2;C>0.75*w&&(C-=2*aH);O.slicedTranslation={translateX:at(aO(C)*J),translateY:at(az(C)*J)};F=aO(C)*N[2]/2;E=az(C)*N[2]/2;O.tooltipPos=[N[0]+F*0.7,N[1]+E*0.7];O.half=C<w/4?0:1;O.angle=C;O.labelPos=[N[0]+F+aO(C)*x,N[1]+E+az(C)*x,N[0]+F+aO(C)*G,N[1]+E+az(C)*G,N[0]+F,N[1]+E,x<0?"center":O.half?"right":"left",C];O.percentage=K*100;O.total=M}this.setTooltipPoints()},drawGraph:null,drawPoints:function(){var o=this,n=o.chart.renderer,v,u,t=o.options.shadow,s,q;if(t&&!o.shadowGroup){o.shadowGroup=n.g("shadow").add(o.group)}ay(o.points,function(w){u=w.graphic;q=w.shapeArgs;s=w.shadowGroup;if(t&&!s){s=w.shadowGroup=n.g("shadow").add(o.shadowGroup)}v=w.sliced?w.slicedTranslation:{translateX:0,translateY:0};s&&s.attr(v);u?u.animate(ar(q,v)):w.graphic=u=n.arc(q).setRadialReference(o.center).attr(w.pointAttr[w.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(v).add(o.group).shadow(t,s);w.visible===!1&&w.setVisible(!1)})},drawDataLabels:function(){var ce=this,cd=ce.data,cc,cb=ce.chart,ca=ce.options.dataLabels,b9=aw(ca.connectorPadding,10),b8=aw(ca.connectorWidth,1),b7=cb.plotWidth,cb=cb.plotHeight,b6,b5,b4=aw(ca.softConnector,!0),b2=ca.distance,b3=ce.center,b1=b3[2]/2,bZ=b3[1],bX=b2>0,ab,Z,X,V,bY=[[],[]],T,b0,Y,W,bb,aa=[0,0,0,0],R=function(u,s){return s.y-u.y},t=function(u,s){u.sort(function(v,w){return v.angle!==void 0&&(w.angle-v.angle)*s})};if(ca.enabled||ce._hasPointLabels){aU.prototype.drawDataLabels.apply(ce);ay(cd,function(s){s.dataLabel&&bY[s.half].push(s)});for(W=0;!V&&cd[W];){V=cd[W]&&cd[W].dataLabel&&(cd[W].dataLabel.getBBox().height||21),W++}for(W=2;W--;){var cd=[],q=[],U=bY[W],S=U.length,ba;t(U,W-0.5);if(b2>0){for(bb=bZ-b1-b2;bb<=bZ+b1+b2;bb+=V){cd.push(bb)}Z=cd.length;if(S>Z){cc=[].concat(U);cc.sort(R);for(bb=S;bb--;){cc[bb].rank=bb}for(bb=S;bb--;){U[bb].rank>=Z&&U.splice(bb,1)}S=U.length}for(bb=0;bb<S;bb++){cc=U[bb];X=cc.labelPos;cc=9999;var n,o;for(o=0;o<Z;o++){n=aV(cd[o]-X[1]),n<cc&&(cc=n,ba=o)}if(ba<bb&&cd[bb]!==null){ba=bb}else{for(Z<S-bb+ba&&cd[bb]!==null&&(ba=Z-S+bb);cd[ba]===null;){ba++}}q.push({i:ba,y:cd[ba]});cd[ba]=null}q.sort(R)}for(bb=0;bb<S;bb++){cc=U[bb];X=cc.labelPos;ab=cc.dataLabel;Y=cc.visible===!1?"hidden":"visible";cc=X[1];if(b2>0){if(Z=q.pop(),ba=Z.i,b0=Z.y,cc>b0&&cd[ba+1]!==null||cc<b0&&cd[ba-1]!==null){b0=cc}}else{b0=cc}T=ca.justify?b3[0]+(W?-1:1)*(b1+b2):ce.getX(ba===0||ba===cd.length-1?cc:b0,W);ab._attr={visibility:Y,align:X[6]};ab._pos={x:T+ca.x+({left:b9,right:-b9}[X[6]]||0),y:b0+ca.y-10};ab.connX=T;ab.connY=b0;if(this.options.size===null){Z=ab.width,T-Z<b9?aa[3]=av(at(Z-T+b9),aa[3]):T+Z>b7-b9&&(aa[1]=av(at(T+Z-b7+b9),aa[1])),b0-V/2<0?aa[0]=av(at(-b0+V/2),aa[0]):b0+V/2>cb&&(aa[2]=av(at(b0+V/2-cb),aa[2]))}}}if(ag(aa)===0||this.verifyDataLabelOverflow(aa)){this.placeDataLabels(),bX&&b8&&ay(this.points,function(s){b6=s.connector;X=s.labelPos;if((ab=s.dataLabel)&&ab._pos){T=ab.connX,b0=ab.connY,b5=b4?["M",T+(X[6]==="left"?5:-5),b0,"C",T,b0,2*X[2]-X[4],2*X[3]-X[5],X[2],X[3],"L",X[4],X[5]]:["M",T+(X[6]==="left"?5:-5),b0,"L",X[2],X[3],"L",X[4],X[5]],b6?(b6.animate({d:b5}),b6.attr("visibility",Y)):s.connector=b6=ce.chart.renderer.path(b5).attr({"stroke-width":b8,stroke:ca.connectorColor||s.color||"#606060",visibility:Y}).add(ce.group)}else{if(b6){s.connector=b6.destroy()}}})}}},verifyDataLabelOverflow:function(o){var n=this.center,u=this.options,t=u.center,s=u=u.minSize||80,q;t[0]!==null?s=av(n[2]-av(o[1],o[3]),u):(s=av(n[2]-o[1]-o[3],u),n[0]+=(o[3]-o[1])/2);t[1]!==null?s=av(bc(s,n[2]-av(o[0],o[2])),u):(s=av(bc(s,n[2]-o[0]-o[2]),u),n[1]+=(o[0]-o[2])/2);s<n[2]?(n[2]=s,this.translate(n),ay(this.points,function(v){if(v.dataLabel){v.dataLabel._pos=null}}),this.drawDataLabels()):q=!0;return q},placeDataLabels:function(){ay(this.points,function(o){var o=o.dataLabel,n;if(o){(n=o._pos)?(o.attr(o._attr),o[o.moved?"animate":"attr"](n),o.moved=!0):o&&o.attr({y:-999})}})},alignDataLabel:bm,drawTracker:a3.prototype.drawTracker,drawLegendSymbol:a2.prototype.drawLegendSymbol,getSymbol:bm};aQ=f(aU,aQ);bs.pie=aQ;ar(Highcharts,{Axis:br,Chart:bC,Color:bQ,Legend:bT,Pointer:k,Point:bW,Tick:bg,Tooltip:ae,Renderer:c,Series:aU,SVGElement:bV,SVGRenderer:bw,arrayMin:j,arrayMax:ag,charts:bO,dateFormat:bq,format:ad,pathAnim:aI,getOptions:function(){return aW},hasBidiBug:r,isTouchDevice:af,numberFormat:bF,seriesTypes:bs,setOptions:function(n){aW=ao(aW,n);bz();return aW},addEvent:a4,removeEvent:aY,createElement:aS,discardElement:y,css:a1,each:ay,extend:ar,map:ah,merge:ao,pick:aw,splat:a6,extendClass:f,pInt:aq,wrap:function(o,n,s){var q=o[n];o[n]=function(){var t=Array.prototype.slice.call(arguments);t.unshift(q);return s.apply(this,t)}},svg:aM,canvas:bB,vml:!aM&&!bB,product:"Highcharts",version:"3.0.0"})})();(function(){var g,i,b,d,a,e,k,j,f=[].slice,h={}.hasOwnProperty,c=function(o,m){for(var l in m){if(h.call(m,l)){o[l]=m[l]}}function n(){this.constructor=o}n.prototype=m.prototype;o.prototype=new n();o.__super__=m.prototype;return o};k=function(){};i=(function(){function l(){}l.prototype.addEventListener=l.prototype.on;l.prototype.on=function(n,m){this._callbacks=this._callbacks||{};if(!this._callbacks[n]){this._callbacks[n]=[]}this._callbacks[n].push(m);return this};l.prototype.emit=function(){var n,r,p,o,q,m;o=arguments[0],n=2<=arguments.length?f.call(arguments,1):[];this._callbacks=this._callbacks||{};p=this._callbacks[o];if(p){for(q=0,m=p.length;q<m;q++){r=p[q];r.apply(this,n)}}return this};l.prototype.removeListener=l.prototype.off;l.prototype.removeAllListeners=l.prototype.off;l.prototype.removeEventListener=l.prototype.off;l.prototype.off=function(q,o){var s,p,n,r,m;if(!this._callbacks||arguments.length===0){this._callbacks={};return this}p=this._callbacks[q];if(!p){return this}if(arguments.length===1){delete this._callbacks[q];return this}for(n=r=0,m=p.length;r<m;n=++r){s=p[n];if(s===o){p.splice(n,1);break}}return this};return l})();g=(function(n){var o,l;c(m,n);m.prototype.Emitter=i;m.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];m.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1000,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(q,p){return p()},init:function(){return k},forceFallback:false,fallback:function(){var u,q,r,t,p,s;this.element.className=""+this.element.className+" dz-browser-not-supported";s=this.element.getElementsByTagName("div");for(t=0,p=s.length;t<p;t++){u=s[t];if(/(^| )dz-message($| )/.test(u.className)){q=u;u.className="dz-message";continue}}if(!q){q=m.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(q)}r=q.getElementsByTagName("span")[0];if(r){if(r.textContent!=null){r.textContent=this.options.dictFallbackMessage}else{if(r.innerText!=null){r.innerText=this.options.dictFallbackMessage}}}return this.element.appendChild(this.getFallbackForm())},resize:function(q){var s,r,p;s={srcX:0,srcY:0,srcWidth:q.width,srcHeight:q.height};r=q.width/q.height;s.optWidth=this.options.thumbnailWidth;s.optHeight=this.options.thumbnailHeight;if((s.optWidth==null)&&(s.optHeight==null)){s.optWidth=s.srcWidth;s.optHeight=s.srcHeight}else{if(s.optWidth==null){s.optWidth=r*s.optHeight}else{if(s.optHeight==null){s.optHeight=(1/r)*s.optWidth}}}p=s.optWidth/s.optHeight;if(q.height<s.optHeight||q.width<s.optWidth){s.trgHeight=s.srcHeight;s.trgWidth=s.srcWidth}else{if(r>p){s.srcHeight=q.height;s.srcWidth=s.srcHeight*p}else{s.srcWidth=q.width;s.srcHeight=s.srcWidth/p}}s.srcX=(q.width-s.srcWidth)/2;s.srcY=(q.height-s.srcHeight)/2;return s},drop:function(p){return this.element.classList.remove("dz-drag-hover")},dragstart:k,dragend:function(p){return this.element.classList.remove("dz-drag-hover")},dragenter:function(p){return this.element.classList.add("dz-drag-hover")},dragover:function(p){return this.element.classList.add("dz-drag-hover")},dragleave:function(p){return this.element.classList.remove("dz-drag-hover")},paste:k,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(s){var r,A,B,y,x,u,C,q,p,z,w,t,v;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}if(this.previewsContainer){s.previewElement=m.createElement(this.options.previewTemplate.trim());s.previewTemplate=s.previewElement;this.previewsContainer.appendChild(s.previewElement);z=s.previewElement.querySelectorAll("[data-dz-name]");for(y=0,C=z.length;y<C;y++){r=z[y];r.textContent=s.name}w=s.previewElement.querySelectorAll("[data-dz-size]");for(x=0,q=w.length;x<q;x++){r=w[x];r.innerHTML=this.filesize(s.size)}if(this.options.addRemoveLinks){s._removeLink=m.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");s.previewElement.appendChild(s._removeLink)}A=(function(D){return function(E){E.preventDefault();E.stopPropagation();if(s.status===m.UPLOADING){return m.confirm(D.options.dictCancelUploadConfirmation,function(){return D.removeFile(s)})}else{if(D.options.dictRemoveFileConfirmation){return m.confirm(D.options.dictRemoveFileConfirmation,function(){return D.removeFile(s)})}else{return D.removeFile(s)}}}})(this);t=s.previewElement.querySelectorAll("[data-dz-remove]");v=[];for(u=0,p=t.length;u<p;u++){B=t[u];v.push(B.addEventListener("click",A))}return v}},removedfile:function(p){var q;if(p.previewElement){if((q=p.previewElement)!=null){q.parentNode.removeChild(p.previewElement)}}return this._updateMaxFilesReachedClass()},thumbnail:function(r,u){var q,t,p,s;if(r.previewElement){r.previewElement.classList.remove("dz-file-preview");s=r.previewElement.querySelectorAll("[data-dz-thumbnail]");for(t=0,p=s.length;t<p;t++){q=s[t];q.alt=r.name;q.src=u}return setTimeout(((function(v){return function(){return r.previewElement.classList.add("dz-image-preview")}})(this)),1)}},error:function(r,t){var s,v,q,u,p;if(r.previewElement){r.previewElement.classList.add("dz-error");if(typeof t!=="String"&&t.error){t=t.error}u=r.previewElement.querySelectorAll("[data-dz-errormessage]");p=[];for(v=0,q=u.length;v<q;v++){s=u[v];p.push(s.textContent=t)}return p}},errormultiple:k,processing:function(p){if(p.previewElement){p.previewElement.classList.add("dz-processing");if(p._removeLink){return p._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:k,uploadprogress:function(t,r,s){var u,w,q,v,p;if(t.previewElement){v=t.previewElement.querySelectorAll("[data-dz-uploadprogress]");p=[];for(w=0,q=v.length;w<q;w++){u=v[w];if(u.nodeName==="PROGRESS"){p.push(u.value=r)}else{p.push(u.style.width=""+r+"%")}}return p}},totaluploadprogress:k,sending:k,sendingmultiple:k,success:function(p){if(p.previewElement){return p.previewElement.classList.add("dz-success")}},successmultiple:k,canceled:function(p){return this.emit("error",p,"Upload canceled.")},canceledmultiple:k,complete:function(p){if(p._removeLink){p._removeLink.textContent=this.options.dictRemoveFile}if(p.previewElement){return p.previewElement.classList.add("dz-complete")}},completemultiple:k,maxfilesexceeded:k,maxfilesreached:k,queuecomplete:k,addedfiles:k,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'};o=function(){var r,q,t,u,v,s,p;u=arguments[0],t=2<=arguments.length?f.call(arguments,1):[];for(s=0,p=t.length;s<p;s++){q=t[s];for(r in q){v=q[r];u[r]=v}}return u};function m(r,q){var p,t,s;this.element=r;this.version=m.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}m.instances.push(this);this.element.dropzone=this;p=(s=m.optionsForElement(this.element))!=null?s:{};this.options=o({},this.defaultOptions,p,q!=null?q:{});if(this.options.forceFallback||!m.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((t=this.getExistingFallback())&&t.parentNode){t.parentNode.removeChild(t)}if(this.options.previewsContainer!==false){if(this.options.previewsContainer){this.previewsContainer=m.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=m.getElements(this.options.clickable,"clickable")}}this.init()}m.prototype.getAcceptedFiles=function(){var r,t,q,s,p;s=this.files;p=[];for(t=0,q=s.length;t<q;t++){r=s[t];if(r.accepted){p.push(r)}}return p};m.prototype.getRejectedFiles=function(){var r,t,q,s,p;s=this.files;p=[];for(t=0,q=s.length;t<q;t++){r=s[t];if(!r.accepted){p.push(r)}}return p};m.prototype.getFilesWithStatus=function(r){var s,u,q,t,p;t=this.files;p=[];for(u=0,q=t.length;u<q;u++){s=t[u];if(s.status===r){p.push(s)}}return p};m.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(m.QUEUED)};m.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(m.UPLOADING)};m.prototype.getAddedFiles=function(){return this.getFilesWithStatus(m.ADDED)};m.prototype.getActiveFiles=function(){var r,t,q,s,p;s=this.files;p=[];for(t=0,q=s.length;t<q;t++){r=s[t];if(r.status===m.UPLOADING||r.status===m.QUEUED){p.push(r)}}return p};m.prototype.init=function(){var r,v,u,t,q,s,p;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(m.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){u=(function(w){return function(){if(w.hiddenFileInput){w.hiddenFileInput.parentNode.removeChild(w.hiddenFileInput)}w.hiddenFileInput=document.createElement("input");w.hiddenFileInput.setAttribute("type","file");if((w.options.maxFiles==null)||w.options.maxFiles>1){w.hiddenFileInput.setAttribute("multiple","multiple")}w.hiddenFileInput.className="dz-hidden-input";if(w.options.acceptedFiles!=null){w.hiddenFileInput.setAttribute("accept",w.options.acceptedFiles)}if(w.options.capture!=null){w.hiddenFileInput.setAttribute("capture",w.options.capture)}w.hiddenFileInput.style.visibility="hidden";w.hiddenFileInput.style.position="absolute";w.hiddenFileInput.style.top="0";w.hiddenFileInput.style.left="0";w.hiddenFileInput.style.height="0";w.hiddenFileInput.style.width="0";document.querySelector(w.options.hiddenInputContainer).appendChild(w.hiddenFileInput);return w.hiddenFileInput.addEventListener("change",function(){var y,z,A,x;z=w.hiddenFileInput.files;if(z.length){for(A=0,x=z.length;A<x;A++){y=z[A];w.addFile(y)}}w.emit("addedfiles",z);return u()})}})(this);u()}this.URL=(s=window.URL)!=null?s:window.webkitURL;p=this.events;for(t=0,q=p.length;t<q;t++){r=p[t];this.on(r,this.options[r])}this.on("uploadprogress",(function(w){return function(){return w.updateTotalUploadProgress()}})(this));this.on("removedfile",(function(w){return function(){return w.updateTotalUploadProgress()}})(this));this.on("canceled",(function(w){return function(x){return w.emit("complete",x)}})(this));this.on("complete",(function(w){return function(x){if(w.getAddedFiles().length===0&&w.getUploadingFiles().length===0&&w.getQueuedFiles().length===0){return setTimeout((function(){return w.emit("queuecomplete")}),0)}}})(this));v=function(w){w.stopPropagation();if(w.preventDefault){return w.preventDefault()}else{return w.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:(function(w){return function(x){return w.emit("dragstart",x)}})(this),dragenter:(function(w){return function(x){v(x);return w.emit("dragenter",x)}})(this),dragover:(function(w){return function(y){var x;try{x=y.dataTransfer.effectAllowed}catch(z){}y.dataTransfer.dropEffect="move"===x||"linkMove"===x?"move":"copy";v(y);return w.emit("dragover",y)}})(this),dragleave:(function(w){return function(x){return w.emit("dragleave",x)}})(this),drop:(function(w){return function(x){v(x);return w.drop(x)}})(this),dragend:(function(w){return function(x){return w.emit("dragend",x)}})(this)}}];this.clickableElements.forEach((function(w){return function(x){return w.listeners.push({element:x,events:{click:function(y){if((x!==w.element)||(y.target===w.element||m.elementInside(y.target,w.element.querySelector(".dz-message")))){w.hiddenFileInput.click()}return true}}})}})(this));this.enable();return this.options.init.call(this)};m.prototype.destroy=function(){var p;this.disable();this.removeAllFiles(true);if((p=this.hiddenFileInput)!=null?p.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return m.instances.splice(m.instances.indexOf(this),1)};m.prototype.updateTotalUploadProgress=function(){var r,s,w,p,v,u,q,t;p=0;w=0;r=this.getActiveFiles();if(r.length){t=this.getActiveFiles();for(u=0,q=t.length;u<q;u++){s=t[u];p+=s.upload.bytesSent;w+=s.upload.total}v=100*p/w}else{v=100}return this.emit("totaluploadprogress",v,w,p)};m.prototype._getParamName=function(p){if(typeof this.options.paramName==="function"){return this.options.paramName(p)}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+p+"]":"")}};m.prototype.getFallbackForm=function(){var q,p,s,r;if(q=this.getExistingFallback()){return q}s='<div class="dz-fallback">';if(this.options.dictFallbackText){s+="<p>"+this.options.dictFallbackText+"</p>"}s+='<input type="file" name="'+(this._getParamName(0))+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';p=m.createElement(s);if(this.element.tagName!=="FORM"){r=m.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');r.appendChild(p)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return r!=null?r:p};m.prototype.getExistingFallback=function(){var u,r,q,t,p,s;r=function(y){var w,x,v;for(x=0,v=y.length;x<v;x++){w=y[x];if(/(^| )fallback($| )/.test(w.className)){return w}}};s=["div","form"];for(t=0,p=s.length;t<p;t++){q=s[t];if(u=r(this.element.getElementsByTagName(q))){return u}}};m.prototype.setupEventListeners=function(){var s,r,v,u,q,t,p;t=this.listeners;p=[];for(u=0,q=t.length;u<q;u++){s=t[u];p.push((function(){var w,x;w=s.events;x=[];for(r in w){v=w[r];x.push(s.element.addEventListener(r,v,false))}return x})())}return p};m.prototype.removeEventListeners=function(){var s,r,v,u,q,t,p;t=this.listeners;p=[];for(u=0,q=t.length;u<q;u++){s=t[u];p.push((function(){var w,x;w=s.events;x=[];for(r in w){v=w[r];x.push(s.element.removeEventListener(r,v,false))}return x})())}return p};m.prototype.disable=function(){var r,t,q,s,p;this.clickableElements.forEach(function(u){return u.classList.remove("dz-clickable")});this.removeEventListeners();s=this.files;p=[];for(t=0,q=s.length;t<q;t++){r=s[t];p.push(this.cancelUpload(r))}return p};m.prototype.enable=function(){this.clickableElements.forEach(function(p){return p.classList.add("dz-clickable")});return this.setupEventListeners()};m.prototype.filesize=function(x){var q,t,r,p,w,u,s,v;r=0;p="b";if(x>0){u=["TB","GB","MB","KB","b"];for(t=s=0,v=u.length;s<v;t=++s){w=u[t];q=Math.pow(this.options.filesizeBase,4-t)/10;if(x>=q){r=x/Math.pow(this.options.filesizeBase,4-t);p=w;break}}r=Math.round(10*r)/10}return"<strong>"+r+"</strong> "+p};m.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};m.prototype.drop=function(r){var q,p;if(!r.dataTransfer){return}this.emit("drop",r);q=r.dataTransfer.files;this.emit("addedfiles",q);if(q.length){p=r.dataTransfer.items;if(p&&p.length&&(p[0].webkitGetAsEntry!=null)){this._addFilesFromItems(p)}else{this.handleFiles(q)}}};m.prototype.paste=function(r){var p,q;if((r!=null?(q=r.clipboardData)!=null?q.items:void 0:void 0)==null){return}this.emit("paste",r);p=r.clipboardData.items;if(p.length){return this._addFilesFromItems(p)}};m.prototype.handleFiles=function(s){var r,t,q,p;p=[];for(t=0,q=s.length;t<q;t++){r=s[t];p.push(this.addFile(r))}return p};m.prototype._addFilesFromItems=function(r){var t,s,u,q,p;p=[];for(u=0,q=r.length;u<q;u++){s=r[u];if((s.webkitGetAsEntry!=null)&&(t=s.webkitGetAsEntry())){if(t.isFile){p.push(this.addFile(s.getAsFile()))}else{if(t.isDirectory){p.push(this._addFilesFromDirectory(t,t.name))}else{p.push(void 0)}}}else{if(s.getAsFile!=null){if((s.kind==null)||s.kind==="file"){p.push(this.addFile(s.getAsFile()))}else{p.push(void 0)}}else{p.push(void 0)}}}return p};m.prototype._addFilesFromDirectory=function(p,r){var q,s;q=p.createReader();s=(function(t){return function(u){var w,x,v;for(x=0,v=u.length;x<v;x++){w=u[x];if(w.isFile){w.file(function(y){if(t.options.ignoreHiddenFiles&&y.name.substring(0,1)==="."){return}y.fullPath=""+r+"/"+y.name;return t.addFile(y)})}else{if(w.isDirectory){t._addFilesFromDirectory(w,""+r+"/"+w.name)}}}}})(this);return q.readEntries(s,function(t){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(t):void 0:void 0})};m.prototype.accept=function(q,p){if(q.size>this.options.maxFilesize*1024*1024){return p(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(q.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!m.isValidFile(q,this.options.acceptedFiles)){return p(this.options.dictInvalidFileType)}else{if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){p(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",q)}else{return this.options.accept.call(this,q,p)}}}};m.prototype.addFile=function(p){p.upload={progress:0,total:p.size,bytesSent:0};this.files.push(p);p.status=m.ADDED;this.emit("addedfile",p);this._enqueueThumbnail(p);return this.accept(p,(function(q){return function(r){if(r){p.accepted=false;q._errorProcessing([p],r)}else{p.accepted=true;if(q.options.autoQueue){q.enqueueFile(p)}}return q._updateMaxFilesReachedClass()}})(this))};m.prototype.enqueueFiles=function(r){var q,s,p;for(s=0,p=r.length;s<p;s++){q=r[s];this.enqueueFile(q)}return null};m.prototype.enqueueFile=function(p){if(p.status===m.ADDED&&p.accepted===true){p.status=m.QUEUED;if(this.options.autoProcessQueue){return setTimeout(((function(q){return function(){return q.processQueue()}})(this)),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};m.prototype._thumbnailQueue=[];m.prototype._processingThumbnail=false;m.prototype._enqueueThumbnail=function(p){if(this.options.createImageThumbnails&&p.type.match(/image.*/)&&p.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(p);return setTimeout(((function(q){return function(){return q._processThumbnailQueue()}})(this)),0)}};m.prototype._processThumbnailQueue=function(){if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),(function(p){return function(){p._processingThumbnail=false;return p._processThumbnailQueue()}})(this))};m.prototype.removeFile=function(p){if(p.status===m.UPLOADING){this.cancelUpload(p)}this.files=j(this.files,p);this.emit("removedfile",p);if(this.files.length===0){return this.emit("reset")}};m.prototype.removeAllFiles=function(t){var q,s,p,r;if(t==null){t=false}r=this.files.slice();for(s=0,p=r.length;s<p;s++){q=r[s];if(q.status!==m.UPLOADING||t){this.removeFile(q)}}return null};m.prototype.createThumbnail=function(q,r){var p;p=new FileReader;p.onload=(function(s){return function(){if(q.type==="image/svg+xml"){s.emit("thumbnail",q,p.result);if(r!=null){r()}return}return s.createThumbnailFromUrl(q,p.result,r)}})(this);return p.readAsDataURL(q)};m.prototype.createThumbnailFromUrl=function(s,r,t,q){var p;p=document.createElement("img");if(q){p.crossOrigin=q}p.onload=(function(u){return function(){var x,w,A,C,y,v,B,z;s.width=p.width;s.height=p.height;A=u.options.resize.call(u,s);if(A.trgWidth==null){A.trgWidth=A.optWidth}if(A.trgHeight==null){A.trgHeight=A.optHeight}x=document.createElement("canvas");w=x.getContext("2d");x.width=A.trgWidth;x.height=A.trgHeight;e(w,p,(y=A.srcX)!=null?y:0,(v=A.srcY)!=null?v:0,A.srcWidth,A.srcHeight,(B=A.trgX)!=null?B:0,(z=A.trgY)!=null?z:0,A.trgWidth,A.trgHeight);C=x.toDataURL("image/png");u.emit("thumbnail",s,C);if(t!=null){return t()}}})(this);if(t!=null){p.onerror=t}return p.src=r};m.prototype.processQueue=function(){var q,s,p,r;s=this.options.parallelUploads;p=this.getUploadingFiles().length;q=p;if(p>=s){return}r=this.getQueuedFiles();if(!(r.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(r.slice(0,s-p))}else{while(q<s){if(!r.length){return}this.processFile(r.shift());q++}}};m.prototype.processFile=function(p){return this.processFiles([p])};m.prototype.processFiles=function(r){var q,s,p;for(s=0,p=r.length;s<p;s++){q=r[s];q.processing=true;q.status=m.UPLOADING;this.emit("processing",q)}if(this.options.uploadMultiple){this.emit("processingmultiple",r)}return this.uploadFiles(r)};m.prototype._getFilesWithXhr=function(r){var p,q;return q=(function(){var v,t,u,s;u=this.files;s=[];for(v=0,t=u.length;v<t;v++){p=u[v];if(p.xhr===r){s.push(p)}}return s}).call(this)};m.prototype.cancelUpload=function(t){var r,s,w,u,q,p,v;if(t.status===m.UPLOADING){s=this._getFilesWithXhr(t.xhr);for(w=0,q=s.length;w<q;w++){r=s[w];r.status=m.CANCELED}t.xhr.abort();for(u=0,p=s.length;u<p;u++){r=s[u];this.emit("canceled",r)}if(this.options.uploadMultiple){this.emit("canceledmultiple",s)}}else{if((v=t.status)===m.ADDED||v===m.QUEUED){t.status=m.CANCELED;this.emit("canceled",t);if(this.options.uploadMultiple){this.emit("canceledmultiple",[t])}}}if(this.options.autoProcessQueue){return this.processQueue()}};l=function(){var p,q;q=arguments[0],p=2<=arguments.length?f.call(arguments,1):[];if(typeof q==="function"){return q.apply(this,p)}return q};m.prototype.uploadFile=function(p){return this.uploadFiles([p])};m.prototype.uploadFiles=function(D){var S,Q,I,N,F,y,R,L,H,O,X,B,M,E,r,J,C,P,G,x,v,t,q,U,W,V,T,p,K,A,z,w,u,s;G=new XMLHttpRequest();for(x=0,U=D.length;x<U;x++){S=D[x];S.xhr=G}B=l(this.options.method,D);C=l(this.options.url,D);G.open(B,C,true);G.withCredentials=!!this.options.withCredentials;r=null;I=(function(Y){return function(){var ab,aa,Z;Z=[];for(ab=0,aa=D.length;ab<aa;ab++){S=D[ab];Z.push(Y._errorProcessing(D,r||Y.options.dictResponseError.replace("{{statusCode}}",G.status),G))}return Z}})(this);J=(function(Y){return function(ai){var ad,aa,ah,af,ae,ac,ab,Z,ag;if(ai!=null){aa=100*ai.loaded/ai.total;for(ah=0,ac=D.length;ah<ac;ah++){S=D[ah];S.upload={progress:aa,total:ai.total,bytesSent:ai.loaded}}}else{ad=true;aa=100;for(af=0,ab=D.length;af<ab;af++){S=D[af];if(!(S.upload.progress===100&&S.upload.bytesSent===S.upload.total)){ad=false}S.upload.progress=aa;S.upload.bytesSent=S.upload.total}if(ad){return}}ag=[];for(ae=0,Z=D.length;ae<Z;ae++){S=D[ae];ag.push(Y.emit("uploadprogress",S,aa,S.upload.bytesSent))}return ag}})(this);G.onload=(function(Y){return function(aa){var Z;if(D[0].status===m.CANCELED){return}if(G.readyState!==4){return}r=G.responseText;if(G.getResponseHeader("content-type")&&~G.getResponseHeader("content-type").indexOf("application/json")){try{r=JSON.parse(r)}catch(ab){aa=ab;r="Invalid JSON response from server."}}J();if(!((200<=(Z=G.status)&&Z<300))){return I()}else{return Y._finished(D,r,aa)}}})(this);G.onerror=(function(Y){return function(){if(D[0].status===m.CANCELED){return}return I()}})(this);E=(K=G.upload)!=null?K:G;E.onprogress=J;y={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){o(y,this.options.headers)}for(N in y){F=y[N];if(F){G.setRequestHeader(N,F)}}Q=new FormData();if(this.options.params){A=this.options.params;for(X in A){P=A[X];Q.append(X,P)}}for(v=0,W=D.length;v<W;v++){S=D[v];this.emit("sending",S,G,Q)}if(this.options.uploadMultiple){this.emit("sendingmultiple",D,G,Q)}if(this.element.tagName==="FORM"){z=this.element.querySelectorAll("input, textarea, select, button");for(t=0,V=z.length;t<V;t++){L=z[t];H=L.getAttribute("name");O=L.getAttribute("type");if(L.tagName==="SELECT"&&L.hasAttribute("multiple")){w=L.options;for(q=0,T=w.length;q<T;q++){M=w[q];if(M.selected){Q.append(H,M.value)}}}else{if(!O||((u=O.toLowerCase())!=="checkbox"&&u!=="radio")||L.checked){Q.append(H,L.value)}}}}for(R=p=0,s=D.length-1;0<=s?p<=s:p>=s;R=0<=s?++p:--p){Q.append(this._getParamName(R),D[R],D[R].name)}return this.submitRequest(G,Q,D)};m.prototype.submitRequest=function(r,q,p){return r.send(q)};m.prototype._finished=function(r,t,u){var q,s,p;for(s=0,p=r.length;s<p;s++){q=r[s];q.status=m.SUCCESS;this.emit("success",q,t,u);this.emit("complete",q)}if(this.options.uploadMultiple){this.emit("successmultiple",r,t,u);this.emit("completemultiple",r)}if(this.options.autoProcessQueue){return this.processQueue()}};m.prototype._errorProcessing=function(s,r,u){var q,t,p;for(t=0,p=s.length;t<p;t++){q=s[t];q.status=m.ERROR;this.emit("error",q,r,u);this.emit("complete",q)}if(this.options.uploadMultiple){this.emit("errormultiple",s,r,u);this.emit("completemultiple",s)}if(this.options.autoProcessQueue){return this.processQueue()}};return m})(i);g.version="4.2.0";g.options={};g.optionsForElement=function(l){if(l.getAttribute("id")){return g.options[b(l.getAttribute("id"))]}else{return void 0}};g.instances=[];g.forElement=function(l){if(typeof l==="string"){l=document.querySelector(l)}if((l!=null?l.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return l.dropzone};g.autoDiscover=true;g.discover=function(){var q,n,o,p,m,l;if(document.querySelectorAll){o=document.querySelectorAll(".dropzone")}else{o=[];q=function(v){var t,u,s,r;r=[];for(u=0,s=v.length;u<s;u++){t=v[u];if(/(^| )dropzone($| )/.test(t.className)){r.push(o.push(t))}else{r.push(void 0)}}return r};q(document.getElementsByTagName("div"));q(document.getElementsByTagName("form"))}l=[];for(p=0,m=o.length;p<m;p++){n=o[p];if(g.optionsForElement(n)!==false){l.push(new g(n))}else{l.push(void 0)}}return l};g.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];g.isBrowserSupported=function(){var m,n,p,l,o;m=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){m=false}else{o=g.blacklistedBrowsers;for(p=0,l=o.length;p<l;p++){n=o[p];if(n.test(navigator.userAgent)){m=false;continue}}}}else{m=false}return m};j=function(q,n){var o,p,m,l;l=[];for(p=0,m=q.length;p<m;p++){o=q[p];if(o!==n){l.push(o)}}return l};b=function(l){return l.replace(/[\-_](\w)/g,function(m){return m.charAt(1).toUpperCase()})};g.createElement=function(l){var m;m=document.createElement("div");m.innerHTML=l;return m.childNodes[0]};g.elementInside=function(m,l){if(m===l){return true}while(m=m.parentNode){if(m===l){return true}}return false};g.getElement=function(n,l){var m;if(typeof n==="string"){m=document.querySelector(n)}else{if(n.nodeType!=null){m=n}}if(m==null){throw new Error("Invalid `"+l+"` option provided. Please provide a CSS selector or a plain HTML element.")}return m};g.getElements=function(r,m){var t,o,l,q,p,u,n,s;if(r instanceof Array){l=[];try{for(q=0,u=r.length;q<u;q++){o=r[q];l.push(this.getElement(o,m))}}catch(v){t=v;l=null}}else{if(typeof r==="string"){l=[];s=document.querySelectorAll(r);for(p=0,n=s.length;p<n;p++){o=s[p];l.push(o)}}else{if(r.nodeType!=null){l=[r]}}}if(!((l!=null)&&l.length)){throw new Error("Invalid `"+m+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return l};g.confirm=function(l,n,m){if(window.confirm(l)){return n()}else{if(m!=null){return m()}}};g.isValidFile=function(o,l){var n,r,p,q,m;if(!l){return true}l=l.split(",");r=o.type;n=r.replace(/\/.*$/,"");for(q=0,m=l.length;q<m;q++){p=l[q];p=p.trim();if(p.charAt(0)==="."){if(o.name.toLowerCase().indexOf(p.toLowerCase(),o.name.length-p.length)!==-1){return true}}else{if(/\/\*$/.test(p)){if(n===p.replace(/\/.*$/,"")){return true}}else{if(r===p){return true}}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(l){return this.each(function(){return new g(this,l)})}}if(typeof module!=="undefined"&&module!==null){module.exports=g}else{window.Dropzone=g}g.ADDED="added";g.QUEUED="queued";g.ACCEPTED=g.QUEUED;g.UPLOADING="uploading";g.PROCESSING=g.UPLOADING;g.CANCELED="canceled";g.ERROR="error";g.SUCCESS="success";a=function(p){var n,l,v,o,q,u,m,t,r,s;m=p.naturalWidth;u=p.naturalHeight;l=document.createElement("canvas");l.width=1;l.height=u;v=l.getContext("2d");v.drawImage(p,0,0);o=v.getImageData(0,0,1,u).data;s=0;q=u;t=u;while(t>s){n=o[(t-1)*4+3];if(n===0){q=t}else{s=t}t=(q+s)>>1}r=t/u;if(r===0){return 1}else{return r}};e=function(t,m,r,q,s,n,v,u,l,p){var o;o=a(m);return t.drawImage(m,r,q,s,n,v,u,l,p/o)};d=function(n,r){var w,s,m,v,o,l,u,q,p;m=false;p=true;s=n.document;q=s.documentElement;w=(s.addEventListener?"addEventListener":"attachEvent");u=(s.addEventListener?"removeEventListener":"detachEvent");l=(s.addEventListener?"":"on");v=function(x){if(x.type==="readystatechange"&&s.readyState!=="complete"){return}(x.type==="load"?n:s)[u](l+x.type,v,false);if(!m&&(m=true)){return r.call(n,x.type||x)}};o=function(){var x;try{q.doScroll("left")}catch(y){x=y;setTimeout(o,50);return}return v("poll")};if(s.readyState!=="complete"){if(s.createEventObject&&q.doScroll){try{p=!n.frameElement}catch(t){}if(p){o()}}s[w](l+"DOMContentLoaded",v,false);s[w](l+"readystatechange",v,false);return n[w](l+"load",v,false)}};g._autoDiscoverFunction=function(){if(g.autoDiscover){return g.discover()}};d(window,g._autoDiscoverFunction)}).call(this);